/**
 * Widget Name: article-metrics | Version: 1.2.5 | Date: 2020-06-07T11:23:00.000Z
 */

"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t,e){return t(e={exports:{}},e.exports),e.exports}t((function(t){!function(e){var n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag",c=e.regeneratorRuntime;if(c)t.exports=c;else{(c=e.regeneratorRuntime=t.exports).wrap=m;var l={},u={};u[a]=function(){return this};var d=Object.getPrototypeOf,f=d&&d(d(P([])));f&&f!==n&&i.call(f,a)&&(u=f);var h=b.prototype=g.prototype=Object.create(u);v.prototype=h.constructor=b,b.constructor=v,b[o]=v.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(h),t},c.awrap=function(t){return{__await:t}},y(x.prototype),x.prototype[s]=function(){return this},c.AsyncIterator=x,c.async=function(t,e,n,i){var r=new x(m(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},y(h),h[o]="Generator",h[a]=function(){return this},h.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var o=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function m(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,a=Object.create(r.prototype),s=new M(i||[]);return a._invoke=function(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return S()}for(n.method=r,n.arg=a;;){var s=n.delegate;if(s){var o=w(s,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=p(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function g(){}function v(){}function b(){}function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(n,r){function a(){return new Promise((function(e,a){!function e(n,r,a,s){var o=p(t[n],t,r);if("throw"!==o.type){var c=o.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,a,s)}),(function(t){e("throw",t,a,s)})):Promise.resolve(l).then((function(t){c.value=t,a(c)}),s)}s(o.arg)}(n,r,e,a)}))}return e=e?e.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=p(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())}));var e=function(){if(document.querySelector(".toolbar-metric-container"))return JSON.parse(document.querySelector(".toolbar-metric__data").value)},n=function(){if(document.querySelector(".sidebar-metric-container"))return JSON.parse(document.querySelector(".sidebar-metric__data").value)},i=function(){if(document.querySelector(".numeric-metrics-container"))return JSON.parse(document.querySelector(".numeric-metrics__data").value)};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e,n,i){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=c(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function o(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",r="",a=Array.isArray(e),s=0;s<t.length;s++)(n=o(t[s]))&&(a&&e[s]&&(n=c(n)),i=i+r+n,r=" ");return i}(t,e):t&&"object"==r(t)?function(t){var e="",n="";for(var i in t)i&&t[i]&&l.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function c(t){var e=""+t,n=u.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}var l=Object.prototype.hasOwnProperty,u=/["&<>]/;function d(t,e){var n,i,r,a="";try{var c=t||{};(function(t,e,c){r=1,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug";var l='<svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" class="metrics-icon metrics-icon--facebook"><path d="M15.1 0H1a.9.9 0 0 0-.9.9V15a.9.9 0 0 0 .9.9h7.7V9.8H6.5V7.4h2V5.6c0-2 1.3-3.2 3.2-3.2l1.8.1v2.2h-1.3c-1 0-1.1.4-1.1 1.1v1.6h2.4L13 9.8h-2V16h4a.9.9 0 0 0 .9-.9V1a.9.9 0 0 0-.9-.9z"/></svg>',u='<svg width="16" height="14" viewBox="0 0 16 14" aria -hidden="true" class="metrics-icon metrics-icon--twitter"><path d="M14 3.6V4a11.8 11.8 0 0 1-2.3 6.5c-.7 1-1.6 1.7-2.8 2.3-1.2.7-2.4.8-3.8.8-1.6 0-3.1-.4-4.6-1.4h.8c1.4 0 2.7-.6 3.9-1.6a3 3 0 0 1-2.9-2.3h.6c.3 0 .6 0 .8-.2-.8 0-1.4-.4-1.9-1-.4-.5-.7-1.3-.7-2.1.4.2.9.3 1.4.3A3.4 3.4 0 0 1 1 2.6c0-.7.1-1.2.4-1.7.8 1 1.7 1.9 2.9 2.5a7 7 0 0 0 3.6 1v-.8c0-1 .3-1.7.9-2.4.6-.6 1.2-1 2-1s1.6.4 2.2 1c.8-.1 1.3-.4 2-.8a3 3 0 0 1-1.4 2l1.8-.5c-.4.7-.9 1.2-1.5 1.7z"/></svg>',d='<svg width="17" height="20" viewBox="0 0 17 20" aria-hidden="true" class="metrics-icon metrics-icon--news"><path d="M12.3.8h-10C1.4.8.7 1.6.7 2.5v11.7h1.6V2.5h10V.8zm2.5 3.4H5.7c-1 0-1.7.7-1.7 1.6v11.7c0 1 .7 1.7 1.7 1.7h9.1c1 0 1.7-.8 1.7-1.7V5.8c0-.9-.7-1.6-1.7-1.6zm0 13.3H5.7V5.8h9.1v11.7z"/></svg>',f='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--blog"><path d="M15.7.7H2.3C1.4.7.7 1.4.7 2.3v15L4 14h11.7c.9 0 1.6-.7 1.6-1.7v-10c0-.9-.7-1.6-1.6-1.6zm-1.7 10H4V9h10v1.7zm0-2.5H4V6.5h10v1.7zm0-2.5H4V4h10v1.7z"/></svg>',h='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--wikipedia"><path d="M9 .7a8.3 8.3 0 100 16.6A8.3 8.3 0 009 .7zm5.8 5h-2.5c-.3-1-.6-2-1.1-3 1.5.5 2.8 1.6 3.6 3zM9 2.4c.7 1 1.2 2 1.6 3.3H7.4c.4-1.2.9-2.3 1.6-3.3zm-6.5 8.3a6.7 6.7 0 010-3.4h2.9a13.7 13.7 0 000 3.4H2.5zm.7 1.6h2.5c.3 1 .6 2 1.1 3a6.7 6.7 0 01-3.6-3zm2.5-6.6H3.2c.8-1.4 2.1-2.5 3.6-3-.5 1-.8 2-1.1 3zm3.3 10c-.7-1-1.2-2.2-1.6-3.4h3.2c-.4 1.2-1 2.3-1.6 3.3zm2-5H7a11.6 11.6 0 010-3.4h4a11.6 11.6 0 010 3.4zm.2 4.6c.5-1 .8-2 1.1-3h2.5c-.8 1.4-2.1 2.5-3.6 3zm1.4-4.6a13.7 13.7 0 000-3.4h2.8a6.7 6.7 0 010 3.4h-2.8z"/></svg>',m='<svg width="20" height="14" viewBox="0 0 20 14" aria-hidden="true" class="metrics-icon metrics-icon--other"><path d="M3.3 2h15V.3h-15c-.9 0-1.6.8-1.6 1.7v9.2H0v2.5h11.7v-2.5H3.3V2zm15.9 1.7h-5c-.5 0-.9.3-.9.8v8.3c0 .5.4.9.9.9h5c.4 0 .8-.4.8-.9V4.5c0-.5-.4-.8-.8-.8zm-.9 7.5H15V5.3h3.3v5.9z"/></svg>',p={downloads:'<svg width="10" height="12" viewBox="0 0 10 12" aria-hidden="true" class="metrics-icon metrics-icon--downloads"><path d="M10 4H7V0H3v4H0l5 5 5-5zM0 10v1h10v-1H0z"/></svg>',citations:'<svg width="14" height="10" viewBox="0 0 14 10" aria-hidden="true" class="metrics-icon metrics-icon--citations"><path d="M2 9h2l2-3V1H1v5h3L2 9zm7 0h2l2-3V1H8v5h3L9 9z"/></svg>',views:'<svg width="16" height="11" viewBox="0 0 16 11" aria-hidden="true" class="metrics-icon metrics-icon--views"><path d="M8.3.2A8.1 8.1 0 0 0 .8 5.3a8.1 8.1 0 0 0 15 0A8.1 8.1 0 0 0 8.3.2zm0 8.5a3.4 3.4 0 1 1 0-6.8 3.4 3.4 0 0 1 0 6.8zm0-5.4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',facebook:"",twitter:"",reddit:'<svg width="17" height="15" viewBox="0 0 17 15" aria-hidden="true" class="metrics-icon metrics-icon--reddit"><path d="M16 7.6c0-1-.8-1.7-1.8-1.7-.4 0-.9.2-1.2.5-1.3-1-3-1.5-4.6-1.5l.8-3.7 2.6.5c0 .7.6 1.2 1.3 1.1.6 0 1.1-.7 1-1.3 0-.7-.6-1.1-1.3-1-.3 0-.7.2-.9.5L9 .4l-.4.3-.8 4.1C6 4.8 4.4 5.4 3 6.3c-.7-.7-1.8-.6-2.5 0A1.7 1.7 0 0 0 1 9.2v.6c0 2.6 3.2 4.8 7 4.8 3.9 0 7-2.2 7-4.8V9c.6-.3 1-.9 1-1.5zM4 8.7c0-.6.5-1.1 1.2-1.1s1.2.5 1.2 1.1c0 .7-.5 1.2-1.2 1.2S4 9.4 4 8.7zm7 3.3c-.9.6-2 1-3 1s-2.1-.4-3-1a.3.3 0 0 1 0-.5h.5a4 4 0 0 0 2.5.8 4 4 0 0 0 2.5-.7c.1-.2.4-.2.5 0 .1.1.1.3 0 .4zm-.2-2c-.7 0-1.2-.6-1.2-1.2 0-.7.5-1.2 1.2-1.2.6 0 1.2.5 1.2 1.2 0 .6-.5 1.2-1.2 1.2z"/></svg>',news:"",blog:"",wikipedia:"",other:""};p.facebook=l,p.twitter=u,p.news=d,p.blog=f,p.wikipedia=h,p.other=m,r=3,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug";var g="numeric-metrics--menu",v=function(t){return 0===t?"metrics-selected--js":""};r=10,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",a+='<div class="numeric-metrics full-metrics">',r=11,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",a+='<div class="metrics-header">',r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/title/templates/title-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/title/templates/title-tmpl.pug",a+='<div class="metrics-title">',r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/title/templates/title-tmpl.pug",a+='<span class="metrics-title__text">',r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/title/templates/title-tmpl.pug",r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/title/templates/title-tmpl.pug",a+="Metrics</span></div>",r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug";var b=e.dataSections;r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+='<ul class="metrics-nav metrics-rlist">',r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",function(){var t=b;if("number"==typeof t.length)for(var e=0,c=t.length;e<c;e++){var l=t[e];r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",l.months.length>1?(r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=9,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<li class="metrics-nav__item">')+"<a"+s("class",o(["metrics-nav__item-link","metrics-nav__item-link--".concat(l.id," ").concat(v(e))],[!1,!0]),!1,!1)+' href="#"'+s("title",l.title,!0,!1)+s("data-title",l.id,!0,!1)+">",r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=p[l.id])?"":n,r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=l.title)?"":n)+"</span></a></li>"):(r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<li"+s("class",o(["metrics-nav__item","metrics-nav__item--"+l.id],[!1,!0]),!1,!1)+">",r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<span"+(s("class",o(["metrics-nav__item-link","metrics-nav__item-link--disabled","metrics-nav__item-link--".concat(l.id," ").concat(v(e))],[!1,!1,!0]),!1,!1)+s("data-title",l.id,!0,!1))+' title="Insufficient data to display on the chart">',r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=p[l.id])?"":n,r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=l.title)?"":n)+"</span></span></li>")}else{c=0;for(var e in t){c++;l=t[e];r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",l.months.length>1?(r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=9,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<li class="metrics-nav__item">')+"<a"+s("class",o(["metrics-nav__item-link","metrics-nav__item-link--".concat(l.id," ").concat(v(e))],[!1,!0]),!1,!1)+' href="#"'+s("title",l.title,!0,!1)+s("data-title",l.id,!0,!1)+">",r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=p[l.id])?"":n,r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=l.title)?"":n)+"</span></a></li>"):(r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<li"+s("class",o(["metrics-nav__item","metrics-nav__item--"+l.id],[!1,!0]),!1,!1)+">",r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<span"+(s("class",o(["metrics-nav__item-link","metrics-nav__item-link--disabled","metrics-nav__item-link--".concat(l.id," ").concat(v(e))],[!1,!1,!0]),!1,!1)+s("data-title",l.id,!0,!1))+' title="Insufficient data to display on the chart">',r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=p[l.id])?"":n,r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=l.title)?"":n)+"</span></span></li>")}}}.call(this),a+="</ul></div>",r=16,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",a+='<div class="numeric-metrics__content-section">',r=17,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",a+='<div class="metrics-chart__top">',r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a+='<div class="metrics-total">',r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",function(){var t=e.dataSections;if("number"==typeof t.length)for(var l=0,u=t.length;l<u;l++){var d=t[l];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",d.months.length>1&&(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<div"+s("class",o(["metrics-total__item","".concat(v(l)," metrics-total__item--").concat(d.id)],[!1,!0]),!1,!1)+">",r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<span"+s("class",o(["metric-icon-fill","".concat(v(l)," metric-icon-fill--").concat(d.id)],[!1,!0]),!1,!1)+">",r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+(null==(n=p[d.id])?"":n)+"</span>",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=(a+='<span class="metrics-total__item-text">')+(null==(n=d.total.toLocaleString(c.language))?"":n)+"</span></div>")}else{u=0;for(var l in t){u++;d=t[l];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",d.months.length>1&&(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<div"+s("class",o(["metrics-total__item","".concat(v(l)," metrics-total__item--").concat(d.id)],[!1,!0]),!1,!1)+">",r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<span"+s("class",o(["metric-icon-fill","".concat(v(l)," metric-icon-fill--").concat(d.id)],[!1,!0]),!1,!1)+">",r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+(null==(n=p[d.id])?"":n)+"</span>",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=(a+='<span class="metrics-total__item-text">')+(null==(n=d.total.toLocaleString(c.language))?"":n)+"</span></div>")}}}.call(this),a+="</div>",r=19,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",a+='<div class="metrics-chart__right-subsection">',r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug";var y={total:"Total",last6:"Last 6 Months",last12:"Last 12 Months"},x=function(t){return"last6"===t?"metrics-selected--js":""},w=y.last6;r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",r=9,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a=(a+='<div class="metrics-tabs metrics-menu">')+'<a class="metrics-tabs__link metrics-menu__link" href="#"'+s("data-metrics-target-for",g,!0,!1)+' aria-expanded="false">',r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a=(a+='<span class="link-text">')+(null==(n=w)?"":n)+"</span></a>",r=12,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a=a+'<div class="metrics-tabs__list-container metrics-menu__dropdown-container"'+s("data-metrics-target-of",g,!0,!1)+' aria-hidden="true">',r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a+='<ul class="metrics-rlist metrics-tabs__list metrics-menu__dropdown">',r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",function(){var t=y;for(var e in t){var c=t[e];r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a=(a+='<li class="metrics-tabs__item">')+"<a"+s("class",o(["metrics-tabs__item-link",x(e)],[!1,!0]),!1,!1)+' href="#"'+s("data-title",e,!0,!1)+">",r=17,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",r=17,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug",a=(a+='<span class="tab-text">')+(null==(n=c)?"":n)+"</span></a></li>"}}.call(this),a+="</ul></div></div>",r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug";var _={title:"download",icon:'<svg width="24" height="24"viewBox="0 0 24 24" fill="none" class="metrics-icon download-icon"><path d="M7 7.3c-.6 0-1.1.5-1.1 1.2v7c0 .6.5 1.2 1.1 1.2h9.4c.6 0 1.1-.6 1.1-1.2V9.7c0-.7-.5-1.2-1.1-1.2h-4.7l-1.2-1.2zm3.5 3H13v2.3h1.7l-3 2.9-2.8-3h1.7zM12 1C5.8 1 .7 6 .7 12s5 11 11.3 11c6.2 0 11.3-5 11.3-11S18.3 1 12 1zm0 1c5.7 0 10.3 4.5 10.3 10S17.7 22 12 22C6.3 22 1.7 17.5 1.7 12S6.3 2 12 2z"/></svg>',list:{PNG:"Download PNG",CSV:"Download CSV"}};g="".concat(g,"-dm"),r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+"<div"+s("class",o(["metrics-menu","metrics-menu--".concat(_.title)],[!1,!0]),!1,!1)+">",r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+'<a class="metrics-menu__link" href="#"'+s("data-metrics-target-for",g,!0,!1)+' aria-expanded="false">',r=17,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+(null==(n=_.icon)?"":n)+"</a>",r=18,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",r=19,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+'<div class="metrics-menu__dropdown-container"'+s("data-metrics-target-of",g,!0,!1)+' aria-hidden="true">',r=20,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a+='<ul class="metrics-rlist metrics-menu__dropdown">',r=21,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",function(){var t=_.list;if("number"==typeof t.length)for(var e=0,c=t.length;e<c;e++){var l=t[e];r=22,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+"<li"+s("class",o(["metrics-menu__dropdown-item","metrics-menu__dropdown-item--".concat(e)],[!1,!0]),!1,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+'<a class="metrics-menu__dropdown-link" href="#"'+s("title",l,!0,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+(null==(n=e)?"":n)+"</a></li>"}else{c=0;for(var e in t){c++;l=t[e];r=22,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+"<li"+s("class",o(["metrics-menu__dropdown-item","metrics-menu__dropdown-item--".concat(e)],[!1,!0]),!1,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+'<a class="metrics-menu__dropdown-link" href="#"'+s("title",l,!0,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+(null==(n=e)?"":n)+"</a></li>"}}}.call(this),a+="</ul></div></div>",r=3,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",_={title:"share",icon:'<svg width="24" height="24" viewBox="0 0 24 24" class="metrics-icon share-icon"><path d="M14.7 14.7a2 2 0 0 0-1.3.5l-4.8-2.7a2 2 0 0 0 0-1l4.7-2.7c.4.3.9.5 1.4.5a2 2 0 1 0-2-1.5l-4.6 2.7a2 2 0 1 0 0 3l4.7 2.7v.5a2 2 0 1 0 1.9-2zM12 1C5.8 1 .7 6 .7 12s5 11 11.3 11c6.2 0 11.3-5 11.3-11S18.3 1 12 1zm0 1c5.7 0 10.3 4.5 10.3 10S17.7 22 12 22C6.3 22 1.7 17.5 1.7 12S6.3 2 12 2z"/></svg>',list:{facebook:"Facebook",twitter:"Twitter",linkedIn:"Linkedin"}},g="".concat(g,"-sm"),r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+"<div"+s("class",o(["metrics-menu","metrics-menu--".concat(_.title)],[!1,!0]),!1,!1)+">",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+'<a class="metrics-menu__link" href="#"'+s("data-metrics-target-for",g,!0,!1)+' aria-expanded="false">',r=17,i="/mnt/ssd/dev/source/article-metrics/src/components/menu/templates/menu-tmpl.pug",a=a+(null==(n=_.icon)?"":n)+"</a>",r=19,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a=a+'<div class="metrics-menu__dropdown-container"'+s("data-metrics-target-of",g,!0,!1)+' aria-hidden="true">',r=20,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a+='<ul class="metrics-rlist metrics-menu__dropdown social-media-links">',r=21,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",function(){var t=_.list;if("number"==typeof t.length)for(var e=0,c=t.length;e<c;e++){var l=t[e];r=22,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a=(a+='<li class="metrics-menu__dropdown-item">')+"<a"+s("class",o(["metrics-menu__dropdown-link","addthis_button_".concat(e)],[!1,!0]),!1,!1)+' href="#"'+s("title",l,!0,!1)+s("data-service",e,!0,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a=a+(null==(n=l)?"":n)+"</a></li>"}else{c=0;for(var e in t){c++;l=t[e];r=22,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a=(a+='<li class="metrics-menu__dropdown-item">')+"<a"+s("class",o(["metrics-menu__dropdown-link","addthis_button_".concat(e)],[!1,!0]),!1,!1)+' href="#"'+s("title",l,!0,!1)+s("data-service",e,!0,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/extended/ext-share-menu-tmpl.pug",a=a+(null==(n=l)?"":n)+"</a></li>"}}}.call(this),a+="</ul></div></div></div></div>",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+='<div class="metrics-chart">',r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+='<div class="metrics-chart__empty">',r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+="<span>",r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+="Not enough data to graph.</span></div></div></div>",r=26,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug";var E=[];r=28,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",function(){var n=e.dataSections;if("number"==typeof n.length)for(var a=0,s=n.length;a<s;a++){var o=n[a];r=29,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",o.countries&&(r=30,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",t.keys(o.countries).length>0&&(r=31,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",E.push(e.dataSections[a])))}else{s=0;for(var a in n){s++;o=n[a];r=29,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",o.countries&&(r=30,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",t.keys(o.countries).length>0&&(r=31,i="/mnt/ssd/dev/source/article-metrics/src/widgets/numeric-metrics/templates/numeric-metrics.pug",E.push(e.dataSections[a])))}}}.call(this),a+="</div>"}).call(this,"Object"in c?c.Object:"undefined"!=typeof Object?Object:void 0,"data"in c?c.data:"undefined"!=typeof data?data:void 0,"navigator"in c?c.navigator:"undefined"!=typeof navigator?navigator:void 0)}catch(t){!function t(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||require("fs").readFileSync(n,"utf8")}catch(n){t(e,null,i)}var a=3,s=r.split("\n"),o=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(o,c).map((function(t,e){var n=e+o+1;return(n==i?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=n,e.message=(n||"Pug")+":"+i+"\n"+a+"\n\n"+e.message,e}(t,i,r)}return a}function f(t,e,n,i){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=m(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function h(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",r="",a=Array.isArray(e),s=0;s<t.length;s++)(n=h(t[s]))&&(a&&e[s]&&(n=m(n)),i=i+r+n,r=" ");return i}(t,e):t&&"object"==r(t)?function(t){var e="",n="";for(var i in t)i&&t[i]&&p.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function m(t){var e=""+t,n=g.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}var p=Object.prototype.hasOwnProperty,g=/["&<>]/;function v(t,e){var n,i,r,a="";try{var s=t||{};(function(t,e,s,o){r=1,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug";var c='<svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" class="metrics-icon metrics-icon--facebook"><path d="M15.1 0H1a.9.9 0 0 0-.9.9V15a.9.9 0 0 0 .9.9h7.7V9.8H6.5V7.4h2V5.6c0-2 1.3-3.2 3.2-3.2l1.8.1v2.2h-1.3c-1 0-1.1.4-1.1 1.1v1.6h2.4L13 9.8h-2V16h4a.9.9 0 0 0 .9-.9V1a.9.9 0 0 0-.9-.9z"/></svg>',l='<svg width="16" height="14" viewBox="0 0 16 14" aria -hidden="true" class="metrics-icon metrics-icon--twitter"><path d="M14 3.6V4a11.8 11.8 0 0 1-2.3 6.5c-.7 1-1.6 1.7-2.8 2.3-1.2.7-2.4.8-3.8.8-1.6 0-3.1-.4-4.6-1.4h.8c1.4 0 2.7-.6 3.9-1.6a3 3 0 0 1-2.9-2.3h.6c.3 0 .6 0 .8-.2-.8 0-1.4-.4-1.9-1-.4-.5-.7-1.3-.7-2.1.4.2.9.3 1.4.3A3.4 3.4 0 0 1 1 2.6c0-.7.1-1.2.4-1.7.8 1 1.7 1.9 2.9 2.5a7 7 0 0 0 3.6 1v-.8c0-1 .3-1.7.9-2.4.6-.6 1.2-1 2-1s1.6.4 2.2 1c.8-.1 1.3-.4 2-.8a3 3 0 0 1-1.4 2l1.8-.5c-.4.7-.9 1.2-1.5 1.7z"/></svg>',u='<svg width="17" height="20" viewBox="0 0 17 20" aria-hidden="true" class="metrics-icon metrics-icon--news"><path d="M12.3.8h-10C1.4.8.7 1.6.7 2.5v11.7h1.6V2.5h10V.8zm2.5 3.4H5.7c-1 0-1.7.7-1.7 1.6v11.7c0 1 .7 1.7 1.7 1.7h9.1c1 0 1.7-.8 1.7-1.7V5.8c0-.9-.7-1.6-1.7-1.6zm0 13.3H5.7V5.8h9.1v11.7z"/></svg>',d='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--blog"><path d="M15.7.7H2.3C1.4.7.7 1.4.7 2.3v15L4 14h11.7c.9 0 1.6-.7 1.6-1.7v-10c0-.9-.7-1.6-1.6-1.6zm-1.7 10H4V9h10v1.7zm0-2.5H4V6.5h10v1.7zm0-2.5H4V4h10v1.7z"/></svg>',m='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--wikipedia"><path d="M9 .7a8.3 8.3 0 100 16.6A8.3 8.3 0 009 .7zm5.8 5h-2.5c-.3-1-.6-2-1.1-3 1.5.5 2.8 1.6 3.6 3zM9 2.4c.7 1 1.2 2 1.6 3.3H7.4c.4-1.2.9-2.3 1.6-3.3zm-6.5 8.3a6.7 6.7 0 010-3.4h2.9a13.7 13.7 0 000 3.4H2.5zm.7 1.6h2.5c.3 1 .6 2 1.1 3a6.7 6.7 0 01-3.6-3zm2.5-6.6H3.2c.8-1.4 2.1-2.5 3.6-3-.5 1-.8 2-1.1 3zm3.3 10c-.7-1-1.2-2.2-1.6-3.4h3.2c-.4 1.2-1 2.3-1.6 3.3zm2-5H7a11.6 11.6 0 010-3.4h4a11.6 11.6 0 010 3.4zm.2 4.6c.5-1 .8-2 1.1-3h2.5c-.8 1.4-2.1 2.5-3.6 3zm1.4-4.6a13.7 13.7 0 000-3.4h2.8a6.7 6.7 0 010 3.4h-2.8z"/></svg>',p='<svg width="20" height="14" viewBox="0 0 20 14" aria-hidden="true" class="metrics-icon metrics-icon--other"><path d="M3.3 2h15V.3h-15c-.9 0-1.6.8-1.6 1.7v9.2H0v2.5h11.7v-2.5H3.3V2zm15.9 1.7h-5c-.5 0-.9.3-.9.8v8.3c0 .5.4.9.9.9h5c.4 0 .8-.4.8-.9V4.5c0-.5-.4-.8-.8-.8zm-.9 7.5H15V5.3h3.3v5.9z"/></svg>',g={downloads:'<svg width="10" height="12" viewBox="0 0 10 12" aria-hidden="true" class="metrics-icon metrics-icon--downloads"><path d="M10 4H7V0H3v4H0l5 5 5-5zM0 10v1h10v-1H0z"/></svg>',citations:'<svg width="14" height="10" viewBox="0 0 14 10" aria-hidden="true" class="metrics-icon metrics-icon--citations"><path d="M2 9h2l2-3V1H1v5h3L2 9zm7 0h2l2-3V1H8v5h3L9 9z"/></svg>',views:'<svg width="16" height="11" viewBox="0 0 16 11" aria-hidden="true" class="metrics-icon metrics-icon--views"><path d="M8.3.2A8.1 8.1 0 0 0 .8 5.3a8.1 8.1 0 0 0 15 0A8.1 8.1 0 0 0 8.3.2zm0 8.5a3.4 3.4 0 1 1 0-6.8 3.4 3.4 0 0 1 0 6.8zm0-5.4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',facebook:"",twitter:"",reddit:'<svg width="17" height="15" viewBox="0 0 17 15" aria-hidden="true" class="metrics-icon metrics-icon--reddit"><path d="M16 7.6c0-1-.8-1.7-1.8-1.7-.4 0-.9.2-1.2.5-1.3-1-3-1.5-4.6-1.5l.8-3.7 2.6.5c0 .7.6 1.2 1.3 1.1.6 0 1.1-.7 1-1.3 0-.7-.6-1.1-1.3-1-.3 0-.7.2-.9.5L9 .4l-.4.3-.8 4.1C6 4.8 4.4 5.4 3 6.3c-.7-.7-1.8-.6-2.5 0A1.7 1.7 0 0 0 1 9.2v.6c0 2.6 3.2 4.8 7 4.8 3.9 0 7-2.2 7-4.8V9c.6-.3 1-.9 1-1.5zM4 8.7c0-.6.5-1.1 1.2-1.1s1.2.5 1.2 1.1c0 .7-.5 1.2-1.2 1.2S4 9.4 4 8.7zm7 3.3c-.9.6-2 1-3 1s-2.1-.4-3-1a.3.3 0 0 1 0-.5h.5a4 4 0 0 0 2.5.8 4 4 0 0 0 2.5-.7c.1-.2.4-.2.5 0 .1.1.1.3 0 .4zm-.2-2c-.7 0-1.2-.6-1.2-1.2 0-.7.5-1.2 1.2-1.2.6 0 1.2.5 1.2 1.2 0 .6-.5 1.2-1.2 1.2z"/></svg>',news:"",blog:"",wikipedia:"",other:""};g.facebook=c,g.twitter=l,g.news=u,g.blog=d,g.wikipedia=m,g.other=p,r=3,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/toolbar-metric.pug";var v="toolbar-metric--menu";r=1,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug";var b='<svg  width="20" height="12" viewBox="0 0 20 12" class="chart-icon metrics-icon" aria-hidden="true"><path d="M14 0l2.3 2.3-4.9 4.9-4-4L0 10.6 1.4 12l6-6 4 4 6.3-6.3L20 6V0h-6z"/></svg>';v=v,r=9,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=10,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<div"+f("class",h(["metrics-menu","toolbar-metric"],[!1,!0]),!1,!1)+">",r=11,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=12,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+'<a class="metrics-menu__link toolbar-metric__link" href="#"'+f("data-metrics-target-for",v,!0,!1)+' aria-expanded="false" title="Metrics">',r=13,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+=null==(n=b)?"":n,r=14,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug";var y=!1;r=15,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",function(){var e=t.menuSections;if("number"==typeof e.length)for(var n=0,a=e.length;n<a;n++){var s=e[n];r=16,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",s.id&&s.total&&s.total>0&&(r=17,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",y=!0)}else{a=0;for(var n in e){a++;s=e[n];r=16,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",s.id&&s.total&&s.total>0&&(r=17,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",y=!0)}}}.call(this),r=19,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",y?(r=20,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",function(){var s=t.menuSections;if("number"==typeof s.length)for(var o=0,c=s.length;o<c;o++){var l=s[o];r=21,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",l.id&&l.total&&l.total>0&&(r=22,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<span"+f("class",h(["toolbar-metric__total","toolbar-metric__total--"+l.id],[!1,!0]),!1,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+=null==(n=g[l.id])?"":n,r=24,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=24,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="total-text">')+(null==(n=l.total.toLocaleString(e.language))?"":n)+"</span></span>")}else{c=0;for(var o in s){c++;l=s[o];r=21,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",l.id&&l.total&&l.total>0&&(r=22,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<span"+f("class",h(["toolbar-metric__total","toolbar-metric__total--"+l.id],[!1,!0]),!1,!1)+">",r=23,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+=null==(n=g[l.id])?"":n,r=24,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=24,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="total-text">')+(null==(n=l.total.toLocaleString(e.language))?"":n)+"</span></span>")}}}.call(this)):(r=26,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="toolbar-metric__total toolbar-metric__total--empty">',r=27,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Data is empty</span>"),r=28,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=29,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+="</a>")+'<div class="metrics-menu__dropdown-container toolbar-metric__menu"'+f("data-metrics-target-of",v,!0,!1)+' aria-hidden="true">',r=30,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<div class="metrics-rlist metrics-menu__dropdown">',r=31,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",y&&(r=32,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<h3 class="toolbar-metric__menu-title">',r=32,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Metrics</h3>"),r=33,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",function(){var o=t.menuSections;if("number"==typeof o.length)for(var c=0,l=o.length;c<l;c++){var u=o[c];r=34,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.id&&u.total&&u.total>0&&(r=35,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<section"+f("class",h(["toolbar-metric__menu-section"],[!0]),!1,!1)+">",r=36,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+=null==(n=g[u.id])?"":n,r=37,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=38,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<div class="toolbar-metric__menu-section-counts">')+"<h3"+f("class",h(["menu-title","menu-title--"+u.id],[!1,!0]),!1,!1)+">",r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-title-text">',r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+="Total ")+(null==(n=u.title)?"":n)+"</span>",r=40,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=40,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-total-value">')+(null==(n=s(u.total,10).toLocaleString(e.language))?"":n)+"</span></h3>",r=41,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<ul"+f("class",h(["menu-list metrics-rlist"],[!0]),!1,!1)+">",r=42,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.last6&&(r=43,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="<li>",r=44,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-item-text">',r=44,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Last 6 Months</span>",r=45,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=45,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-item-value">')+(null==(n=s(u.last6,10).toLocaleString(e.language))?"":n)+"</span></li>"),r=46,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.last12&&(r=47,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="<li>",r=48,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-item-text">',r=48,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Last 12 Months</span>",r=49,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=49,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-item-value">')+(null==(n=s(u.last12,10).toLocaleString(e.language))?"":n)+"</span></li>"),a+="</ul></div></section>")}else{l=0;for(var c in o){l++;u=o[c];r=34,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.id&&u.total&&u.total>0&&(r=35,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<section"+f("class",h(["toolbar-metric__menu-section"],[!0]),!1,!1)+">",r=36,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+=null==(n=g[u.id])?"":n,r=37,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=38,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<div class="toolbar-metric__menu-section-counts">')+"<h3"+f("class",h(["menu-title","menu-title--"+u.id],[!1,!0]),!1,!1)+">",r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-title-text">',r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=39,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+="Total ")+(null==(n=u.title)?"":n)+"</span>",r=40,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=40,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-total-value">')+(null==(n=s(u.total,10).toLocaleString(e.language))?"":n)+"</span></h3>",r=41,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+"<ul"+f("class",h(["menu-list metrics-rlist"],[!0]),!1,!1)+">",r=42,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.last6&&(r=43,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="<li>",r=44,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-item-text">',r=44,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Last 6 Months</span>",r=45,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=45,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-item-value">')+(null==(n=s(u.last6,10).toLocaleString(e.language))?"":n)+"</span></li>"),r=46,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",u.last12&&(r=47,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="<li>",r=48,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+='<span class="menu-item-text">',r=48,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="Last 12 Months</span>",r=49,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=49,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+='<span class="menu-item-value">')+(null==(n=s(u.last12,10).toLocaleString(e.language))?"":n)+"</span></li>"),a+="</ul></div></section>")}}}.call(this),a+="</div>",r=50,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",o.properties.showLinkToFullPage&&t.linkToFullPageWithDoi&&(r=51,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=a+'<a class="toolbar-metric__metrics-link"'+f("href",t.linkToFullPageWithDoi,!0,!1)+' title="Go to metrics page">',r=52,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a+="<span>",r=52,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",r=53,i="/mnt/ssd/dev/source/article-metrics/src/widgets/toolbar-metric/templates/extended/ext-toolbar-menu-tmpl.pug",a=(a+="View All Metrics</span>")+(null==(n='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M10.7 10.7H1.3V1.3H6V0H1.3C.6 0 0 .6 0 1.3v9.4c0 .7.6 1.3 1.3 1.3h9.4c.7 0 1.3-.6 1.3-1.3V6h-1.3v4.7zM7.3 0v1.3h2.4L3.2 8l1 1 6.5-6.6v2.4H12V0H7.3z"/></svg>')?"":n)+"</a>"),a+="</div></div>"}).call(this,"data"in s?s.data:"undefined"!=typeof data?data:void 0,"navigator"in s?s.navigator:"undefined"!=typeof navigator?navigator:void 0,"parseInt"in s?s.parseInt:"undefined"!=typeof parseInt?parseInt:void 0,"thisWidget"in s?s.thisWidget:"undefined"!=typeof thisWidget?thisWidget:void 0)}catch(t){!function t(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||require("fs").readFileSync(n,"utf8")}catch(n){t(e,null,i)}var a=3,s=r.split("\n"),o=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(o,c).map((function(t,e){var n=e+o+1;return(n==i?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=n,e.message=(n||"Pug")+":"+i+"\n"+a+"\n\n"+e.message,e}(t,i,r)}return a}function b(t,e,n,i){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=x(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function y(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",r="",a=Array.isArray(e),s=0;s<t.length;s++)(n=y(t[s]))&&(a&&e[s]&&(n=x(n)),i=i+r+n,r=" ");return i}(t,e):t&&"object"==r(t)?function(t){var e="",n="";for(var i in t)i&&t[i]&&w.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function x(t){var e=""+t,n=_.exec(e);if(!n)return t;var i,r,a,s="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(s+=e.substring(r,i)),r=i+1,s+=a}return r!==i?s+e.substring(r,i):s}var w=Object.prototype.hasOwnProperty,_=/["&<>]/;function E(t,e){var n,i,r,a="";try{var s=t||{};(function(t,e){r=1,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/variables/pug/icons.pug";var s='<svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" class="metrics-icon metrics-icon--facebook"><path d="M15.1 0H1a.9.9 0 0 0-.9.9V15a.9.9 0 0 0 .9.9h7.7V9.8H6.5V7.4h2V5.6c0-2 1.3-3.2 3.2-3.2l1.8.1v2.2h-1.3c-1 0-1.1.4-1.1 1.1v1.6h2.4L13 9.8h-2V16h4a.9.9 0 0 0 .9-.9V1a.9.9 0 0 0-.9-.9z"/></svg>',o='<svg width="16" height="14" viewBox="0 0 16 14" aria -hidden="true" class="metrics-icon metrics-icon--twitter"><path d="M14 3.6V4a11.8 11.8 0 0 1-2.3 6.5c-.7 1-1.6 1.7-2.8 2.3-1.2.7-2.4.8-3.8.8-1.6 0-3.1-.4-4.6-1.4h.8c1.4 0 2.7-.6 3.9-1.6a3 3 0 0 1-2.9-2.3h.6c.3 0 .6 0 .8-.2-.8 0-1.4-.4-1.9-1-.4-.5-.7-1.3-.7-2.1.4.2.9.3 1.4.3A3.4 3.4 0 0 1 1 2.6c0-.7.1-1.2.4-1.7.8 1 1.7 1.9 2.9 2.5a7 7 0 0 0 3.6 1v-.8c0-1 .3-1.7.9-2.4.6-.6 1.2-1 2-1s1.6.4 2.2 1c.8-.1 1.3-.4 2-.8a3 3 0 0 1-1.4 2l1.8-.5c-.4.7-.9 1.2-1.5 1.7z"/></svg>',c='<svg width="17" height="20" viewBox="0 0 17 20" aria-hidden="true" class="metrics-icon metrics-icon--news"><path d="M12.3.8h-10C1.4.8.7 1.6.7 2.5v11.7h1.6V2.5h10V.8zm2.5 3.4H5.7c-1 0-1.7.7-1.7 1.6v11.7c0 1 .7 1.7 1.7 1.7h9.1c1 0 1.7-.8 1.7-1.7V5.8c0-.9-.7-1.6-1.7-1.6zm0 13.3H5.7V5.8h9.1v11.7z"/></svg>',l='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--blog"><path d="M15.7.7H2.3C1.4.7.7 1.4.7 2.3v15L4 14h11.7c.9 0 1.6-.7 1.6-1.7v-10c0-.9-.7-1.6-1.6-1.6zm-1.7 10H4V9h10v1.7zm0-2.5H4V6.5h10v1.7zm0-2.5H4V4h10v1.7z"/></svg>',u='<svg width="18" height="18" viewBox="0 0 18 18" aria-hidden="true" class="metrics-icon metrics-icon--wikipedia"><path d="M9 .7a8.3 8.3 0 100 16.6A8.3 8.3 0 009 .7zm5.8 5h-2.5c-.3-1-.6-2-1.1-3 1.5.5 2.8 1.6 3.6 3zM9 2.4c.7 1 1.2 2 1.6 3.3H7.4c.4-1.2.9-2.3 1.6-3.3zm-6.5 8.3a6.7 6.7 0 010-3.4h2.9a13.7 13.7 0 000 3.4H2.5zm.7 1.6h2.5c.3 1 .6 2 1.1 3a6.7 6.7 0 01-3.6-3zm2.5-6.6H3.2c.8-1.4 2.1-2.5 3.6-3-.5 1-.8 2-1.1 3zm3.3 10c-.7-1-1.2-2.2-1.6-3.4h3.2c-.4 1.2-1 2.3-1.6 3.3zm2-5H7a11.6 11.6 0 010-3.4h4a11.6 11.6 0 010 3.4zm.2 4.6c.5-1 .8-2 1.1-3h2.5c-.8 1.4-2.1 2.5-3.6 3zm1.4-4.6a13.7 13.7 0 000-3.4h2.8a6.7 6.7 0 010 3.4h-2.8z"/></svg>',d='<svg width="20" height="14" viewBox="0 0 20 14" aria-hidden="true" class="metrics-icon metrics-icon--other"><path d="M3.3 2h15V.3h-15c-.9 0-1.6.8-1.6 1.7v9.2H0v2.5h11.7v-2.5H3.3V2zm15.9 1.7h-5c-.5 0-.9.3-.9.8v8.3c0 .5.4.9.9.9h5c.4 0 .8-.4.8-.9V4.5c0-.5-.4-.8-.8-.8zm-.9 7.5H15V5.3h3.3v5.9z"/></svg>',f={downloads:'<svg width="10" height="12" viewBox="0 0 10 12" aria-hidden="true" class="metrics-icon metrics-icon--downloads"><path d="M10 4H7V0H3v4H0l5 5 5-5zM0 10v1h10v-1H0z"/></svg>',citations:'<svg width="14" height="10" viewBox="0 0 14 10" aria-hidden="true" class="metrics-icon metrics-icon--citations"><path d="M2 9h2l2-3V1H1v5h3L2 9zm7 0h2l2-3V1H8v5h3L9 9z"/></svg>',views:'<svg width="16" height="11" viewBox="0 0 16 11" aria-hidden="true" class="metrics-icon metrics-icon--views"><path d="M8.3.2A8.1 8.1 0 0 0 .8 5.3a8.1 8.1 0 0 0 15 0A8.1 8.1 0 0 0 8.3.2zm0 8.5a3.4 3.4 0 1 1 0-6.8 3.4 3.4 0 0 1 0 6.8zm0-5.4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',facebook:"",twitter:"",reddit:'<svg width="17" height="15" viewBox="0 0 17 15" aria-hidden="true" class="metrics-icon metrics-icon--reddit"><path d="M16 7.6c0-1-.8-1.7-1.8-1.7-.4 0-.9.2-1.2.5-1.3-1-3-1.5-4.6-1.5l.8-3.7 2.6.5c0 .7.6 1.2 1.3 1.1.6 0 1.1-.7 1-1.3 0-.7-.6-1.1-1.3-1-.3 0-.7.2-.9.5L9 .4l-.4.3-.8 4.1C6 4.8 4.4 5.4 3 6.3c-.7-.7-1.8-.6-2.5 0A1.7 1.7 0 0 0 1 9.2v.6c0 2.6 3.2 4.8 7 4.8 3.9 0 7-2.2 7-4.8V9c.6-.3 1-.9 1-1.5zM4 8.7c0-.6.5-1.1 1.2-1.1s1.2.5 1.2 1.1c0 .7-.5 1.2-1.2 1.2S4 9.4 4 8.7zm7 3.3c-.9.6-2 1-3 1s-2.1-.4-3-1a.3.3 0 0 1 0-.5h.5a4 4 0 0 0 2.5.8 4 4 0 0 0 2.5-.7c.1-.2.4-.2.5 0 .1.1.1.3 0 .4zm-.2-2c-.7 0-1.2-.6-1.2-1.2 0-.7.5-1.2 1.2-1.2.6 0 1.2.5 1.2 1.2 0 .6-.5 1.2-1.2 1.2z"/></svg>',news:"",blog:"",wikipedia:"",other:""};f.facebook=s,f.twitter=o,f.news=c,f.blog=l,f.wikipedia=u,f.other=d,r=3,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug";var h=function(t){return 0===t?"metrics-selected--js":""};r=9,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",a+='<div class="sidebar-metric sidebar-metrics">',r=10,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",a+='<div class="metrics-header">',r=4,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-title-tmpl.pug",a+='<div class="metrics-title">',r=5,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-title-tmpl.pug",a+=null==(n='<svg  width="20" height="12" viewBox="0 0 20 12" class="chart-icon metrics-icon" aria-hidden="true"><path d="M14 0l2.3 2.3-4.9 4.9-4-4L0 10.6 1.4 12l6-6 4 4 6.3-6.3L20 6V0h-6z"/></svg>')?"":n,r=6,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-title-tmpl.pug",a+='<span class="metrics-title__text">',r=8,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-title-tmpl.pug",a+="Metrics</span></div>",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug";r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",t.linkToFullPageWithDoi&&(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",a=a+'<a class="metrics-link"'+b("href",t.linkToFullPageWithDoi,!0,!1)+' title="Go to metrics page">',r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",a=(a+='<span class="metrics-link__text">')+(null==(n="View All Metrics")?"":n)+"</span>",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/link/templates/link-tmpl.pug",a=a+(null==(n='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M10.7 10.7H1.3V1.3H6V0H1.3C.6 0 0 .6 0 1.3v9.4c0 .7.6 1.3 1.3 1.3h9.4c.7 0 1.3-.6 1.3-1.3V6h-1.3v4.7zM7.3 0v1.3h2.4L3.2 8l1 1 6.5-6.6v2.4H12V0H7.3z"/></svg>')?"":n)+"</a>"),a+="</div>",r=14,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",r=15,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",a+='<div class="sidebar-metric__content-section">',r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug";var m=t.dataSections;r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+='<ul class="metrics-nav metrics-rlist">',r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",function(){var t=m;if("number"==typeof t.length)for(var e=0,s=t.length;e<s;e++){var o=t[e];r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",o.months.length>1?(r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=9,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<li class="metrics-nav__item">')+"<a"+b("class",y(["metrics-nav__item-link","metrics-nav__item-link--".concat(o.id," ").concat(h(e))],[!1,!0]),!1,!1)+' href="#"'+b("title",o.title,!0,!1)+b("data-title",o.id,!0,!1)+">",r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=f[o.id])?"":n,r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=o.title)?"":n)+"</span></a></li>"):(r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<li"+b("class",y(["metrics-nav__item","metrics-nav__item--"+o.id],[!1,!0]),!1,!1)+">",r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<span"+(b("class",y(["metrics-nav__item-link","metrics-nav__item-link--disabled","metrics-nav__item-link--".concat(o.id," ").concat(h(e))],[!1,!1,!0]),!1,!1)+b("data-title",o.id,!0,!1))+' title="Insufficient data to display on the chart">',r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=f[o.id])?"":n,r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=o.title)?"":n)+"</span></span></li>")}else{s=0;for(var e in t){s++;o=t[e];r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",o.months.length>1?(r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=9,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<li class="metrics-nav__item">')+"<a"+b("class",y(["metrics-nav__item-link","metrics-nav__item-link--".concat(o.id," ").concat(h(e))],[!1,!0]),!1,!1)+' href="#"'+b("title",o.title,!0,!1)+b("data-title",o.id,!0,!1)+">",r=10,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=f[o.id])?"":n,r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=11,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=o.title)?"":n)+"</span></a></li>"):(r=13,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<li"+b("class",y(["metrics-nav__item","metrics-nav__item--"+o.id],[!1,!0]),!1,!1)+">",r=14,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=a+"<span"+(b("class",y(["metrics-nav__item-link","metrics-nav__item-link--disabled","metrics-nav__item-link--".concat(o.id," ").concat(h(e))],[!1,!1,!0]),!1,!1)+b("data-title",o.id,!0,!1))+' title="Insufficient data to display on the chart">',r=15,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a+=null==(n=f[o.id])?"":n,r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",r=16,i="/mnt/ssd/dev/source/article-metrics/src/components/nav/templates/nav-tmpl.pug",a=(a+='<span class="nav-text">')+(null==(n=o.title)?"":n)+"</span></span></li>")}}}.call(this),a+="</ul>",r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+='<div class="metrics-chart">',r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+='<div class="metrics-chart__empty">',r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+="<span>",r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/chart/templates/chart-tmpl.pug",a+="Not enough data to graph.</span></div></div>",r=1,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a+='<div class="metrics-total">',r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",function(){var s=t.dataSections;if("number"==typeof s.length)for(var o=0,c=s.length;o<c;o++){var l=s[o];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",l.months.length>1&&(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<div"+b("class",y(["metrics-total__item","".concat(h(o)," metrics-total__item--").concat(l.id)],[!1,!0]),!1,!1)+">",r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<span"+b("class",y(["metric-icon-fill","".concat(h(o)," metric-icon-fill--").concat(l.id)],[!1,!0]),!1,!1)+">",r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+(null==(n=f[l.id])?"":n)+"</span>",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=(a+='<span class="metrics-total__item-text">')+(null==(n=l.total.toLocaleString(e.language))?"":n)+"</span></div>")}else{c=0;for(var o in s){c++;l=s[o];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",l.months.length>1&&(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<div"+b("class",y(["metrics-total__item","".concat(h(o)," metrics-total__item--").concat(l.id)],[!1,!0]),!1,!1)+">",r=6,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+"<span"+b("class",y(["metric-icon-fill","".concat(h(o)," metric-icon-fill--").concat(l.id)],[!1,!0]),!1,!1)+">",r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=a+(null==(n=f[l.id])?"":n)+"</span>",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/total/templates/total-tmpl.pug",a=(a+='<span class="metrics-total__item-text">')+(null==(n=l.total.toLocaleString(e.language))?"":n)+"</span></div>")}}}.call(this),a+="</div>",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/tabs/templates/tabs-tmpl.pug";var p={total:"Total",last6:"Last 6 Months",last12:"Last 12 Months"},g=function(t){return"last6"===t?"metrics-selected--js":""};r=4,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a+='<div class="metrics-tabs">',r=6,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a+='<div class="metrics-tabs__list-container">',r=7,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a+='<ul class="metrics-rlist metrics-tabs__list">',r=8,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",function(){var t=p;for(var e in t){var s=t[e];r=9,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",r=10,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a=(a+='<li class="metrics-tabs__item">')+"<a"+b("class",y(["metrics-tabs__item-link",g(e)],[!1,!0]),!1,!1)+' href="#"'+b("data-title",e,!0,!1)+">",r=11,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a+='<div class="tab-text">',r=11,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/extended/ext-tabs-tmpl.pug",a+=null==(n=s)?"":n,r=21,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",p.last6="6 Months",r=22,i="/mnt/ssd/dev/source/article-metrics/src/widgets/sidebar-metric/templates/sidebar-metric.pug",p.last12="12 Months",a+="</div></a></li>"}}.call(this),a+="</ul></div></div>",r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a+='<p class="metrics-sub-title">',r=2,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a+="Total number of",r=3,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",function(){var e=t.dataSections;if("number"==typeof e.length)for(var n=0,s=e.length;n<s;n++){var o=e[n];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",0===n?(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a=a+"<span"+b("class",y(["metrics-sub-title__text","metrics-sub-title__text--"+o.id],[!1,!0]),!1,!1)+"></span>"):(r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a=a+"<span"+b("class",y(["metrics-sub-title__text","metrics-sub-title__text--"+o.id],[!1,!0]),!1,!1)+"></span>")}else{s=0;for(var n in e){s++;o=e[n];r=4,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",0===n?(r=5,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a=a+"<span"+b("class",y(["metrics-sub-title__text","metrics-sub-title__text--"+o.id],[!1,!0]),!1,!1)+"></span>"):(r=7,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a=a+"<span"+b("class",y(["metrics-sub-title__text","metrics-sub-title__text--"+o.id],[!1,!0]),!1,!1)+"></span>")}}}.call(this),r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a+='<span class="metrics-sub-title__period">',r=8,i="/mnt/ssd/dev/source/article-metrics/src/components/sub-title/templates/sub-title-tmpl.pug",a+="for the most recent 6 whole calendar months.</span></p></div></div>"}).call(this,"data"in s?s.data:"undefined"!=typeof data?data:void 0,"navigator"in s?s.navigator:"undefined"!=typeof navigator?navigator:void 0)}catch(t){!function t(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||require("fs").readFileSync(n,"utf8")}catch(n){t(e,null,i)}var a=3,s=r.split("\n"),o=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(o,c).map((function(t,e){var n=e+o+1;return(n==i?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=n,e.message=(n||"Pug")+":"+i+"\n"+a+"\n\n"+e.message,e}(t,i,r)}return a}var M={eventType:"",widgetName:"",doi:"",metricId:"",init:function(t,e,n){"toolbar-metrics"===t?M.toolbarCaptureEvents(e,n):"numeric-metrics"===t?M.numericCaptureEvents(e,n):"sidebar-metric"===t&&M.sidebarCaptureEvents(e,n)},toolbarCaptureEvents:function(t,n){M.widgetName="toolbar",M.doi=e().data.doi,M.metricId=n;M.defineEventType({close:"EVENT_TOOLBAR_PANEL_CLOSE",open:"EVENT_TOOLBAR_PANEL_OPEN","full-page":"EVENT_TOOLBAR_GOTO_FULL_PAGE"},t)},sidebarCaptureEvents:function(t,e){M.widgetName="sidebar",M.doi=n().data.doi,M.metricId=e;M.defineEventType({select:"EVENT_SIDEBAR_SELECT",deselect:"EVENT_SIDEBAR_DESELECT","point-hover":"EVENT_SIDEBAR_DATA_POINT_HOVER","chart-time":"EVENT_SIDEBAR_CHANGE_CHART_TIME_HORIZON","full-page":"EVENT_SIDEBAR_GOTO_FULL_PAGE"},t)},numericCaptureEvents:function(t,e){M.widgetName="full page",M.doi=i().data.doi,M.metricId=e;M.defineEventType({select:"EVENT_NUMERIC_SELECT",deselect:"EVENT_NUMERIC_DESELECT","point-hover":"EVENT_NUMERIC_DATA_POINT_HOVER","chart-time":"EVENT_NUMERIC_CHANGE_CHART_TIME_HORIZON",download:"EVENT_NUMERIC_CLICK_ON_DOWNLOAD",share:"EVENT_NUMERIC_CLICK_ON_SHARE"},t)},defineEventType:function(t,e){M.eventType=t[e],M.sendEvents()},sendEvents:function(){var t="/action/metricsAnalytics?eventType=".concat(M.eventType,"&widgetName=").concat(M.widgetName,"&doi=").concat(M.doi,"&metricId=").concat(M.metricId),e=new XMLHttpRequest;e.onload=function(t){},e.open("POST",t,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send()}};function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function S(t){var e;return 1===t.length&&(e=t,t=function(t,n){return P(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}var C=S(P).right,k=Math.sqrt(50),T=Math.sqrt(10),A=Math.sqrt(2);function V(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=k?10:a>=T?5:a>=A?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=k?10:a>=T?5:a>=A?2:1)}function B(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=k?r*=10:a>=T?r*=5:a>=A&&(r*=2),e<t?-r:r}var N=Array.prototype.slice;function L(t){return t}function D(t){return"translate("+(t+.5)+",0)"}function z(t){return"translate(0,"+(t+.5)+")"}function O(t){return function(e){return+t(e)}}function I(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function H(){return!this.__axis}function R(t,e){var n=[],i=null,r=null,a=6,s=6,o=3,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",u=1===t||3===t?D:z;function d(d){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,h=null==r?e.tickFormat?e.tickFormat.apply(e,n):L:r,m=Math.max(a,0)+o,p=e.range(),g=+p[0]+.5,v=+p[p.length-1]+.5,b=(e.bandwidth?I:O)(e.copy()),y=d.selection?d.selection():d,x=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(f,e).order(),_=w.exit(),E=w.enter().append("g").attr("class","tick"),M=w.select("line"),P=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(E),M=M.merge(E.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),P=P.merge(E.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==y&&(x=x.transition(d),w=w.transition(d),M=M.transition(d),P=P.transition(d),_=_.transition(d).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=b(t))?u(t):this.getAttribute("transform")})),E.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:b(t))}))),_.remove(),x.attr("d",4===t||2==t?s?"M"+c*s+","+g+"H0.5V"+v+"H"+c*s:"M0.5,"+g+"V"+v:s?"M"+g+","+c*s+"V0.5H"+v+"V"+c*s:"M"+g+",0.5H"+v),w.attr("opacity",1).attr("transform",(function(t){return u(b(t))})),M.attr(l+"2",c*a),P.attr(l,c*m).text(h),y.filter(H).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),y.each((function(){this.__axis=b}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=N.call(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:N.call(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(i=null==t?null:N.call(t),d):i&&i.slice()},d.tickFormat=function(t){return arguments.length?(r=t,d):r},d.tickSize=function(t){return arguments.length?(a=s=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(s=+t,d):s},d.tickPadding=function(t){return arguments.length?(o=+t,d):o},d}var q=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3);Math.PI,Math.PI;function F(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function U(t){return(t=F(Math.abs(t)))?t[1]:NaN}var j,X=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y(t){return new W(t)}function W(t){if(!(e=X.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function G(t,e){var n=F(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Y.prototype=W.prototype,W.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Z={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return G(100*t,e)},r:G,s:function(t,e){var n=F(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(j=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+F(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function J(t){return t}var Q,K,tt,et=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nt(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,a=[],s=0,o=e[0],c=0;r>0&&o>0&&(c+o+1>i&&(o=Math.max(1,i-c)),a.push(t.substring(r-=o,r+o)),!((c+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(n)}):J,r=t.currency,a=t.decimal,s=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):J,o=t.percent||"%";function c(t){var e=(t=Y(t)).fill,n=t.align,c=t.sign,l=t.symbol,u=t.zero,d=t.width,f=t.comma,h=t.precision,m=t.trim,p=t.type;"n"===p?(f=!0,p="g"):Z[p]||(null==h&&(h=12),m=!0,p="g"),(u||"0"===e&&"="===n)&&(u=!0,e="0",n="=");var g="$"===l?r[0]:"#"===l&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===l?r[1]:/[%p]/.test(p)?o:"",b=Z[p],y=/[defgprs%]/.test(p);function x(t){var r,o,l,x=g,w=v;if("c"===p)w=b(t)+w,t="";else{var _=(t=+t)<0;if(t=b(Math.abs(t),h),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),_&&0==+t&&(_=!1),x=(_?"("===c?c:"-":"-"===c||"("===c?"":c)+x,w=("s"===p?et[8+j/3]:"")+w+(_&&"("===c?")":""),y)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){w=(46===l?a+t.slice(r+1):t.slice(r))+w,t=t.slice(0,r);break}}f&&!u&&(t=i(t,1/0));var E=x.length+t.length+w.length,M=E<d?new Array(d-E+1).join(e):"";switch(f&&u&&(t=i(M+t,M.length?d-w.length:1/0),M=""),n){case"<":t=x+t+w+M;break;case"=":t=x+M+t+w;break;case"^":t=M.slice(0,E=M.length>>1)+x+t+w+M.slice(E);break;default:t=M+x+t+w}return s(t)}return h=null==h?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),x.toString=function(){return t+""},x}return{format:c,formatPrefix:function(t,e){var n=c(((t=Y(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(U(e)/3))),r=Math.pow(10,-i),a=et[8+i/3];return function(t){return n(r*t)+a}}}}function it(){return new rt}function rt(){this.reset()}Q=nt({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),K=Q.format,tt=Q.formatPrefix,rt.prototype={constructor:rt,reset:function(){this.s=this.t=0},add:function(t){st(at,t,this.t),st(this,at.s,this.s),this.s?this.t+=at.t:this.s=at.t},valueOf:function(){return this.s}};var at=new rt;function st(t,e,n){var i=t.s=e+n,r=i-e,a=i-r;t.t=e-a+(n-r)}Math.PI,it(),it(),it(),it(),it(),it(),it(),it();var ot=Math.PI,ct=2*ot,lt=ct-1e-6;function ut(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function dt(){return new ut}function ft(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}ut.prototype=dt.prototype={constructor:ut,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,s=this._y1,o=n-t,c=i-e,l=a-t,u=s-e,d=l*l+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>1e-6)if(Math.abs(u*o-c*l)>1e-6&&r){var f=n-a,h=i-s,m=o*o+c*c,p=f*f+h*h,g=Math.sqrt(m),v=Math.sqrt(d),b=r*Math.tan((ot-Math.acos((m+d-p)/(2*g*v)))/2),y=b/v,x=b/g;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*l)+","+(e+y*u)),this._+="A"+r+","+r+",0,0,"+ +(u*f>l*h)+","+(this._x1=t+x*o)+","+(this._y1=e+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e;var s=(n=+n)*Math.cos(i),o=n*Math.sin(i),c=t+s,l=e+o,u=1^a,d=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(d<0&&(d=d%ct+ct),d>lt?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=ot)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function ht(){}function mt(t,e){var n=new ht;if(t instanceof ht)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function pt(){}ht.prototype=mt.prototype={constructor:ht,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var gt=mt.prototype;pt.prototype=function(t,e){var n=new pt;if(t instanceof pt)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}.prototype={constructor:pt,has:gt.has,add:function(t){return this["$"+(t+="")]=t,this},remove:gt.remove,clear:gt.clear,values:gt.keys,size:gt.size,empty:gt.empty,each:gt.each};var vt=Array.prototype,bt=vt.map,yt=vt.slice;function xt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function _t(){}var Et="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",St=/^#([0-9a-f]{3})$/,Ct=/^#([0-9a-f]{6})$/,kt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),Tt=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),At=new RegExp("^rgba\\("+[Et,Et,Et,Mt]+"\\)$"),Vt=new RegExp("^rgba\\("+[Pt,Pt,Pt,Mt]+"\\)$"),Bt=new RegExp("^hsl\\("+[Mt,Pt,Pt]+"\\)$"),Nt=new RegExp("^hsla\\("+[Mt,Pt,Pt,Mt]+"\\)$"),Lt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dt(t){var e;return t=(t+"").trim().toLowerCase(),(e=St.exec(t))?new Rt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ct.exec(t))?zt(parseInt(e[1],16)):(e=kt.exec(t))?new Rt(e[1],e[2],e[3],1):(e=Tt.exec(t))?new Rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=At.exec(t))?Ot(e[1],e[2],e[3],e[4]):(e=Vt.exec(t))?Ot(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bt.exec(t))?Ft(e[1],e[2]/100,e[3]/100,1):(e=Nt.exec(t))?Ft(e[1],e[2]/100,e[3]/100,e[4]):Lt.hasOwnProperty(t)?zt(Lt[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function zt(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Ot(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rt(t,e,n,i)}function It(t){return t instanceof _t||(t=Dt(t)),t?new Rt((t=t.rgb()).r,t.g,t.b,t.opacity):new Rt}function Ht(t,e,n,i){return 1===arguments.length?It(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function qt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ft(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,i)}function Ut(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof _t||(t=Dt(t)),!t)return new jt;if(t instanceof jt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,c=(a+r)/2;return o?(s=e===a?(n-i)/o+6*(n<i):n===a?(i-e)/o+2:(e-n)/o+4,o/=c<.5?a+r:2-a-r,s*=60):o=c>0&&c<1?0:s,new jt(s,o,c,t.opacity)}function jt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Xt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}xt(_t,Dt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),xt(Rt,Ht,wt(_t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+qt(this.r)+qt(this.g)+qt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),xt(jt,(function(t,e,n,i){return 1===arguments.length?Ut(t):new jt(t,e,n,null==i?1:i)}),wt(_t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rt(Xt(t>=240?t-240:t+120,r,i),Xt(t,r,i),Xt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Yt=Math.PI/180,Wt=180/Math.PI,$t=6/29,Gt=3*$t*$t;function Zt(t){if(t instanceof Jt)return new Jt(t.l,t.a,t.b,t.opacity);if(t instanceof ie){if(isNaN(t.h))return new Jt(t.l,0,0,t.opacity);var e=t.h*Yt;return new Jt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rt||(t=It(t));var n,i,r=ee(t.r),a=ee(t.g),s=ee(t.b),o=Qt((.2225045*r+.7168786*a+.0606169*s)/1);return r===a&&a===s?n=i=o:(n=Qt((.4360747*r+.3850649*a+.1430804*s)/.96422),i=Qt((.0139322*r+.0971045*a+.7141733*s)/.82521)),new Jt(116*o-16,500*(n-o),200*(o-i),t.opacity)}function Jt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Qt(t){return t>.008856451679035631?Math.pow(t,1/3):t/Gt+4/29}function Kt(t){return t>$t?t*t*t:Gt*(t-4/29)}function te(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ee(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ne(t){if(t instanceof ie)return new ie(t.h,t.c,t.l,t.opacity);if(t instanceof Jt||(t=Zt(t)),0===t.a&&0===t.b)return new ie(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Wt;return new ie(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ie(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}xt(Jt,(function(t,e,n,i){return 1===arguments.length?Zt(t):new Jt(t,e,n,null==i?1:i)}),wt(_t,{brighter:function(t){return new Jt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Jt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rt(te(3.1338561*(e=.96422*Kt(e))-1.6168667*(t=1*Kt(t))-.4906146*(n=.82521*Kt(n))),te(-.9787684*e+1.9161415*t+.033454*n),te(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),xt(ie,(function(t,e,n,i){return 1===arguments.length?ne(t):new ie(t,e,n,null==i?1:i)}),wt(_t,{brighter:function(t){return new ie(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ie(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Zt(this).rgb()}}));var re=-.14861,ae=1.78277,se=-.29227,oe=-.90649,ce=1.97294,le=ce*oe,ue=ce*ae,de=ae*se-oe*re;function fe(t){if(t instanceof me)return new me(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=It(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(de*i+le*e-ue*n)/(de+le-ue),a=i-r,s=(ce*(n-r)-se*a)/oe,o=Math.sqrt(s*s+a*a)/(ce*r*(1-r)),c=o?Math.atan2(s,a)*Wt-120:NaN;return new me(c<0?c+360:c,o,r,t.opacity)}function he(t,e,n,i){return 1===arguments.length?fe(t):new me(t,e,n,null==i?1:i)}function me(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function pe(t){return function(){return t}}function ge(t,e){return function(n){return t+n*e}}function ve(t){return 1==(t=+t)?be:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):pe(isNaN(e)?n:e)}}function be(t,e){var n=e-t;return n?ge(t,n):pe(isNaN(t)?e:t)}xt(me,he,wt(_t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new me(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new me(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Yt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rt(255*(e+n*(re*i+ae*r)),255*(e+n*(se*i+oe*r)),255*(e+n*(ce*i)),this.opacity)}}));var ye=function t(e){var n=ve(e);function i(t,e){var i=n((t=Ht(t)).r,(e=Ht(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),s=be(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);var xe,we=(xe=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],s=i>0?t[i-1]:2*r-a,o=i<e-1?t[i+2]:2*a-r;return function(t,e,n,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*i+s*r)/6}((n-i/e)*e,s,r,a,o)}},function(t){var e,n,i=t.length,r=new Array(i),a=new Array(i),s=new Array(i);for(e=0;e<i;++e)n=Ht(t[e]),r[e]=n.r||0,a[e]=n.g||0,s[e]=n.b||0;return r=xe(r),a=xe(a),s=xe(s),n.opacity=1,function(t){return n.r=r(t),n.g=a(t),n.b=s(t),n+""}});function _e(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),s=new Array(i);for(n=0;n<r;++n)a[n]=Te(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=a[n](t);return s}}function Ee(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}function Me(t,e){return e-=t=+t,function(n){return t+e*n}}function Pe(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Te(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(Se.source,"g");function ke(t,e){var n,i,r,a=Se.lastIndex=Ce.lastIndex=0,s=-1,o=[],c=[];for(t+="",e+="";(n=Se.exec(t))&&(i=Ce.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Me(n,i)})),a=Ce.lastIndex;return a<e.length&&(r=e.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,i=0;i<e;++i)o[(n=c[i]).i]=n.x(t);return o.join("")})}function Te(t,e){var n,i=typeof e;return null==e||"boolean"===i?pe(e):("number"===i?Me:"string"===i?(n=Dt(e))?(e=n,ye):ke:e instanceof Dt?ye:e instanceof Date?Ee:Array.isArray(e)?_e:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Pe:Me)(t,e)}function Ae(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Ve,Be,Ne,Le,De=180/Math.PI,ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Oe(t,e,n,i,r,a){var s,o,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,c/=o),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*De,skewX:Math.atan(c)*De,scaleX:s,scaleY:o}}function Ie(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,s){var o=[],c=[];return a=t(a),s=t(s),function(t,i,r,a,s,o){if(t!==r||i!==a){var c=s.push("translate(",null,e,null,n);o.push({i:c-4,x:Me(t,r)},{i:c-2,x:Me(i,a)})}else(r||a)&&s.push("translate("+r+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Me(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,s.rotate,o,c),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Me(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,s.skewX,o,c),function(t,e,n,i,a,s){if(t!==n||e!==i){var o=a.push(r(a)+"scale(",null,",",null,")");s.push({i:o-4,x:Me(t,n)},{i:o-2,x:Me(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,c),a=s=null,function(t){for(var e,n=-1,i=c.length;++n<i;)o[(e=c[n]).i]=e.x(t);return o.join("")}}}var He=Ie((function(t){return"none"===t?ze:(Ve||(Ve=document.createElement("DIV"),Be=document.documentElement,Ne=document.defaultView),Ve.style.transform=t,t=Ne.getComputedStyle(Be.appendChild(Ve),null).getPropertyValue("transform"),Be.removeChild(Ve),Oe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Re=Ie((function(t){return null==t?ze:(Le||(Le=document.createElementNS("http://www.w3.org/2000/svg","g")),Le.setAttribute("transform",t),(t=Le.transform.baseVal.consolidate())?Oe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ze)}),", ",")",")");Math.SQRT2;function qe(t){return function e(n){function i(e,i){var r=t((e=he(e)).h,(i=he(i)).h),a=be(e.s,i.s),s=be(e.l,i.l),o=be(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=o(t),e+""}}return n=+n,i.gamma=e,i}(1)}qe((function(t,e){var n=e-t;return n?ge(t,n>180||n<-180?n-360*Math.round(n/360):n):pe(isNaN(t)?e:t)}));var Fe=qe(be);function Ue(t){return+t}var je=[0,1];function Xe(t){return t}function Ye(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function We(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function $e(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=Ye(r,i),a=n(s,a)):(i=Ye(i,r),a=n(a,s)),function(t){return a(i(t))}}function Ge(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=Ye(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=C(t,e,1,i)-1;return a[n](r[n](e))}}function Ze(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Je(t,e){return function(){var t,e,n,i,r,a,s=je,o=je,c=Te,l=Xe;function u(){return i=Math.min(s.length,o.length)>2?Ge:$e,r=a=null,d}function d(e){return isNaN(e=+e)?n:(r||(r=i(s.map(t),o,c)))(t(l(e)))}return d.invert=function(n){return l(e((a||(a=i(o,s.map(t),Me)))(n)))},d.domain=function(t){return arguments.length?(s=bt.call(t,Ue),l===Xe||(l=We(s)),u()):s.slice()},d.range=function(t){return arguments.length?(o=yt.call(t),u()):o.slice()},d.rangeRound=function(t){return o=yt.call(t),c=Ae,u()},d.clamp=function(t){return arguments.length?(l=t?We(s):Xe,d):l!==Xe},d.interpolate=function(t){return arguments.length?(c=t,u()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,i){return t=n,e=i,u()}}()(t,e)}function Qe(t,e,n,i){var r,a=B(t,e,n);switch((i=Y(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(U(e)/3)))-U(Math.abs(t)))}(a,s))||(i.precision=r),tt(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,U(e)-U(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-U(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return K(i)}function Ke(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,a,s,o=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=V(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(r=Math.ceil(e-t+1));++o<r;)a[o]=(t+o)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(r=Math.ceil(t-e+1));++o<r;)a[o]=(t-o)/s;return i&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Qe(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,s=r.length-1,o=r[a],c=r[s];return c<o&&(i=o,o=c,c=i,i=a,a=s,s=i),(i=V(o,c,n))>0?i=V(o=Math.floor(o/i)*i,c=Math.ceil(c/i)*i,n):i<0&&(i=V(o=Math.ceil(o*i)/i,c=Math.floor(c*i)/i,n)),i>0?(r[a]=Math.floor(o/i)*i,r[s]=Math.ceil(c/i)*i,e(r)):i<0&&(r[a]=Math.ceil(o*i)/i,r[s]=Math.floor(c*i)/i,e(r)),t},t}var tn=new Date,en=new Date;function nn(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,a){var s,o=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<i);return o},r.filter=function(n){return nn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return tn.setTime(+e),en.setTime(+i),t(tn),t(en),Math.floor(n(tn,en))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var rn=nn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));rn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?nn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):rn:null};var an=nn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),sn=nn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),on=nn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),cn=nn((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function ln(t){return nn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var un=ln(0),dn=ln(1),fn=(ln(2),ln(3),ln(4)),hn=(ln(5),ln(6),nn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),mn=nn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));mn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};nn((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),nn((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}));var pn=nn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function gn(t){return nn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var vn=gn(0),bn=gn(1),yn=(gn(2),gn(3),gn(4)),xn=(gn(5),gn(6),nn((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),nn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function wn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _n(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function En(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}xn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Mn,Pn,Sn,Cn,kn,Tn={"-":"",_:" ",0:"0"},An=/^\s*\d+/,Vn=/^%/,Bn=/[\\^$*+?|[\]().{}]/g;function Nn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Ln(t){return t.replace(Bn,"\\$&")}function Dn(t){return new RegExp("^(?:"+t.map(Ln).join("|")+")","i")}function zn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function On(t,e,n){var i=An.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function In(t,e,n){var i=An.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Hn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Rn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function qn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Fn(t,e,n){var i=An.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Un(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function jn(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Xn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Yn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Wn(t,e,n){var i=An.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function $n(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Gn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Zn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Jn(t,e,n){var i=An.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Qn(t,e,n){var i=An.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Kn(t,e,n){var i=Vn.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ti(t,e,n){var i=An.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function ei(t,e,n){var i=An.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function ni(t,e){return Nn(t.getDate(),e,2)}function ii(t,e){return Nn(t.getHours(),e,2)}function ri(t,e){return Nn(t.getHours()%12||12,e,2)}function ai(t,e){return Nn(1+cn.count(mn(t),t),e,3)}function si(t,e){return Nn(t.getMilliseconds(),e,3)}function oi(t,e){return si(t,e)+"000"}function ci(t,e){return Nn(t.getMonth()+1,e,2)}function li(t,e){return Nn(t.getMinutes(),e,2)}function ui(t,e){return Nn(t.getSeconds(),e,2)}function di(t){var e=t.getDay();return 0===e?7:e}function fi(t,e){return Nn(un.count(mn(t),t),e,2)}function hi(t,e){var n=t.getDay();return t=n>=4||0===n?fn(t):fn.ceil(t),Nn(fn.count(mn(t),t)+(4===mn(t).getDay()),e,2)}function mi(t){return t.getDay()}function pi(t,e){return Nn(dn.count(mn(t),t),e,2)}function gi(t,e){return Nn(t.getFullYear()%100,e,2)}function vi(t,e){return Nn(t.getFullYear()%1e4,e,4)}function bi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nn(e/60|0,"0",2)+Nn(e%60,"0",2)}function yi(t,e){return Nn(t.getUTCDate(),e,2)}function xi(t,e){return Nn(t.getUTCHours(),e,2)}function wi(t,e){return Nn(t.getUTCHours()%12||12,e,2)}function _i(t,e){return Nn(1+pn.count(xn(t),t),e,3)}function Ei(t,e){return Nn(t.getUTCMilliseconds(),e,3)}function Mi(t,e){return Ei(t,e)+"000"}function Pi(t,e){return Nn(t.getUTCMonth()+1,e,2)}function Si(t,e){return Nn(t.getUTCMinutes(),e,2)}function Ci(t,e){return Nn(t.getUTCSeconds(),e,2)}function ki(t){var e=t.getUTCDay();return 0===e?7:e}function Ti(t,e){return Nn(vn.count(xn(t),t),e,2)}function Ai(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yn(t):yn.ceil(t),Nn(yn.count(xn(t),t)+(4===xn(t).getUTCDay()),e,2)}function Vi(t){return t.getUTCDay()}function Bi(t,e){return Nn(bn.count(xn(t),t),e,2)}function Ni(t,e){return Nn(t.getUTCFullYear()%100,e,2)}function Li(t,e){return Nn(t.getUTCFullYear()%1e4,e,4)}function Di(){return"+0000"}function zi(){return"%"}function Oi(t){return+t}function Ii(t){return Math.floor(+t/1e3)}!function(t){Mn=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,l=Dn(r),u=zn(r),d=Dn(a),f=zn(a),h=Dn(s),m=zn(s),p=Dn(o),g=zn(o),v=Dn(c),b=zn(c),y={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:ni,e:ni,f:oi,H:ii,I:ri,j:ai,L:si,m:ci,M:li,p:function(t){return r[+(t.getHours()>=12)]},Q:Oi,s:Ii,S:ui,u:di,U:fi,V:hi,w:mi,W:pi,x:null,X:null,y:gi,Y:vi,Z:bi,"%":zi},x={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:yi,e:yi,f:Mi,H:xi,I:wi,j:_i,L:Ei,m:Pi,M:Si,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:Oi,s:Ii,S:Ci,u:ki,U:Ti,V:Ai,w:Vi,W:Bi,x:null,X:null,y:Ni,Y:Li,Z:Di,"%":zi},w={a:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=m[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=b[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return M(t,e,n,i)},d:Yn,e:Yn,f:Qn,H:$n,I:$n,j:Wn,L:Jn,m:Xn,M:Gn,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=u[i[0].toLowerCase()],n+i[0].length):-1},Q:ti,s:ei,S:Zn,u:In,U:Hn,V:Rn,w:On,W:qn,x:function(t,e,i){return M(t,n,e,i)},X:function(t,e,n){return M(t,i,e,n)},y:Un,Y:Fn,Z:jn,"%":Kn};function _(t,e){return function(n){var i,r,a,s=[],o=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++o<l;)37===t.charCodeAt(o)&&(s.push(t.slice(c,o)),null!=(r=Tn[i=t.charAt(++o)])?i=t.charAt(++o):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),s.push(i),c=o+1);return s.push(t.slice(c,o)),s.join("")}}function E(t,e){return function(n){var i,r,a=En(1900);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=_n(En(a.y))).getUTCDay(),i=r>4||0===r?bn.ceil(i):bn(i),i=pn.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=e(En(a.y))).getDay(),i=r>4||0===r?dn.ceil(i):dn(i),i=cn.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?_n(En(a.y)).getUTCDay():e(En(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,_n(a)):e(a)}}function M(t,e,n,i){for(var r,a,s=0,o=e.length,c=n.length;s<o;){if(i>=c)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(a=w[r in Tn?e.charAt(s++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=_(n,y),y.X=_(i,y),y.c=_(e,y),x.x=_(n,x),x.X=_(i,x),x.c=_(e,x),{format:function(t){var e=_(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",wn);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,_n);return e.toString=function(){return t},e}}}(t),Pn=Mn.format,Sn=Mn.parse,Cn=Mn.utcFormat,kn=Mn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Cn("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||kn("%Y-%m-%dT%H:%M:%S.%LZ");function Hi(t){return new Date(t)}function Ri(t){return t instanceof Date?+t:+new Date(+t)}function qi(t,e,n,i,r,a,s,o,c){var l=Je(Xe,Xe),u=l.invert,d=l.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),p=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function w(o){return(s(o)<o?f:a(o)<o?h:r(o)<o?m:i(o)<o?p:e(o)<o?n(o)<o?g:v:t(o)<o?b:y)(o)}function _(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=S((function(t){return t[2]})).right(x,a);s===x.length?(r=B(n/31536e6,i/31536e6,e),e=t):s?(r=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],e=s[0]):(r=Math.max(B(n,i,e),1),e=o)}return null==r?e:e.every(r)}return l.invert=function(t){return new Date(u(t))},l.domain=function(t){return arguments.length?d(bt.call(t,Ri)):d().map(Hi)},l.ticks=function(t,e){var n,i=d(),r=i[0],a=i[i.length-1],s=a<r;return s&&(n=r,r=a,a=n),n=(n=_(t,r,a,e))?n.range(r,a+1):[],s?n.reverse():n},l.tickFormat=function(t,e){return null==e?w:c(e)},l.nice=function(t,e){var n=d();return(t=_(t,n[0],n[n.length-1],e))?d(function(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],s=t[r];return s<a&&(n=i,i=r,r=n,n=a,a=s,s=n),t[i]=e.floor(a),t[r]=e.ceil(s),t}(n,t)):l},l.copy=function(){return Ze(l,qi(t,e,n,i,r,a,s,o,c))},l}function Fi(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}function Ui(t){return we(t[t.length-1])}Fi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Fi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Fi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Fi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Fi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Fi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Fi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Fi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ui(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Fi)),Ui(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Fi)),Ui(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Fi)),Ui(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Fi)),Ui(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Fi)),Ui(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Fi)),Ui(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Fi)),Ui(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Fi)),Ui(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Fi)),Ui(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Fi)),Ui(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Fi)),Ui(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Fi)),Ui(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Fi)),Ui(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Fi)),Ui(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Fi)),Ui(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Fi)),Ui(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Fi)),Ui(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Fi)),Ui(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Fi)),Ui(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Fi)),Ui(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Fi)),Ui(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Fi)),Ui(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Fi)),Ui(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Fi)),Ui(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Fi)),Ui(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Fi)),Ui(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Fi)),Fe(he(300,.5,0),he(-240,.5,1));Fe(he(-100,.75,.35),he(80,1.5,.8)),Fe(he(260,.75,.35),he(80,1.5,.8)),he(),Ht(),Math.PI,Math.PI;function ji(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}ji(Fi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ji(Fi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ji(Fi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ji(Fi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Xi="http://www.w3.org/1999/xhtml",Yi={svg:"http://www.w3.org/2000/svg",xhtml:Xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wi(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Yi.hasOwnProperty(e)?{space:Yi[e],local:t}:t}function $i(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xi&&e.documentElement.namespaceURI===Xi?e.createElement(t):e.createElementNS(n,t)}}function Gi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zi(t){var e=Wi(t);return(e.local?Gi:$i)(e)}function Ji(){}function Qi(t){return null==t?Ji:function(){return this.querySelector(t)}}function Ki(){return[]}function tr(t){return null==t?Ki:function(){return this.querySelectorAll(t)}}function er(t){return function(){return this.matches(t)}}function nr(t){return new Array(t.length)}function ir(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ir.prototype={constructor:ir,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rr(t,e,n,i,r,a){for(var s,o=0,c=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new ir(t,a[o]);for(;o<c;++o)(s=e[o])&&(r[o]=s)}function ar(t,e,n,i,r,a,s){var o,c,l,u={},d=e.length,f=a.length,h=new Array(d);for(o=0;o<d;++o)(c=e[o])&&(h[o]=l="$"+s.call(c,c.__data__,o,e),l in u?r[o]=c:u[l]=c);for(o=0;o<f;++o)(c=u[l="$"+s.call(t,a[o],o,a)])?(i[o]=c,c.__data__=a[o],u[l]=null):n[o]=new ir(t,a[o]);for(o=0;o<d;++o)(c=e[o])&&u[h[o]]===c&&(r[o]=c)}function sr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function or(t){return function(){this.removeAttribute(t)}}function cr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lr(t,e){return function(){this.setAttribute(t,e)}}function ur(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function fr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mr(t){return function(){this.style.removeProperty(t)}}function pr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function gr(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function vr(t,e){return t.style.getPropertyValue(e)||hr(t).getComputedStyle(t,null).getPropertyValue(e)}function br(t){return function(){delete this[t]}}function yr(t,e){return function(){this[t]=e}}function xr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function wr(t){return t.trim().split(/^|\s+/)}function _r(t){return t.classList||new Er(t)}function Er(t){this._node=t,this._names=wr(t.getAttribute("class")||"")}function Mr(t,e){for(var n=_r(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Pr(t,e){for(var n=_r(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Sr(t){return function(){Mr(this,t)}}function Cr(t){return function(){Pr(this,t)}}function kr(t,e){return function(){(e.apply(this,arguments)?Mr:Pr)(this,t)}}function Tr(){this.textContent=""}function Ar(t){return function(){this.textContent=t}}function Vr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Br(){this.innerHTML=""}function Nr(t){return function(){this.innerHTML=t}}function Lr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Dr(){this.nextSibling&&this.parentNode.appendChild(this)}function zr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Or(){return null}function Ir(){var t=this.parentNode;t&&t.removeChild(this)}function Hr(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Rr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Er.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qr={},Fr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(qr={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ur(t,e,n){return t=jr(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function jr(t,e,n){return function(i){var r=Fr;Fr=i;try{t.call(this,this.__data__,e,n)}finally{Fr=r}}}function Xr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Yr(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Wr(t,e,n){var i=qr.hasOwnProperty(t.type)?Ur:jr;return function(r,a,s){var o,c=this.__on,l=i(e,a,s);if(c)for(var u=0,d=c.length;u<d;++u)if((o=c[u]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=l,o.capture=n),void(o.value=e);this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(o):this.__on=[o]}}function $r(t,e,n){var i=hr(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Gr(t,e){return function(){return $r(this,t,e)}}function Zr(t,e){return function(){return $r(this,t,e.apply(this,arguments))}}var Jr=[null];function Qr(t,e){this._groups=t,this._parents=e}function Kr(){return new Qr([[document.documentElement]],Jr)}function ta(t){return"string"==typeof t?new Qr([[document.querySelector(t)]],[document.documentElement]):new Qr([[t]],Jr)}function ea(t){return function(){return t}}Qr.prototype=Kr.prototype={constructor:Qr,select:function(t){"function"!=typeof t&&(t=Qi(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s,o=e[r],c=o.length,l=i[r]=new Array(c),u=0;u<c;++u)(a=o[u])&&(s=t.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),l[u]=s);return new Qr(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=tr(t));for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var s,o=e[a],c=o.length,l=0;l<c;++l)(s=o[l])&&(i.push(t.call(s,s.__data__,l,o)),r.push(s));return new Qr(i,r)},filter:function(t){"function"!=typeof t&&(t=er(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,c=i[r]=[],l=0;l<o;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new Qr(i,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),l=-1,this.each((function(t){h[++l]=t})),h;var n=e?ar:rr,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,s=new Array(a),o=new Array(a),c=new Array(a),l=0;l<a;++l){var u=i[l],d=r[l],f=d.length,h=t.call(u,u&&u.__data__,l,i),m=h.length,p=o[l]=new Array(m),g=s[l]=new Array(m);n(u,d,p,g,c[l]=new Array(f),h,e);for(var v,b,y=0,x=0;y<m;++y)if(v=p[y]){for(y>=x&&(x=y+1);!(b=g[x])&&++x<m;);v._next=b||null}}return(s=new Qr(s,i))._enter=o,s._exit=c,s},enter:function(){return new Qr(this._enter||this._groups.map(nr),this._parents)},exit:function(){return new Qr(this._exit||this._groups.map(nr),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var c,l=e[o],u=n[o],d=l.length,f=s[o]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;o<i;++o)s[o]=e[o];return new Qr(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=sr);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s,o=n[a],c=o.length,l=r[a]=new Array(c),u=0;u<c;++u)(s=o[u])&&(l[u]=s);l.sort(e)}return new Qr(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],s=0,o=a.length;s<o;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this},attr:function(t,e){var n=Wi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?cr:or:"function"==typeof e?n.local?fr:dr:n.local?ur:lr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?mr:"function"==typeof e?gr:pr)(t,e,null==n?"":n)):vr(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?br:"function"==typeof e?xr:yr)(t,e)):this.node()[t]},classed:function(t,e){var n=wr(t+"");if(arguments.length<2){for(var i=_r(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?kr:e?Sr:Cr)(n,e))},text:function(t){return arguments.length?this.each(null==t?Tr:("function"==typeof t?Vr:Ar)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Br:("function"==typeof t?Lr:Nr)(t)):this.node().innerHTML},raise:function(){return this.each(Dr)},lower:function(){return this.each(zr)},append:function(t){var e="function"==typeof t?t:Zi(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Zi(t),i=null==e?Or:"function"==typeof e?e:Qi(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Ir)},clone:function(t){return this.select(t?Rr:Hr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=Xr(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?Wr:Yr,null==n&&(n=!1),i=0;i<s;++i)this.each(o(a[i],e,n));return this}var o=this.node().__on;if(o)for(var c,l=0,u=o.length;l<u;++l)for(i=0,c=o[l];i<s;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Zr:Gr)(t,e))}};Math.PI;function na(t){this._context=t}function ia(t){return new na(t)}function ra(t){return t[0]}function aa(t){return t[1]}function sa(t){return t<0?-1:1}function oa(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(sa(a)+sa(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function ca(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function la(t,e,n){var i=t._x0,r=t._y0,a=t._x1,s=t._y1,o=(a-i)/3;t._context.bezierCurveTo(i+o,r+o*e,a-o,s-o*n,a,s)}function ua(t){this._context=t}function da(t){this._context=t}function fa(t){return new ua(t)}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:la(this,this._t0,ca(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,la(this,ca(this,n=oa(this,t,e)),n);break;default:la(this,this._t0,n=oa(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new da(t)}.prototype=Object.create(ua.prototype)).point=function(t,e){ua.prototype.point.call(this,e,t)},da.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};var ha={value:function(){}};function ma(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new pa(i)}function pa(t){this._=t}function ga(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function va(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ba(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ha,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}pa.prototype=ma.prototype={constructor:pa,on:function(t,e){var n,i=this._,r=ga(t+"",i),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=r[a]).type)i[n]=ba(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ba(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=r[a]).type)&&(n=va(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pa(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var ya,xa,wa=0,_a=0,Ea=0,Ma=0,Pa=0,Sa=0,Ca="object"==typeof performance&&performance.now?performance:Date,ka="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ta(){return Pa||(ka(Aa),Pa=Ca.now()+Sa)}function Aa(){Pa=0}function Va(){this._call=this._time=this._next=null}function Ba(t,e,n){var i=new Va;return i.restart(t,e,n),i}function Na(){Pa=(Ma=Ca.now())+Sa,wa=_a=0;try{!function(){Ta(),++wa;for(var t,e=ya;e;)(t=Pa-e._time)>=0&&e._call.call(null,t),e=e._next;--wa}()}finally{wa=0,function(){var t,e,n=ya,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ya=e);xa=t,Da(i)}(),Pa=0}}function La(){var t=Ca.now(),e=t-Ma;e>1e3&&(Sa-=e,Ma=t)}function Da(t){wa||(_a&&(_a=clearTimeout(_a)),t-Pa>24?(t<1/0&&(_a=setTimeout(Na,t-Ca.now()-Sa)),Ea&&(Ea=clearInterval(Ea))):(Ea||(Ma=Ca.now(),Ea=setInterval(La,1e3)),wa=1,ka(Na)))}function za(t,e,n){var i=new Va;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i}Va.prototype=Ba.prototype={constructor:Va,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ta():+n)+(null==e?0:+e),this._next||xa===this||(xa?xa._next=this:ya=this,xa=this),this._call=t,this._time=n,Da()},stop:function(){this._call&&(this._call=null,this._time=1/0,Da())}};var Oa=ma("start","end","cancel","interrupt"),Ia=[];function Ha(t,e,n,i,r,a){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(c){var l,u,d,f;if(1!==n.state)return o();for(l in r)if((f=r[l]).name===n.name){if(3===f.state)return za(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[l])}if(za((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=5,1),a=-1,s=i.length;++a<s;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Ba((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:Oa,tween:Ia,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Ra(t,e){var n=Fa(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function qa(t,e){var n=Fa(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Fa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ua(t,e){var n,i;return function(){var r=qa(this,t),a=r.tween;if(a!==n)for(var s=0,o=(i=n=a).length;s<o;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function ja(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=qa(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=o;break}c===l&&r.push(o)}a.tween=r}}function Xa(t,e,n){var i=t._id;return t.each((function(){var t=qa(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Fa(t,i).value[e]}}function Ya(t,e){var n;return("number"==typeof e?Me:e instanceof Dt?ye:(n=Dt(e))?(e=n,ye):ke)(t,e)}function Wa(t){return function(){this.removeAttribute(t)}}function $a(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ga(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===i?r:r=e(i=s,n)}}function Za(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===i?r:r=e(i=s,n)}}function Ja(t,e,n){var i,r,a;return function(){var s,o,c=n(this);if(null!=c)return(s=this.getAttribute(t))===(o=c+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,c));this.removeAttribute(t)}}function Qa(t,e,n){var i,r,a;return function(){var s,o,c=n(this);if(null!=c)return(s=this.getAttributeNS(t.space,t.local))===(o=c+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,c));this.removeAttributeNS(t.space,t.local)}}function Ka(t,e){return function(n){this.setAttribute(t,e(n))}}function ts(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}function es(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&ts(t,r)),n}return r._value=e,r}function ns(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ka(t,r)),n}return r._value=e,r}function is(t,e){return function(){Ra(this,t).delay=+e.apply(this,arguments)}}function rs(t,e){return e=+e,function(){Ra(this,t).delay=e}}function as(t,e){return function(){qa(this,t).duration=+e.apply(this,arguments)}}function ss(t,e){return e=+e,function(){qa(this,t).duration=e}}function os(t,e){if("function"!=typeof e)throw new Error;return function(){qa(this,t).ease=e}}function cs(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ra:qa;return function(){var s=a(this,t),o=s.on;o!==i&&(r=(i=o).copy()).on(e,n),s.on=r}}var ls=Kr.prototype.constructor;function us(t){return function(){this.style.removeProperty(t)}}function ds(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}function fs(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&ds(t,a,n)),i}return a._value=e,a}var hs=0;function ms(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ps(t){return Kr().transition(t)}function gs(){return++hs}var vs=Kr.prototype;ms.prototype=ps.prototype={constructor:ms,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qi(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o,c,l=i[s],u=l.length,d=a[s]=new Array(u),f=0;f<u;++f)(o=l[f])&&(c=t.call(o,o.__data__,f,l))&&("__data__"in o&&(c.__data__=o.__data__),d[f]=c,Ha(d[f],e,n,f,d,Fa(o,n)));return new ms(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=tr(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var c,l=i[o],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var f,h=t.call(c,c.__data__,d,l),m=Fa(c,n),p=0,g=h.length;p<g;++p)(f=h[p])&&Ha(f,e,n,p,h,m);a.push(h),s.push(c)}return new ms(a,s,e,n)},filter:function(t){"function"!=typeof t&&(t=er(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,c=i[r]=[],l=0;l<o;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new ms(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var c,l=e[o],u=n[o],d=l.length,f=s[o]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;o<i;++o)s[o]=e[o];return new ms(s,this._parents,this._name,this._id)},selection:function(){return new ls(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=gs(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],c=o.length,l=0;l<c;++l)if(s=o[l]){var u=Fa(s,e);Ha(s,t,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ms(i,this._parents,t,n)},call:vs.call,nodes:vs.nodes,node:vs.node,size:vs.size,empty:vs.empty,each:vs.each,on:function(t,e){var n=this._id;return arguments.length<2?Fa(this.node(),n).on.on(t):this.each(cs(n,t,e))},attr:function(t,e){var n=Wi(t),i="transform"===n?Re:Ya;return this.attrTween(t,"function"==typeof e?(n.local?Qa:Ja)(n,i,Xa(this,"attr."+t,e)):null==e?(n.local?$a:Wa)(n):(n.local?Za:Ga)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Wi(t);return this.tween(n,(i.local?es:ns)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?He:Ya;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=vr(this,t),s=(this.style.removeProperty(t),vr(this,t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}(t,i)).on("end.style."+t,us(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,a;return function(){var s=vr(this,t),o=n(this),c=o+"";return null==o&&(this.style.removeProperty(t),c=o=vr(this,t)),s===c?null:s===i&&c===r?a:(r=c,a=e(i=s,o))}}(t,i,Xa(this,"style."+t,e))).each(function(t,e){var n,i,r,a,s="style."+e,o="end."+s;return function(){var c=qa(this,t),l=c.on,u=null==c.value[s]?a||(a=us(e)):void 0;l===n&&r===u||(i=(n=l).copy()).on(o,r=u),c.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,a=n+"";return function(){var s=vr(this,t);return s===a?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,fs(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Xa(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Fa(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?Ua:ja)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?is:rs)(e,t)):Fa(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?as:ss)(e,t)):Fa(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(os(e,t)):Fa(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(a,s){var o={value:s},c={value:function(){0==--r&&a()}};n.each((function(){var n=qa(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),n.on=e}))}))}};var bs={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ys(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return bs.time=Ta(),bs;return n}Kr.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,a=t.__transition,s=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[r]):s=!1;s&&delete t.__transition}}(this,t)}))},Kr.prototype.transition=function(t){var e,n;t instanceof ms?(e=t._id,t=t._name):(e=gs(),(n=bs).time=Ta(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],c=o.length,l=0;l<c;++l)(s=o[l])&&Ha(s,t,e,l,o,n||ys(s,e));return new ms(i,this._parents,t,e)};var xs=window&&window.__assign||function(){return(xs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ws=function(){function t(t,e,n){var i=this;this.target=t,this.endVal=e,this.options=n,this.version="2.0.4",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){i.startTime||(i.startTime=t);var e=t-i.startTime;i.remaining=i.duration-e,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(e,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(e,i.startVal,i.endVal-i.startVal,i.duration):i.countDown?i.frameVal=i.startVal-(i.startVal-i.endVal)*(e/i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(e/i.duration),i.countDown?i.frameVal=i.frameVal<i.endVal?i.endVal:i.frameVal:i.frameVal=i.frameVal>i.endVal?i.endVal:i.frameVal,i.frameVal=Math.round(i.frameVal*i.decimalMult)/i.decimalMult,i.printValue(i.frameVal),e<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(t){var e,n,r,a,s,o=t<0?"-":"";if(e=Math.abs(t).toFixed(i.options.decimalPlaces),r=(n=(e+="").split("."))[0],a=n.length>1?i.options.decimal+n[1]:"",i.options.useGrouping){s="";for(var c=0,l=r.length;c<l;++c)0!==c&&c%3==0&&(s=i.options.separator+s),s=r[l-c-1]+s;r=s}return i.options.numerals&&i.options.numerals.length&&(r=r.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]})),a=a.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]}))),o+i.options.prefix+r+a+i.options.suffix},this.easeOutExpo=function(t,e,n,i){return n*(1-Math.pow(2,-10*t/i))*1024/1023+e},this.options=xs({},this.defaults,n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold){this.finalEndVal=t;var n=this.countDown?1:-1;this.endVal=t+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}(),_s={widget:{},selector:"",maxCount:0,selectedPeriod:0,parsedDate:Sn("%Y-%m-%d"),dateBegin:"",dateEnd:"",monthsTicks:0,monthsCount:0,dataPeriod:"",isSmall:!1,icons:{},init:function(t){_s.widget=t.widget,_s.selector=t.selector,_s.smallSize(),_s.icons={share:{shares:'<svg width="14" height="12" viewBox="0 0 14 12"><path d="M8.5 3.8v-3L13.8 6l-5.3 5.3V8.2C4.7 8.2 2.1 9.4.2 12c.8-3.8 3-7.5 8.3-8.3z"/></svg>',comments:'<svg width="14" height="14" viewBox="0 0 14 14"><path d="M13.7 1.7c0-.8-.6-1.4-1.4-1.4H1.7C.9.3.3 1 .3 1.7v8c0 .7.6 1.3 1.4 1.3H11l2.7 2.7v-12zM11 8.3H3V7h8v1.3zm0-2H3V5h8v1.3zm0-2H3V3h8v1.3z"/></svg>',likes:'<svg width="14" height="13" viewBox="0 0 14 13"><path d="M.6 12.3h2.3v-7H.6v7zm12.8-6.5c0-.6-.5-1.1-1.1-1.1H8.6L9 2v-.2c0-.2 0-.4-.2-.6L8.3.6 4.4 4.4c-.2.2-.3.5-.3.9V11c0 .6.5 1.2 1.2 1.2h5.2c.5 0 .9-.3 1-.8l1.8-4 .1-.5V5.9z"/></svg>',loves:'<svg width="14" height="13" viewBox="0 0 14 13"><path d="M7 12.2l-1-.8C2.6 8.2.3 6.2.3 3.7.3 1.7 2 0 4 0a4 4 0 013 1.4A4 4 0 0110 0c2 0 3.7 1.6 3.7 3.7 0 2.5-2.3 4.5-5.7 7.7l-1 .8z"/></svg>',tweets:'<svg width="16" height="10" viewBox="0 0 16 10"><path d="M3.3 3.3V8h7.2l1 1.3H2v-6H0L2.7 0l2.6 3.3h-2zM12.7 6V1.3H5.5L4.5 0H14v6h2l-2.7 3.3L10.7 6h2z"/></svg>'},social:{facebook:"",twitter:"",reddit:"",news:"",blog:"",wikipedia:"",other:""}}},smallSize:function(){window.screen.width<960&&(_s.isSmall=!0)},setPeriod:function(){_s.widget.dataPeriod=document.querySelector(".".concat(_s.selector,"__content-section .metrics-tabs__item-link.metrics-selected--js")).dataset.title;var t;t={last6:5,last12:11,total:_s.widget.dataDates.length-1},_s.selectedPeriod=t[_s.widget.dataPeriod]},setMax:function(){var t,e=_s.widget.selectedSections;e.length&&(e.forEach((function(e){_s.setPeriod();var n=e.months.slice(0,_s.monthsCount+1).sort((function(t,e){return t.count<e.count?1:-1}))[0];(t<n.count||void 0===t)&&(t=n.count)})),_s.maxCount=t)},setStartDate:function(){if(_s.widget.selectedSections.length){var t,e;if(_s.widget.selectedSections.forEach((function(n,i){(t>_s.parsedDate(n.startDate)||void 0===t)&&(t=_s.parsedDate(n.startDate),e=i)})),_s.widget.selectedSections[e].months.length>=_s.selectedPeriod+1&&"total"!==_s.widget.dataPeriod){var n=_s.parsedDate(_s.widget.dataMonths[0]);n.setMonth(n.getMonth()-_s.selectedPeriod),_s.dateBegin=n,_s.monthsTicks=_s.selectedPeriod+1,_s.monthsCount=_s.selectedPeriod+1}else _s.dateBegin=t,_s.monthsTicks=_s.widget.selectedSections[e].months.length,_s.monthsCount=_s.widget.selectedSections[e].months.length;_s.dateEnd=_s.parsedDate(_s.widget.dataMonths[0])}},emptyData:function(){var t=document.querySelector(".".concat(_s.selector," .metrics-chart__empty")),e="metrics-chart__empty--show";0===_s.widget.dataDates.length||1===_s.widget.dataDates.length?t.classList.add(e):t.classList.remove(e)},scales:function(){_s.widget.yScale=function t(){var e=Je(Xe,Xe);return e.copy=function(){return Ze(e,t())},ft.apply(e,arguments),Ke(e)}().domain([0,_s.maxCount]).range([_s.widget.height,0]),_s.widget.xScale=function(){return ft.apply(qi(mn,hn,un,cn,on,sn,an,rn,Pn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([_s.dateBegin,_s.dateEnd]).range([20,_s.widget.width-10])},dataUpdate:function(t){_s.widget.dataSectionIndex=_s.widget.data.dataSections.map((function(t){return t.id})).indexOf(t),_s.widget.dataDates=_s.widget.data.dataSections[_s.widget.dataSectionIndex].months,void 0===_s.widget.dataDates[0]&&(_s.widget.dataDates[0]={month:"2019-1-1",count:0},_s.widget.data.dataSections[0].startDate="2019-1-1"),_s.widget.dataDates.sort((function(t,e){return _s.parsedDate(e.month)-_s.parsedDate(t.month)})),_s.widget.dataMonths=_s.widget.dataDates.map((function(t){return t.month})),_s.setPeriod(),_s.setStartDate(),_s.setMax(),_s.scales(),_s.axises()},axises:function(){var t,e,n=Pn("%b");"total"===document.querySelector(".".concat(_s.selector,"__content-section .metrics-tabs__item-link.metrics-selected--js")).dataset.title&&_s.monthsTicks>=6&&(n=Pn("%b %y")),_s.monthsTicks>14&&(_s.monthsTicks=7),t=_s.maxCount<4&&_s.maxCount>0?_s.maxCount:4,_s.widget.x_axis=R(3,e).tickFormat(n).scale(_s.widget.xScale).ticks(_s.monthsTicks),_s.widget.y_axis=function(t){return R(4,t)}().scale(_s.widget.yScale).ticks(t).tickFormat((function(t){return t.toLocaleString(navigator.language)})).tickSize(-_s.widget.width)},setContainers:function(t){var e=document.querySelectorAll(".".concat(_s.selector,"-container"));t&&(_s.widget.containerIndex=a(e).indexOf(t.closest(".".concat(_s.selector,"-container")))),_s.widget.container=e[_s.widget.containerIndex]},counter:function(t){var e={useEasing:!0,useGrouping:!0,decimal:".",formattingFn:function(t){return t.toLocaleString(navigator.language)}};t&&new ws(t,t.innerHTML.replace(/\D/g,""),e).start()}},Es=function(t){var e,n=(e=_s.widget.container?_s.widget.container.querySelector(t):document.querySelector(t)).getAttribute("data-metrics-target-for"),i=e.closest(".metrics-menu").querySelector("[data-metrics-target-of='".concat(n,"']"));function r(n){if(!e.isSameNode(n.target)&&null===n.target.closest(t)){var r=document.querySelector(".toolbar-metric__menu");r&&r.classList.contains("js--metrics-open")&&M.toolbarCaptureEvents("close",null),i.classList.remove("js--metrics-open"),i.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false")}}e.addEventListener("click",(function(t){var n=t.currentTarget,a=n.classList.contains("toolbar-metric__link");t.preventDefault(),""!==i.childNodes[0].innerHTML&&(i.classList.toggle("js--metrics-open"),"false"===e.getAttribute("aria-expanded")?(i.removeAttribute("aria-hidden"),n.setAttribute("aria-expanded","true"),window.addEventListener("click",r,!0),a&&M.toolbarCaptureEvents("open",null)):(i.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),a&&M.toolbarCaptureEvents("close",null)))}))},Ms={data:[],container:"",containerIndex:0,init:function(t){_s.init({widget:this,selector:"toolbar-metric"}),Ms.containerIndex=t,_s.setContainers(),_s.widget.data.push(JSON.parse(_s.widget.container.querySelector(".".concat(_s.selector,"__data")).value).data);var e=_s.widget.container.querySelector(".toolbar-metric__metrics-link");Es(".toolbar-metric__link"),e&&e.addEventListener("click",(function(t){return M.toolbarCaptureEvents("full-page",null)})),_s.widget.container.querySelectorAll(".toolbar-metric__total .total-text").forEach((function(t){return _s.counter(t)}))}},Ps={build:function(){var t=document.querySelector(".".concat(_s.selector," .metrics-chart"));_s.widget.svgContainerWidth=t.clientWidth,_s.widget.data=JSON.parse(document.querySelector(".".concat(_s.selector,"__data")).value).data,_s.widget.margin={top:40,right:5,bottom:45,left:40},_s.widget.width=_s.widget.svgContainerWidth-_s.widget.margin.left-_s.widget.margin.right,_s.widget.height=200-_s.widget.margin.top-_s.widget.margin.bottom,Ps.selectedNav=document.querySelector(".".concat(_s.selector," .metrics-nav__item-link.metrics-selected--js")),Ps.selectedNavTitle=Ps.selectedNav.dataset.title,_s.widget.selections();var e=[];_s.widget.selectedTabs.forEach((function(t){e.push(t.dataset.title),_s.widget.selectedSections.push(_s.widget.data.dataSections[_s.widget.data.dataSections.map((function(t){return t.id})).indexOf(Ps.selectedNavTitle)])})),document.querySelector(".".concat(_s.selector," .metrics-chart__svg"))&&document.querySelector(".".concat(_s.selector," .metrics-chart__svg")).remove(),_s.widget.svg=ta(".".concat(_s.selector," .metrics-chart")).append("svg").attr("class","metrics-chart__svg").attr("font-family","sans-serif").attr("id","svg").attr("width",_s.widget.width+_s.widget.margin.left+_s.widget.margin.right).attr("height",_s.widget.height+_s.widget.margin.top+_s.widget.margin.bottom).attr("preserveAspectRatio","xMinYMin").attr("viewBox","0 0 ".concat(_s.widget.svgContainerWidth," 200")).append("g").attr("transform","translate(".concat(_s.widget.margin.left,", ").concat(_s.widget.margin.top,")")),_s.widget.svg.append("g").attr("class","svg-metrics__y-axis"),_s.widget.svg.append("g").attr("transform","translate(0, ".concat(_s.widget.height+15,")")).attr("class","svg-metrics__x-axis"),ta("body").append("div").attr("class","metrics-chart__tooltip"),Ps.update(e)},content:function(t){if(_s.widget.valueLine=function(){var t=ra,e=aa,n=ea(!0),i=null,r=ia,a=null;function s(s){var o,c,l,u=s.length,d=!1;for(null==i&&(a=r(l=dt())),o=0;o<=u;++o)!(o<u&&n(c=s[o],o,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(c,o,s),+e(c,o,s));if(l)return a=null,l+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:ea(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:ea(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:ea(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),s):i},s}().x((function(t){return _s.widget.xScale(_s.parsedDate(t.month))})).y((function(t){return _s.widget.yScale(t.count)})).curve(fa),1!==_s.widget.dataDates.length||_s.widget.dataDates.length>1){var e=_s.widget.dataDates.slice(0,_s.selectedPeriod+1),n=JSON.parse(JSON.stringify(e));n.forEach((function(t){return t.count=0})),_s.widget.svg.append("path").data([n]).style("opacity",0).attr("class","line line--".concat(t)).attr("d",_s.widget.valueLine).data([e]).transition().duration(750).style("opacity",1).ease(q).attr("d",_s.widget.valueLine).attr("stroke-width","3").attr("fill","transparent").attr("stroke-linecap","round").attr("stroke",Ps.inlineStyle(".line--".concat(t),"stroke")),_s.widget.svg.append("g").attr("class","dots dots--".concat(t)).selectAll(".dot").data(_s.widget.dataDates.slice(0,_s.selectedPeriod+1)).enter().append("circle").attr("class","dot dot--".concat(t)).attr("stroke","transparent").attr("cx",(function(t){return _s.widget.xScale(_s.parsedDate(t.month))})).attr("cy",(function(t){return _s.widget.yScale(t.count)})).attr("r",5).attr("data-month",(function(t){return t.month})).attr("data-count",(function(t){return t.count})).attr("fill","transparent"),document.querySelector(".".concat(_s.selector)).classList.contains("full-metrics")?(Ps.legends(t),Ps.tooltip(t)):Ps.sidebarTooltip(t)}},update:function(t){t.forEach((function(t){_s.dataUpdate(t),_s.widget.svg.select(".svg-metrics__y-axis").transition(ps().duration(300)).call(Ps.customYAxis),_s.widget.svg.select(".svg-metrics__x-axis").transition(ps().duration(300)).call(Ps.customXAxis),Ps.content(t)}))},legends:function(t){var e=0,n=_s.widget.data.dataSections[_s.widget.dataSectionIndex].title;document.querySelectorAll(".".concat(_s.selector," .legends")).forEach((function(t){return e+=t.getBoundingClientRect().width+15}));var i=_s.widget.svg.append("g").attr("class","legends legends--".concat(t)).attr("transform",(function(t){return"translate(".concat(e,", -17)")}));i.append("rect").attr("rx",1.5).attr("ry",1.5).attr("x",-20).attr("y",-6).attr("width",15).attr("height",3).attr("fill",Ps.inlineStyle(".line--".concat(t),"stroke")),i.append("text").attr("y",0).attr("x",0).attr("font-size","14px").text(n).attr("fill",Ps.inlineStyle(".line--".concat(t),"stroke"))},periods:function(){var t=[];_s.widget.selectedTabs.forEach((function(e){return t.push(e.dataset.title)})),_s.widget.svg.selectAll("path.line").remove(),_s.widget.svg.selectAll(".dots").remove(),_s.widget.svg.selectAll(".legends").remove(),Ps.update(t),_s.emptyData(_s.selector,_s.widget)},customYAxis:function(t){t.call(_s.widget.y_axis),t.selectAll(".tick line").attr("x1",10).attr("stroke",Ps.inlineStyle(".svg-metrics__y-axis line","stroke")),t.selectAll(".tick text").attr("x",5).attr("font-size","12px").attr("fill",Ps.inlineStyle(".svg-metrics__y-axis text","fill")),t.selectAll(".domain").attr("stroke",Ps.inlineStyle(".svg-metrics__y-axis path","stroke"))},customXAxis:function(t){t.call(_s.widget.x_axis),t.selectAll("text").attr("fill",Ps.inlineStyle(".svg-metrics__x-axis text","fill")).attr("transform",(function(t){var e=document.querySelector(".".concat(_s.selector," .metrics-chart")).clientWidth;if(_s.isSmall&&_s.monthsCount>6||e<960&&_s.monthsCount>6)return"rotate(45)"})),t.selectAll("line").attr("stroke",Ps.inlineStyle(".svg-metrics__x-axis line","stroke")),t.selectAll("path").attr("stroke",Ps.inlineStyle(".svg-metrics__x-axis path","stroke"))},tooltip:function(t){var e="numeric-metrics"===_s.selector;_s.widget.svg.selectAll(".".concat(_s.selector," .metrics-chart .dot--").concat(t)).on("mouseover",(function(n){e&&M.numericCaptureEvents("point-hover",t),_s.widget.tooltip=ta(".metrics-chart__tooltip");var i=_s.parsedDate(n.month),r=Pn("%b %y");_s.widget.tooltip.classed("active--js metrics-chart__tooltip--".concat(t),!0),_s.widget.tooltip.html("<div>".concat(r(i),"</div><b>").concat(n.count,"</b>"))})).on("mousemove",(function(t){_s.widget.tooltip=document.querySelector(".metrics-chart__tooltip");var e=_s.widget.tooltip.clientHeight+24,n=_s.widget.tooltip.clientWidth/2;_s.widget.tooltip.style.left=Fr.pageX-n+"px",_s.widget.tooltip.style.top=Fr.pageY-e+"px"})).on("mouseout",(function(e){_s.widget.tooltip=ta(".metrics-chart__tooltip"),_s.widget.tooltip.classed("active--js metrics-chart__tooltip--".concat(t),!1)}))},sidebarTooltip:function(t){var e="sidebar-metric"===_s.selector;_s.widget.svg.selectAll(".sidebar-metric .metrics-chart .dot--".concat(t)).on("mouseover",(function(n){e&&M.sidebarCaptureEvents("point-hover",t)}))},inlineStyle:function(t,e){return window.getComputedStyle(document.querySelector(t),null).getPropertyValue(e)},downloadCSV:function(){var t="data:text/csv;charset=utf-8,",e=[],n=document.querySelector(".".concat(_s.selector," .metrics-menu__dropdown-item--CSV > .metrics-menu__dropdown-link")),i=_s.widget.data.publicationTitle+".csv",r=Pn("%Y-%m");if(_s.widget.data.dataSections.length>0){for(var a=0;a<_s.widget.data.dataSections.length;a++)for(var s=0;s<_s.widget.data.dataSections[a].months.length;s++){var o=_s.parsedDate(_s.widget.data.dataSections[a].months[s].month);e.push("".concat(_s.widget.data.dataSections[a].title,",").concat(r(o),",").concat(_s.widget.data.dataSections[a].months[s].count))}t+=e.join("\r\n");var c=encodeURI(t);if(window.navigator.msSaveOrOpenBlob){var l=new Blob([t]);n.addEventListener("click",(function(t){return window.navigator.msSaveOrOpenBlob(l,i)}))}else n.setAttribute("href",c),n.setAttribute("download",i)}else n.setAttribute("title","Not enough data")},createPNG:function(){var t=_s.selector;setTimeout((function(){var e=(new XMLSerializer).serializeToString(ta("body .".concat(t," .metrics-chart__svg")).node());e=(e=e.replace(/(\w+)?:?xlink=/g,"xmlns:xlink=")).replace(/NS\d+:href/g,"xlink:href");var n=document.querySelector(".".concat(t," .metrics-menu__dropdown-item--PNG > .metrics-menu__dropdown-link"));if(n){new Blob([e],{type:"image/svg+xml;charset=utf-8"});var i="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e)))),r=ta(".".concat(t," .metrics-chart")).append("img").classed("metrics-chart__export-img",!0).node();r.src=i,r.onload=function(a){var s=document.createElement("canvas"),o=s.getContext("2d",{alpha:!1}),c=window.getComputedStyle(document.querySelector(".".concat(t," .metrics-chart__svg")),null).getPropertyValue("fill"),l=_s.widget.data.publicationTitle+".png";URL.revokeObjectURL(i),s.width=_s.widget.svgContainerWidth,s.height=200,o.clearRect(0,0,s.width,s.height),o.fillStyle=c,o.fillRect(0,0,s.width,s.height),o.drawSvg(e,0,0,s.width,s.height),window.navigator.msSaveOrOpenBlob?n.onclick=function(){window.navigator.msSaveOrOpenBlob(s.msToBlob(),l)}:(n.setAttribute("href",s.toDataURL()),n.setAttribute("download",l),n.setAttribute("target","_blank")),s.remove(),r.remove()}}}),300)}},Ss={thisNav:"",navTitle:"",disabledNav:"",sectionIndex:"",total:"",totalIcon:"",init:function(t,e){t.preventDefault(),Ss.thisNav=e,Ss.navTitle=Ss.thisNav.dataset.title,Ss.total=document.querySelector(".".concat(_s.selector," .metrics-total__item--").concat(Ss.navTitle)),Ss.totalIcon=Ss.total.querySelector(".metric-icon-fill"),Ss.sectionIndex=_s.widget.data.dataSections.map((function(t){return t.id})).indexOf(Ss.navTitle),Ss.disabledNav=document.querySelector(".".concat(_s.selector," .metrics-header .metrics-nav__item .metrics-nav__item-link--disabled")),Ss.disabledNav&&Ss.disabledNav.classList.remove("metrics-selected--js")},handler:function(t,e){var n=t.currentTarget,i=n.dataset.title;Ss.init(t,n),e.classList.contains("metrics-selected--js")?(Ss.unSelect(),M.init(_s.selector,"deselect",i)):(Ss.select(),M.init(_s.selector,"select",i))},unSelect:function(){if(!(_s.widget.selectedTabs.length<=1)){Ss.thisNav.classList.remove("metrics-selected--js"),Ss.total.classList.remove("metrics-selected--js"),Ss.totalIcon.classList.remove("metrics-selected--js"),_s.widget.svg.selectAll("path.line--".concat(Ss.navTitle)).transition().duration(300).style("opacity",0).remove(),_s.widget.svg.selectAll(".dots--".concat(Ss.navTitle)).remove(),_s.widget.svg.selectAll(".legends--".concat(Ss.navTitle)).remove();var t=document.querySelectorAll(".".concat(_s.selector," a.metrics-nav__item-link"));_s.widget.selectedSections=[],t.forEach((function(t,e){t.classList.contains("metrics-selected--js")&&_s.widget.selectedSections.push(_s.widget.data.dataSections[e])})),Ss.reset()}},select:function(){Ss.thisNav.classList.add("metrics-selected--js"),Ss.total.classList.add("metrics-selected--js"),Ss.totalIcon.classList.add("metrics-selected--js"),_s.counter(Ss.total.querySelector(".metrics-total__item-text")),_s.widget.selectedSections.push(_s.widget.data.dataSections[Ss.sectionIndex]),Ss.reset()},reset:function(){_s.widget.selections();var t=[];_s.widget.svg.selectAll("path.line").remove(),_s.widget.svg.selectAll(".dots").remove(),_s.widget.svg.selectAll(".legends").remove(),_s.widget.selectedTabs.forEach((function(e){return t.push(e.dataset.title)})),Ps.update(t),_s.emptyData(_s.selector,_s.widget),Ps.createPNG()}},Cs=function(t,e){t.preventDefault();var n=document.querySelector(".".concat(_s.selector," .metrics-tabs__link .link-text"));e.classList.contains("metrics-selected--js")||(e.closest(".metrics-tabs").querySelector(".metrics-selected--js").classList.remove("metrics-selected--js"),e.classList.add("metrics-selected--js"),n&&(n.textContent=e.textContent))},ks=function(){var t=document.querySelector(".".concat(_s.selector," .metrics-tabs__item-link.metrics-selected--js")).dataset.title,e=document.querySelector(".".concat(_s.selector," .metrics-sub-title__period"));e.innerText="total"===t?"":"for the most recent ".concat({last6:6,last12:12}[t]," whole calendar months"),document.querySelectorAll(".".concat(_s.selector," .metrics-sub-title__text")).forEach((function(t){return t.innerText=""})),_s.widget.selectedTabs?_s.widget.selectedTabs.forEach((function(t,e){var n=document.querySelector(".".concat(_s.selector," .metrics-sub-title__text--").concat(t.dataset.title));e===_s.widget.selectedTabs.length-1&&0!==e?n.textContent=" and ".concat(t.textContent.toLowerCase()," "):e>=_s.widget.selectedTabs.length-2?n.textContent=" ".concat(t.textContent.toLowerCase()," "):n.textContent=" ".concat(t.textContent.toLowerCase(),",")})):document.querySelector(".".concat(_s.selector," .metrics-sub-title__text--").concat(_s.widget.selectedTabs.dataset.title)).textContent=" ".concat(_s.widget.selectedTabs.textContent.toLowerCase()," ")},Ts={data:"",svg:"",valueLine:"",margin:{},width:null,height:null,dataCounts:"",yScale:"",xScale:"",selectedSections:[],dataMonths:"",dataDates:"",x_axis:"",y_axis:"",selectedTabs:[],selectedTabDataTitle:"",svgContainerWidth:0,init:function(){_s.init({widget:this,selector:"sidebar-metric"}),Ts.control(),Ps.build(),ks(),_s.emptyData(),_s.counter(document.querySelector(".sidebar-metric .metrics-total__item-text"))},control:function(){var t=this,e=document.querySelectorAll(".".concat(_s.selector," a.metrics-nav__item-link")),n=document.querySelectorAll(".sidebar-metric .metrics-tabs__item-link"),i=document.querySelector(".".concat(_s.selector," .metrics-link"));e.forEach((function(e){e.addEventListener("click",(function(n){_s.init({widget:t,selector:"sidebar-metric"}),Ss.handler(n,e),ks()}))})),n.forEach((function(e){e.addEventListener("click",(function(e){_s.init({widget:t,selector:"sidebar-metric"}),M.sidebarCaptureEvents("chart-time",null);var n=e.currentTarget;Ts.selections(),Cs(e,n),Ps.periods(),ks()}))})),i&&i.addEventListener("click",(function(t){return M.sidebarCaptureEvents("full-page",null)}))},selections:function(){_s.widget.selectedTabs=document.querySelectorAll(".sidebar-metric .metrics-nav__item-link.metrics-selected--js")}},As=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(t);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,i=0;i<n.length;i++)for(var r=n[i].example,a=0;a<r.length;a++)t[t.length]=r[a];for(var s in e)t[t.length]=s;var o=document.createElement("ul");o.setAttribute("id","rgbcolor-examples");for(i=0;i<t.length;i++)try{var c=document.createElement("li"),l=new RGBColor(t[i]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),u.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+t[i]+" -> "+l.toRGB()+" -> "+l.toHex());c.appendChild(u),c.appendChild(d),o.appendChild(c)}catch(t){}return o}};function Vs(t){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Bs=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ns=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ls(t,e,n,i,r){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==Vs(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var a=t.getContext("2d");try{return a.getImageData(e,n,i,r)}catch(t){throw new Error("unable to access image data: "+t)}}function Ds(t,e,n,i,r,a){if(!(isNaN(a)||a<1)){a|=0;var s=Ls(t,e,n,i,r);s=zs(s,e,n,i,r,a),t.getContext("2d").putImageData(s,e,n)}}function zs(t,e,n,i,r,a){var s,o,c,l,u,d,f,h,m,p,g,v,b,y,x,w,_,E,M,P,S,C,k,T,A,V=t.data,B=2*a+1,N=i-1,L=r-1,D=a+1,z=D*(D+1)/2,O=new Hs,I=O;for(c=1;c<B;c++)I=I.next=new Hs,c===D&&(A=I);I.next=O;var H=null,R=null;f=d=0;var q=Bs[a],F=Ns[a];for(o=0;o<r;o++){for(w=_=E=M=h=m=p=g=0,v=D*(P=V[d]),b=D*(S=V[d+1]),y=D*(C=V[d+2]),x=D*(k=V[d+3]),h+=z*P,m+=z*S,p+=z*C,g+=z*k,I=O,c=0;c<D;c++)I.r=P,I.g=S,I.b=C,I.a=k,I=I.next;for(c=1;c<D;c++)l=d+((N<c?N:c)<<2),h+=(I.r=P=V[l])*(T=D-c),m+=(I.g=S=V[l+1])*T,p+=(I.b=C=V[l+2])*T,g+=(I.a=k=V[l+3])*T,w+=P,_+=S,E+=C,M+=k,I=I.next;for(H=O,R=A,s=0;s<i;s++)V[d+3]=k=g*q>>F,0!==k?(k=255/k,V[d]=(h*q>>F)*k,V[d+1]=(m*q>>F)*k,V[d+2]=(p*q>>F)*k):V[d]=V[d+1]=V[d+2]=0,h-=v,m-=b,p-=y,g-=x,v-=H.r,b-=H.g,y-=H.b,x-=H.a,l=f+((l=s+a+1)<N?l:N)<<2,h+=w+=H.r=V[l],m+=_+=H.g=V[l+1],p+=E+=H.b=V[l+2],g+=M+=H.a=V[l+3],H=H.next,v+=P=R.r,b+=S=R.g,y+=C=R.b,x+=k=R.a,w-=P,_-=S,E-=C,M-=k,R=R.next,d+=4;f+=i}for(s=0;s<i;s++){for(_=E=M=w=m=p=g=h=0,v=D*(P=V[d=s<<2]),b=D*(S=V[d+1]),y=D*(C=V[d+2]),x=D*(k=V[d+3]),h+=z*P,m+=z*S,p+=z*C,g+=z*k,I=O,c=0;c<D;c++)I.r=P,I.g=S,I.b=C,I.a=k,I=I.next;for(u=i,c=1;c<=a;c++)d=u+s<<2,h+=(I.r=P=V[d])*(T=D-c),m+=(I.g=S=V[d+1])*T,p+=(I.b=C=V[d+2])*T,g+=(I.a=k=V[d+3])*T,w+=P,_+=S,E+=C,M+=k,I=I.next,c<L&&(u+=i);for(d=s,H=O,R=A,o=0;o<r;o++)V[(l=d<<2)+3]=k=g*q>>F,k>0?(k=255/k,V[l]=(h*q>>F)*k,V[l+1]=(m*q>>F)*k,V[l+2]=(p*q>>F)*k):V[l]=V[l+1]=V[l+2]=0,h-=v,m-=b,p-=y,g-=x,v-=H.r,b-=H.g,y-=H.b,x-=H.a,l=s+((l=o+D)<L?l:L)*i<<2,h+=w+=H.r=V[l],m+=_+=H.g=V[l+1],p+=E+=H.b=V[l+2],g+=M+=H.a=V[l+3],H=H.next,v+=P=R.r,b+=S=R.g,y+=C=R.b,x+=k=R.a,w-=P,_-=S,E-=C,M-=k,R=R.next,d+=i}return t}function Os(t,e,n,i,r,a){if(!(isNaN(a)||a<1)){a|=0;var s=Ls(t,e,n,i,r);s=Is(s,e,n,i,r,a),t.getContext("2d").putImageData(s,e,n)}}function Is(t,e,n,i,r,a){var s,o,c,l,u,d,f,h,m,p,g,v,b,y,x,w,_,E,M,P,S,C=t.data,k=2*a+1,T=i-1,A=r-1,V=a+1,B=V*(V+1)/2,N=new Hs,L=N;for(c=1;c<k;c++)L=L.next=new Hs,c===V&&(S=L);L.next=N;var D=null,z=null;f=d=0;var O=Bs[a],I=Ns[a];for(o=0;o<r;o++){for(y=x=w=h=m=p=0,g=V*(_=C[d]),v=V*(E=C[d+1]),b=V*(M=C[d+2]),h+=B*_,m+=B*E,p+=B*M,L=N,c=0;c<V;c++)L.r=_,L.g=E,L.b=M,L=L.next;for(c=1;c<V;c++)l=d+((T<c?T:c)<<2),h+=(L.r=_=C[l])*(P=V-c),m+=(L.g=E=C[l+1])*P,p+=(L.b=M=C[l+2])*P,y+=_,x+=E,w+=M,L=L.next;for(D=N,z=S,s=0;s<i;s++)C[d]=h*O>>I,C[d+1]=m*O>>I,C[d+2]=p*O>>I,h-=g,m-=v,p-=b,g-=D.r,v-=D.g,b-=D.b,l=f+((l=s+a+1)<T?l:T)<<2,h+=y+=D.r=C[l],m+=x+=D.g=C[l+1],p+=w+=D.b=C[l+2],D=D.next,g+=_=z.r,v+=E=z.g,b+=M=z.b,y-=_,x-=E,w-=M,z=z.next,d+=4;f+=i}for(s=0;s<i;s++){for(x=w=y=m=p=h=0,g=V*(_=C[d=s<<2]),v=V*(E=C[d+1]),b=V*(M=C[d+2]),h+=B*_,m+=B*E,p+=B*M,L=N,c=0;c<V;c++)L.r=_,L.g=E,L.b=M,L=L.next;for(u=i,c=1;c<=a;c++)d=u+s<<2,h+=(L.r=_=C[d])*(P=V-c),m+=(L.g=E=C[d+1])*P,p+=(L.b=M=C[d+2])*P,y+=_,x+=E,w+=M,L=L.next,c<A&&(u+=i);for(d=s,D=N,z=S,o=0;o<r;o++)C[l=d<<2]=h*O>>I,C[l+1]=m*O>>I,C[l+2]=p*O>>I,h-=g,m-=v,p-=b,g-=D.r,v-=D.g,b-=D.b,l=s+((l=o+V)<A?l:A)*i<<2,h+=y+=D.r=C[l],m+=x+=D.g=C[l+1],p+=w+=D.b=C[l+2],D=D.next,g+=_=z.r,v+=E=z.g,b+=M=z.b,y-=_,x-=E,w-=M,z=z.next,d+=i}return t}var Hs=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},Rs=Object.freeze({BlurStack:Hs,image:function(t,e,n,i){if("string"==typeof t&&(t=document.getElementById(t)),t&&"naturalWidth"in t){var r=t.naturalWidth,a=t.naturalHeight;if("string"==typeof e&&(e=document.getElementById(e)),e&&"getContext"in e){e.style.width=r+"px",e.style.height=a+"px",e.width=r,e.height=a;var s=e.getContext("2d");s.clearRect(0,0,r,a),s.drawImage(t,0,0),isNaN(n)||n<1||(i?Ds(e,0,0,r,a,n):Os(e,0,0,r,a,n))}}},canvasRGBA:Ds,canvasRGB:Os,imageDataRGBA:zs,imageDataRGB:Is}),qs=(t((function(t,e){t.exports=function(t,e){return t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(n){var i;n.exports,(i=window).DOMParser=window.DOMParser;var r=i.document;function a(t,e){var n;return(n=r.createElement("canvas")).width=t,n.height=e,n}var s,o=function(t,e,n){if(null!=t||null!=e||null!=n){var i=g(n||{});"string"==typeof t&&(t=r.getElementById(t)),null!=t.svg&&t.svg.stop(),t.childNodes&&1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=i);var a=t.getContext("2d");void 0!==e.documentElement?i.loadXmlDoc(a,e):"<"==e.substr(0,1)?i.loadXml(a,e):i.load(a,e)}else for(var s=r.querySelectorAll("svg"),c=0;c<s.length;c++){var l=s[c],u=r.createElement("canvas");if(void 0!==l.clientWidth&&void 0!==l.clientHeight)u.width=l.clientWidth,u.height=l.clientHeight;else{var d=l.getBoundingClientRect();u.width=d.width,u.height=d.height}l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var f=r.createElement("div");f.appendChild(l),o(u,f.innerHTML)}};"undefined"==typeof Element||(void 0!==Element.prototype.matches?s=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?s=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?s=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?s=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?s=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(s=function(t,e){return $(t).is(e)}),void 0===s&&"undefined"!=typeof Sizzle&&(s=Sizzle.matchesSelector)));var c=/(\[[^\]]+\])/g,l=/(#[^\s\+>~\.\[:]+)/g,u=/(\.[^\s\+>~\.\[:]+)/g,d=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,f=/(:[\w-]+\([^\)]*\))/gi,h=/(:[^\s\+>~\.\[:]+)/g,m=/([^\s\+>~\.\[:]+)/g;function p(t){var e=[0,0,0],n=function(n,i){var r=t.match(n);null!=r&&(e[i]+=r.length,t=t.replace(n," "))};return t=(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),n(c,1),n(l,0),n(u,1),n(d,2),n(f,1),n(h,1),t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n(m,2),e.join("")}function g(n){var o={opts:n,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,rootEmSize:12,emSize:12,log:function(){}};1==o.opts.log&&"undefined"!=typeof console&&(o.log=function(t){console.log(t)}),o.init=function(t){var e=0;o.UniqueId=function(){return"canvg"+ ++e},o.Definitions={},o.Styles={},o.StylesSpecificity={},o.Animations=[],o.Images=[],o.ctx=t,o.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},o.init(),o.ImagesLoaded=function(){for(var t=0;t<o.Images.length;t++)if(!o.Images[t].loaded)return!1;return!0},o.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},o.compressSpaces=function(t){return t.replace(/(?!\u3000)\s+/gm," ")},o.ajax=function(t){var e;return(e=i.XMLHttpRequest?new i.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},o.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,r=new Windows.Data.Xml.Dom.XmlLoadSettings;return r.prohibitDtd=!1,e.loadXml(t,r),e}if(!i.DOMParser)return t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e;try{var a=n.xmldom?new i.DOMParser(n.xmldom):new i.DOMParser;return a.parseFromString(t,"image/svg+xml")}catch(e){return(a=n.xmldom?new i.DOMParser(n.xmldom):new i.DOMParser).parseFromString(t,"text/xml")}},o.Property=function(t,e){this.name=t,this.value=e},o.Property.prototype.getValue=function(){return this.value},o.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},o.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},o.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},o.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():parseFloat(t)},o.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var i=new t(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+e.numValue()+")")}return new o.Property(this.name,n)},o.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t&&(t=t[1]),t||(t=this.value),o.Definitions[t]},o.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},o.Property.prototype.getFillStyleDefinition=function(t,e){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(o.ctx,t,e);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var i=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&(n.attribute("patternTransform",!0).value=i.value)}return n.createPattern(o.ctx,t,e)}return null},o.Property.prototype.getDPI=function(){return 96},o.Property.prototype.getREM=function(){return o.rootEmSize},o.Property.prototype.getEM=function(){return o.emSize},o.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},o.Property.prototype.isPixels=function(){if(!this.hasValue())return!1;var t=this.value+"";return!!t.match(/px$/)||!!t.match(/^[0-9]+$/)},o.Property.prototype.toPixels=function(t,e){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/rem$/))return this.numValue()*this.getREM(t);if(n.match(/em$/))return this.numValue()*this.getEM(t);if(n.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(t);if(n.match(/%$/))return this.numValue()*o.ViewPort.ComputeSize(t);var i=this.numValue();return e&&i<1?i*o.ViewPort.ComputeSize(t):i},o.Property.prototype.toMilliseconds=function(){return this.hasValue()?(this.value+"").match(/ms$/)?this.numValue():1e3*this.numValue():0},o.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var c={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return o.Property.prototype.toTextBaseline=function(){return this.hasValue()?c[this.value]:null},o.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,e,n,i,r,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",o.ctx.font);return{fontFamily:r=r||s.fontFamily,fontSize:i||s.fontSize,fontStyle:t||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:e||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(e){for(var n={},i=o.trim(o.compressSpaces(e||"")).split(" "),r={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)r.fontStyle||-1==t.Styles.indexOf(i[s])?r.fontVariant||-1==t.Variants.indexOf(i[s])?r.fontWeight||-1==t.Weights.indexOf(i[s])?r.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(n.fontSize=i[s].split("/")[0]),r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=!0):("inherit"!=i[s]&&(n.fontWeight=i[s]),r.fontStyle=r.fontVariant=r.fontWeight=!0):("inherit"!=i[s]&&(n.fontVariant=i[s]),r.fontStyle=r.fontVariant=!0):("inherit"!=i[s]&&(n.fontStyle=i[s]),r.fontStyle=!0);return""!=a&&(n.fontFamily=a),n}},o.ToNumberArray=function(t){for(var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[],n=0;n<e.length;n++)e[n]=parseFloat(e[n]);return e},o.Point=function(t,e){this.x=t,this.y=e},o.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},o.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},o.CreatePoint=function(t){var e=o.ToNumberArray(t);return new o.Point(e[0],e[1])},o.CreatePath=function(t){for(var e=o.ToNumberArray(t),n=[],i=0;i<e.length;i+=2)n.push(new o.Point(e[i],e[i+1]));return n},o.BoundingBox=function(t,e,n,i){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,i,r,a){var s=t+2/3*(n-t),o=e+2/3*(i-e),c=s+1/3*(r-t),l=o+1/3*(a-e);this.addBezierCurve(t,e,s,c,o,l,r,a)},this.addBezierCurve=function(t,e,n,i,r,a,s,o){var c=[t,e],l=[n,i],u=[r,a],d=[s,o];this.addPoint(c[0],c[1]),this.addPoint(d[0],d[1]);for(var f=0;f<=1;f++){var h=function(t){return Math.pow(1-t,3)*c[f]+3*Math.pow(1-t,2)*t*l[f]+3*(1-t)*Math.pow(t,2)*u[f]+Math.pow(t,3)*d[f]},m=6*c[f]-12*l[f]+6*u[f],p=-3*c[f]+9*l[f]-9*u[f]+3*d[f],g=3*l[f]-3*c[f];if(0!=p){var v=Math.pow(m,2)-4*g*p;if(!(v<0)){var b=(-m+Math.sqrt(v))/(2*p);0<b&&b<1&&(0==f&&this.addX(h(b)),1==f&&this.addY(h(b)));var y=(-m-Math.sqrt(v))/(2*p);0<y&&y<1&&(0==f&&this.addX(h(y)),1==f&&this.addY(h(y)))}}else{if(0==m)continue;var x=-g/m;0<x&&x<1&&(0==f&&this.addX(h(x)),1==f&&this.addY(h(x)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,i)},o.Transform=function(t){var e=this;this.Type={},this.Type.translate=function(t){this.p=o.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var e=o.ToNumberArray(t);this.angle=new o.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=o.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=o.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],n=this.m[2],i=this.m[4],r=this.m[1],a=this.m[3],s=this.m[5],o=1/(e*(1*a-0*s)-n*(1*r-0*s)+i*(0*r-0*a));t.transform(o*(1*a-0*s),o*(0*s-1*r),o*(0*i-1*n),o*(1*e-0*i),o*(n*s-i*a),o*(i*r-e*s))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=e.Type.matrix,this.base(t),this.angle=new o.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var n=o.trim(o.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++)if("none"!==n[i]){var r=o.trim(n[i].split("(")[0]),a=n[i].split("(")[1].replace(")",""),s=this.Type[r];if(void 0!==s){var c=new s(a);c.type=r,this.transforms.push(c)}}},o.AspectRatio=function(t,e,n,i,r,a,s,c,l,u){var d=(e=(e=o.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",f=e.split(" ")[1]||"meet",h=n/i,m=r/a,p=Math.min(h,m),g=Math.max(h,m);"meet"==f&&(i*=p,a*=p),"slice"==f&&(i*=g,a*=g),l=new o.Property("refX",l),u=new o.Property("refY",u),l.hasValue()&&u.hasValue()?t.translate(-p*l.toPixels("x"),-p*u.toPixels("y")):(d.match(/^xMid/)&&("meet"==f&&p==m||"slice"==f&&g==m)&&t.translate(n/2-i/2,0),d.match(/YMid$/)&&("meet"==f&&p==h||"slice"==f&&g==h)&&t.translate(0,r/2-a/2),d.match(/^xMax/)&&("meet"==f&&p==m||"slice"==f&&g==m)&&t.translate(n-i,0),d.match(/YMax$/)&&("meet"==f&&p==h||"slice"==f&&g==h)&&t.translate(0,r-a)),"none"==d?t.scale(h,m):"meet"==f?t.scale(p,p):"slice"==f&&t.scale(g,g),t.translate(null==s?0:-s,null==c?0:-c)},o.Element={},o.EmptyProperty=new o.Property("EMPTY",""),o.Element.ElementBase=function(t){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,e){var n=this.attributes[t];return null!=n?n:(1==e&&(n=new o.Property(t,""),this.attributes[t]=n),n||o.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return o.EmptyProperty},this.style=function(t,e,n){var i=this.styles[t];if(null!=i)return i;var r=this.attribute(t);if(null!=r&&r.hasValue())return this.styles[t]=r,r;if(1!=n){var a=this.parent;if(null!=a){var s=a.style(t);if(null!=s&&s.hasValue())return s}}return 1==e&&(i=new o.Property(t,""),this.styles[t]=i),i||o.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,e){var n=t;e&&(n=o.CreateElement(t)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var e in o.Styles)if("@"!=e[0]&&s(t,e)){var n=o.Styles[e],i=o.StylesSpecificity[e];if(null!=n)for(var r in n){var a=this.stylesSpecificity[r];void 0===a&&(a="000"),i>=a&&(this.styles[r]=n[r],this.stylesSpecificity[r]=i)}}};var e=new RegExp("^[A-Z-]+$"),n=function(t){return e.test(t)?t.toLowerCase():t};if(null!=t&&1==t.nodeType){for(var i=0;i<t.attributes.length;i++){var r=t.attributes[i],a=n(r.nodeName);this.attributes[a]=new o.Property(a,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var c=this.attribute("style").value.split(";");for(i=0;i<c.length;i++)if(""!=o.trim(c[i])){var l=c[i].split(":"),u=o.trim(l[0]),d=o.trim(l[1]);this.styles[u]=new o.Property(u,d)}}for(this.attribute("id").hasValue()&&null==o.Definitions[this.attribute("id").value]&&(o.Definitions[this.attribute("id").value]=this),i=0;i<t.childNodes.length;i++){var f=t.childNodes[i];if(1==f.nodeType&&this.addChild(f,!0),this.captureTextNodes&&(3==f.nodeType||4==f.nodeType)){var h=f.value||f.text||f.textContent||"";""!=o.compressSpaces(h)&&this.addChild(new o.Element.tspan(f),!1)}}}},o.Element.RenderedElementBase=function(t){this.base=o.Element.ElementBase,this.base(t),this.calculateOpacity=function(){for(var t=1,e=this;null!=e;){var n=e.style("opacity",!1,!0);n.hasValue()&&(t*=n.numValue()),e=e.parent}return t},this.setContext=function(t,e){if(!e){var n;if(this.style("fill").isUrlDefinition())null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=n);else if(this.style("fill").hasValue()){var i;"currentColor"==(i=this.style("fill")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("fill-opacity").hasValue()&&(i=(i=new o.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=i.value),this.style("stroke").isUrlDefinition())null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=n);else if(this.style("stroke").hasValue()){var r;"currentColor"==(r=this.style("stroke")).value&&(r.value=this.style("color").value),"inherit"!=r.value&&(t.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}if(this.style("stroke-opacity").hasValue()&&(r=(r=new o.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=r.value),this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("paint-order").hasValue()&&(t.paintOrder=this.style("paint-order").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var s=o.ToNumberArray(this.style("stroke-dasharray").value);void 0!==t.setLineDash?t.setLineDash(s):void 0!==t.webkitLineDash?t.webkitLineDash=s:void 0===t.mozDash||1==s.length&&0==s[0]||(t.mozDash=s);var c=this.style("stroke-dashoffset").toPixels();void 0!==t.lineDashOffset?t.lineDashOffset=c:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=c:void 0!==t.mozDashOffset&&(t.mozDashOffset=c)}}if(void 0!==t.font)if(this.style("font").hasValue())t.font=this.style("font").value;else{t.font=o.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString();var l=this.style("font-size",!1,!1);l.isPixels()&&(o.emSize=l.toPixels())}if(this.style("transform",!1,!0).hasValue()&&new o.Transform(this.style("transform",!1,!0).value).apply(t),this.style("clip-path",!1,!0).hasValue()){var u=this.style("clip-path",!1,!0).getDefinition();null!=u&&u.apply(t)}t.globalAlpha=this.calculateOpacity()}},o.Element.RenderedElementBase.prototype=new o.Element.ElementBase,o.Element.PathElementBase=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new o.BoundingBox},this.renderChildren=function(t){this.path(t),o.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(t,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<e.length-1;i++)n.render(t,e[i][0],e[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(t,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},o.Element.PathElementBase.prototype=new o.Element.RenderedElementBase,o.SetDefaults=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4},o.Element.svg=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),o.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){if(o.SetDefaults(t),t.canvas.style&&void 0!==t.font&&void 0!==i.getComputedStyle){t.font=i.getComputedStyle(t.canvas).getPropertyValue("font");var e=new o.Property("fontSize",o.Font.Parse(t.font).fontSize);e.hasValue()&&(o.rootEmSize=o.emSize=e.toPixels("y"))}this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=o.ViewPort.width(),r=o.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var a=0,s=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(a=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(a,s),t.lineTo(n,s),t.lineTo(n,r),t.lineTo(a,r),t.closePath(),t.clip())}if(o.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var c=o.ToNumberArray(this.attribute("viewBox").value),l=c[0],u=c[1];n=c[2],r=c[3],o.AspectRatio(t,this.attribute("preserveAspectRatio").value,o.ViewPort.width(),n,o.ViewPort.height(),r,l,u,this.attribute("refX").value,this.attribute("refY").value),o.ViewPort.RemoveCurrent(),o.ViewPort.SetCurrent(c[2],c[3])}}},o.Element.svg.prototype=new o.Element.RenderedElementBase,o.Element.rect=function(t){this.base=o.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,r/2),null!=t){var c=(Math.sqrt(2)-1)/3*4;t.beginPath(),r>0&&i>0&&(t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.bezierCurveTo(e+i-a+c*a,n,e+i,n+s-c*s,e+i,n+s),t.lineTo(e+i,n+r-s),t.bezierCurveTo(e+i,n+r-s+c*s,e+i-a+c*a,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.bezierCurveTo(e+a-c*a,n+r,e,n+r-s+c*s,e,n+r-s),t.lineTo(e,n+s),t.bezierCurveTo(e,n+s-c*s,e+a-c*a,n,e+a,n),t.closePath())}return new o.BoundingBox(e,n,e+i,n+r)}},o.Element.rect.prototype=new o.Element.PathElementBase,o.Element.circle=function(t){this.base=o.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=t&&i>0&&(t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.closePath()),new o.BoundingBox(e-i,n-i,e+i,n+i)}},o.Element.circle.prototype=new o.Element.PathElementBase,o.Element.ellipse=function(t){this.base=o.Element.PathElementBase,this.base(t),this.path=function(t){var e=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(r+n,a),t.bezierCurveTo(r+n,a+e*i,r+e*n,a+i,r,a+i),t.bezierCurveTo(r-e*n,a+i,r-n,a+e*i,r-n,a),t.bezierCurveTo(r-n,a-e*i,r-e*n,a-i,r,a-i),t.bezierCurveTo(r+e*n,a-i,r+n,a-e*i,r+n,a),t.closePath()),new o.BoundingBox(r-n,a-i,r+n,a+i)}},o.Element.ellipse.prototype=new o.Element.PathElementBase,o.Element.line=function(t){this.base=o.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new o.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new o.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var e=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y)),new o.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},o.Element.line.prototype=new o.Element.PathElementBase,o.Element.polyline=function(t){this.base=o.Element.PathElementBase,this.base(t),this.points=o.CreatePath(this.attribute("points").value),this.path=function(t){var e=new o.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)e.addPoint(this.points[n].x,this.points[n].y),null!=t&&t.lineTo(this.points[n].x,this.points[n].y);return e},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.length>0&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},o.Element.polyline.prototype=new o.Element.PathElementBase,o.Element.polygon=function(t){this.base=o.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},o.Element.polygon.prototype=new o.Element.polyline,o.Element.path=function(t){this.base=o.Element.PathElementBase,this.base(t);var e=this.attribute("d").value;e=e.replace(/,/gm," ");for(var n=0;n<2;n++)e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(e=(e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),n=0;n<2;n++)e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=o.compressSpaces(e),e=o.trim(e),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new o.Point(0,0),this.control=new o.Point(0,0),this.current=new o.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new o.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new o.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(e),this.path=function(t){var e=this.PathParser;e.reset();var n=new o.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var i=e.getAsCurrentPoint();for(e.addMarker(i),n.addPoint(i.x,i.y),null!=t&&t.moveTo(i.x,i.y),e.start=e.current;!e.isCommandOrEnd();)i=e.getAsCurrentPoint(),e.addMarker(i,e.start),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y);break;case"L":case"l":for(;!e.isCommandOrEnd();){var r=e.current;i=e.getAsCurrentPoint(),e.addMarker(i,r),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var a=new o.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(a,e.current),e.current=a,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();)a=new o.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar()),e.addMarker(a,e.current),e.current=a,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y);break;case"C":case"c":for(;!e.isCommandOrEnd();){var s=e.current,c=e.getPoint(),l=e.getAsControlPoint(),u=e.getAsCurrentPoint();e.addMarker(u,l,c),n.addBezierCurve(s.x,s.y,c.x,c.y,l.x,l.y,u.x,u.y),null!=t&&t.bezierCurveTo(c.x,c.y,l.x,l.y,u.x,u.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();)s=e.current,c=e.getReflectedControlPoint(),l=e.getAsControlPoint(),u=e.getAsCurrentPoint(),e.addMarker(u,l,c),n.addBezierCurve(s.x,s.y,c.x,c.y,l.x,l.y,u.x,u.y),null!=t&&t.bezierCurveTo(c.x,c.y,l.x,l.y,u.x,u.y);break;case"Q":case"q":for(;!e.isCommandOrEnd();)s=e.current,l=e.getAsControlPoint(),u=e.getAsCurrentPoint(),e.addMarker(u,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,u.x,u.y),null!=t&&t.quadraticCurveTo(l.x,l.y,u.x,u.y);break;case"T":case"t":for(;!e.isCommandOrEnd();)s=e.current,l=e.getReflectedControlPoint(),e.control=l,u=e.getAsCurrentPoint(),e.addMarker(u,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,u.x,u.y),null!=t&&t.quadraticCurveTo(l.x,l.y,u.x,u.y);break;case"A":case"a":for(;!e.isCommandOrEnd();){s=e.current;var d=e.getScalar(),f=e.getScalar(),h=e.getScalar()*(Math.PI/180),m=e.getScalar(),p=e.getScalar(),g=(u=e.getAsCurrentPoint(),new o.Point(Math.cos(h)*(s.x-u.x)/2+Math.sin(h)*(s.y-u.y)/2,-Math.sin(h)*(s.x-u.x)/2+Math.cos(h)*(s.y-u.y)/2)),v=Math.pow(g.x,2)/Math.pow(d,2)+Math.pow(g.y,2)/Math.pow(f,2);v>1&&(d*=Math.sqrt(v),f*=Math.sqrt(v));var b=(m==p?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(f,2)-Math.pow(d,2)*Math.pow(g.y,2)-Math.pow(f,2)*Math.pow(g.x,2))/(Math.pow(d,2)*Math.pow(g.y,2)+Math.pow(f,2)*Math.pow(g.x,2)));isNaN(b)&&(b=0);var y=new o.Point(b*d*g.y/f,b*-f*g.x/d),x=new o.Point((s.x+u.x)/2+Math.cos(h)*y.x-Math.sin(h)*y.y,(s.y+u.y)/2+Math.sin(h)*y.x+Math.cos(h)*y.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},E=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},M=E([1,0],[(g.x-y.x)/d,(g.y-y.y)/f]),P=[(g.x-y.x)/d,(g.y-y.y)/f],S=[(-g.x-y.x)/d,(-g.y-y.y)/f],C=E(P,S);_(P,S)<=-1&&(C=Math.PI),_(P,S)>=1&&(C=0);var k=1-p?1:-1,T=M+k*(C/2),A=new o.Point(x.x+d*Math.cos(T),x.y+f*Math.sin(T));if(e.addMarkerAngle(A,T-k*Math.PI/2),e.addMarkerAngle(u,T-k*Math.PI),n.addPoint(u.x,u.y),null!=t&&!isNaN(M)&&!isNaN(C)){_=d>f?d:f;var V=d>f?1:d/f,B=d>f?f/d:1;t.translate(x.x,x.y),t.rotate(h),t.scale(V,B),t.arc(0,0,_,M,M+C,1-p),t.scale(1/V,1/B),t.rotate(-h),t.translate(-x.x,-x.y)}}break;case"Z":case"z":null!=t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath(),e.current=e.start}return n},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);return n}},o.Element.path.prototype=new o.Element.PathElementBase,o.Element.pattern=function(t){this.base=o.Element.ElementBase,this.base(t),this.createPattern=function(t,e,n){var i=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),s=new o.Element.svg;s.attributes.viewBox=new o.Property("viewBox",this.attribute("viewBox").value),s.attributes.width=new o.Property("width",i+"px"),s.attributes.height=new o.Property("height",r+"px"),s.attributes.transform=new o.Property("transform",this.attribute("patternTransform").value),s.children=this.children;var c=a(i,r),l=c.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&l.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:delete this.styles["fill-opacity"];for(var u=-1;u<=1;u++)for(var d=-1;d<=1;d++)l.save(),s.attributes.x=new o.Property("x",u*c.width),s.attributes.y=new o.Property("y",d*c.height),s.render(l),l.restore();return t.createPattern(c,"repeat")}},o.Element.pattern.prototype=new o.Element.ElementBase,o.Element.marker=function(t){this.base=o.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,e,n){if(e){t.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var i=new o.Element.svg;i.attributes.viewBox=new o.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new o.Property("refX",this.attribute("refX").value),i.attributes.refY=new o.Property("refY",this.attribute("refY").value),i.attributes.width=new o.Property("width",this.attribute("markerWidth").value),i.attributes.height=new o.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new o.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new o.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-n),t.translate(-e.x,-e.y)}}},o.Element.marker.prototype=new o.Element.ElementBase,o.Element.defs=function(t){this.base=o.Element.ElementBase,this.base(t),this.render=function(){}},o.Element.defs.prototype=new o.Element.ElementBase,o.Element.GradientBase=function(t){this.base=o.Element.ElementBase,this.base(t),this.stops=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var n=this.attributesToInherit[e];!this.attribute(n).hasValue()&&t.attribute(n).hasValue()&&(this.attribute(n,!0).value=t.attribute(n).value)}},this.createGradient=function(t,e,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var r=function(t){return n.hasValue()?new o.Property("color",t).addOpacity(n).value:t},s=this.getGradient(t,e);if(null==s)return r(i.stops[i.stops.length-1].color);for(var c=0;c<i.stops.length;c++)s.addColorStop(i.stops[c].offset,r(i.stops[c].color));if(this.attribute("gradientTransform").hasValue()){var l=o.ViewPort.viewPorts[0],u=new o.Element.rect;u.attributes.x=new o.Property("x",-o.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new o.Property("y",-o.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new o.Property("width",o.MAX_VIRTUAL_PIXELS),u.attributes.height=new o.Property("height",o.MAX_VIRTUAL_PIXELS);var d=new o.Element.g;d.attributes.transform=new o.Property("transform",this.attribute("gradientTransform").value),d.children=[u];var f=new o.Element.svg;f.attributes.x=new o.Property("x",0),f.attributes.y=new o.Property("y",0),f.attributes.width=new o.Property("width",l.width),f.attributes.height=new o.Property("height",l.height),f.children=[d];var h=a(l.width,l.height),m=h.getContext("2d");return m.fillStyle=s,f.render(m),m.createPattern(h,"no-repeat")}return s}},o.Element.GradientBase.prototype=new o.Element.ElementBase,o.Element.linearGradient=function(t){this.base=o.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var n="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox(t):null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==a&&r==s?null:t.createLinearGradient(i,r,a,s)}},o.Element.linearGradient.prototype=new o.Element.GradientBase,o.Element.radialGradient=function(t){this.base=o.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.attributesToInherit.push("fr"),this.getGradient=function(t,e){var n=e.getBoundingBox(t);this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,s=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var o="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels(),c=this.attribute("fr").toPixels();return t.createRadialGradient(a,s,c,i,r,o)}},o.Element.radialGradient.prototype=new o.Element.GradientBase,o.Element.stop=function(t){this.base=o.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var e=this.style("stop-color",!0);""===e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},o.Element.stop.prototype=new o.Element.ElementBase,o.Element.AnimateBase=function(t){this.base=o.Element.ElementBase,this.base(t),o.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=t.progress*(this.values.value.length-1),n=Math.floor(e),i=Math.ceil(e);t.from=new o.Property("from",parseFloat(this.values.value[n])),t.to=new o.Property("to",parseFloat(this.values.value[i])),t.progress=(e-n)/(i-n)}else t.from=this.from,t.to=this.to;return t}},o.Element.AnimateBase.prototype=new o.Element.ElementBase,o.Element.animate=function(t){this.base=o.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return"%"===this.initialUnits&&(e*=100),e+this.initialUnits}},o.Element.animate.prototype=new o.Element.AnimateBase,o.Element.animateColor=function(e){this.base=o.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),n=new t(e.from.value),i=new t(e.to.value);if(n.ok&&i.ok){var r=n.r+(i.r-n.r)*e.progress,a=n.g+(i.g-n.g)*e.progress,s=n.b+(i.b-n.b)*e.progress;return"rgb("+parseInt(r,10)+","+parseInt(a,10)+","+parseInt(s,10)+")"}return this.attribute("from").value}},o.Element.animateColor.prototype=new o.Element.AnimateBase,o.Element.animateTransform=function(t){this.base=o.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),e=o.ToNumberArray(t.from.value),n=o.ToNumberArray(t.to.value),i="",r=0;r<e.length;r++)i+=e[r]+(n[r]-e[r])*t.progress+" ";return i}},o.Element.animateTransform.prototype=new o.Element.animate,o.Element.font=function(t){this.base=o.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(o.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}this.render=function(){}},o.Element.font.prototype=new o.Element.ElementBase,o.Element.fontface=function(t){this.base=o.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},o.Element.fontface.prototype=new o.Element.ElementBase,o.Element.missingglyph=function(t){this.base=o.Element.path,this.base(t),this.horizAdvX=0},o.Element.missingglyph.prototype=new o.Element.path,o.Element.glyph=function(t){this.base=o.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},o.Element.glyph.prototype=new o.Element.path,o.Element.text=function(t){this.captureTextNodes=!0,this.base=o.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.initializeCoordinates=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0)},this.getBoundingBox=function(t){this.initializeCoordinates(t);for(var e=null,n=0;n<this.children.length;n++){var i=this.getChildBoundingBox(t,this,this,n);null==e?e=i:e.addBoundingBox(i)}return e},this.renderChildren=function(t){this.initializeCoordinates(t);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e);o.Mouse.checkBoundingBox(this,this.getBoundingBox(t))},this.getAnchorDelta=function(t,e,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var r=0,a=n;a<e.children.length;a++){var s=e.children[a];if(a>n&&s.attribute("x").hasValue())break;r+=s.measureTextRecursive(t)}return-1*("end"==i?r:r/2)}return 0},this.adjustChildCoordinates=function(t,e,n,i){var r=n.children[i];if("function"!=typeof r.measureText)return r;if(r.attribute("x").hasValue()){r.x=r.attribute("x").toPixels("x")+e.getAnchorDelta(t,n,i);var a=r.attribute("text-anchor").valueOrDefault("start");if("start"!==a){var s=r.measureTextRecursive(t);r.x+=-1*("end"==a?s:s/2)}r.attribute("dx").hasValue()&&(r.x+=r.attribute("dx").toPixels("x"))}else r.attribute("dx").hasValue()&&(e.x+=r.attribute("dx").toPixels("x")),r.x=e.x;return e.x=r.x+r.measureText(t),r.attribute("y").hasValue()?(r.y=r.attribute("y").toPixels("y"),r.attribute("dy").hasValue()&&(r.y+=r.attribute("dy").toPixels("y"))):(r.attribute("dy").hasValue()&&(e.y+=r.attribute("dy").toPixels("y")),r.y=e.y),e.y=r.y,r},this.getChildBoundingBox=function(t,e,n,i){var r=this.adjustChildCoordinates(t,e,n,i),a=r.getBoundingBox(t);for(i=0;i<r.children.length;i++){var s=e.getChildBoundingBox(t,e,r,i);a.addBoundingBox(s)}return a},this.renderChild=function(t,e,n,i){var r=this.adjustChildCoordinates(t,e,n,i);for(r.render(t),i=0;i<r.children.length;i++)e.renderChild(t,e,r,i)}},o.Element.text.prototype=new o.Element.RenderedElementBase,o.Element.TextElementBase=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,n){var i=e[n],r=null;if(t.isArabic){var a="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(a="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(a="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(a="initial"),void 0!==t.glyphs[i]&&null==(r=t.glyphs[i][a])&&"glyph"==t.glyphs[i].type&&(r=t.glyphs[i])}else r=t.glyphs[i];return null==r&&(r=t.missingGlyph),r},this.renderChildren=function(t){var e=this.parent.style("font-family").getDefinition();if(null==e)"stroke"==t.paintOrder?(""!=t.strokeStyle&&t.strokeText(o.compressSpaces(this.getText()),this.x,this.y),""!=t.fillStyle&&t.fillText(o.compressSpaces(this.getText()),this.x,this.y)):(""!=t.fillStyle&&t.fillText(o.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(o.compressSpaces(this.getText()),this.x,this.y));else{var n=this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle),r=this.getText();e.isRTL&&(r=r.split("").reverse().join(""));for(var a=o.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var c=this.getGlyph(e,r,s),l=n/e.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(l,-l);var u=t.lineWidth;t.lineWidth=t.lineWidth*e.fontFace.unitsPerEm/n,"italic"==i&&t.transform(1,0,.4,1,0,0),c.render(t),"italic"==i&&t.transform(1,0,-.4,1,0,0),t.lineWidth=u,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=n*(c.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(t){var e=this.parent.style("font-family").getDefinition();if(null!=e){var n=this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),i=0,r=this.getText();e.isRTL&&(r=r.split("").reverse().join(""));for(var a=o.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++)i+=(this.getGlyph(e,r,s).horizAdvX||e.horizAdvX)*n/e.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(i+=a[s]);return i}var c=o.compressSpaces(this.getText());if(!t.measureText)return 10*c.length;t.save(),this.setContext(t,!0);var l=t.measureText(c).width;return t.restore(),l},this.getBoundingBox=function(t){var e=this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);return new o.BoundingBox(this.x,this.y-e,this.x+this.measureText(t),this.y)}},o.Element.TextElementBase.prototype=new o.Element.RenderedElementBase,o.Element.tspan=function(t){this.captureTextNodes=!0,this.base=o.Element.TextElementBase,this.base(t),this.text=o.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},o.Element.tspan.prototype=new o.Element.TextElementBase,o.Element.tref=function(t){this.base=o.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},o.Element.tref.prototype=new o.Element.TextElementBase,o.Element.a=function(t){this.base=o.Element.TextElementBase,this.base(t),this.hasText=t.childNodes.length>0;for(var e=0;e<t.childNodes.length;e++)3!=t.childNodes[e].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value||t.childNodes[0].data:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var e=new o.Property("fontSize",o.Font.Parse(o.ctx.font).fontSize);o.Mouse.checkBoundingBox(this,new o.BoundingBox(this.x,this.y-e.toPixels("y"),this.x+this.measureText(t),this.y))}else if(this.children.length>0){var n=new o.Element.g;n.children=this.children,n.parent=this,n.render(t)}},this.onclick=function(){i.open(this.getHrefAttribute().value)},this.onmousemove=function(){o.ctx.canvas.style.cursor="pointer"}},o.Element.a.prototype=new o.Element.TextElementBase,o.Element.textPath=function(t){this.base=o.Element.TextElementBase,this.base(t);var e=this.getHrefAttribute().getDefinition();this.text=o.compressSpaces(t.value||t.text||t.textContent||""),this.renderChildren=function(t){this.setTextData(t),t.save();var e=this.parent.style("text-decoration").value,n=this.fontSize(),i=this.glyphInfo,r=t.fillStyle;"underline"===e&&t.beginPath();for(var a=0;a<i.length;a++){var s=i[a].p0,c=i[a].p1,l=i[a].text;t.save(),t.translate(s.x,s.y),t.rotate(i[a].rotation),""!=t.fillStyle&&t.fillText(o.compressSpaces(l),0,0),""!=t.strokeStyle&&t.strokeText(o.compressSpaces(l),0,0),t.restore(),"underline"===e&&(0===a&&t.moveTo(s.x,s.y+n/8),t.lineTo(c.x,c.y+n/5))}"underline"===e&&(t.lineWidth=n/20,t.strokeStyle=r,t.stroke(),t.closePath()),t.restore()},this.path=function(t){var e=this.dataArray;null!=t&&t.beginPath();for(var n=0;n<e.length;n++){var i=e[n].command,r=e[n].points;switch(i){case"L":null!=t&&t.lineTo(r[0],r[1]);break;case"M":null!=t&&t.moveTo(r[0],r[1]);break;case"C":null!=t&&t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":null!=t&&t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var a=r[0],s=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6],f=r[7],h=o>c?o:c,m=o>c?1:o/c,p=o>c?c/o:1;null!=t&&(t.translate(a,s),t.rotate(d),t.scale(m,p),t.arc(0,0,h,l,l+u,1-f),t.scale(1/m,1/p),t.rotate(-d),t.translate(-a,-s));break;case"z":null!=t&&t.closePath()}}},this.getText=function(){return this.text},this.fontSize=function(){return this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize)},this.measureText=function(t,e){var n=this.parent.style("font-family").getDefinition();if(e=e||this.getText(),null!=n){var i=this.fontSize(),r=0;n.isRTL&&(e=e.split("").reverse().join(""));for(var a=o.ToNumberArray(this.parent.attribute("dx").value),s=0;s<e.length;s++)r+=(this.getGlyph(n,e,s).horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(r+=a[s]);return r}var c=o.compressSpaces(e);if(!t.measureText)return 10*c.length;t.save(),this.setContext(t);var l=t.measureText(c).width;return t.restore(),l},this.setTextData=function(t){if(!this.hasOwnProperty("glyphInfo")){var e=this,n=this.getText().split(""),i=this.getText().split(" ").length-1,r=o.ToNumberArray(this.parent.attribute("dx").valueOrDefault("0")),a=0,s=this.parent.style("text-anchor").valueOrDefault("start"),c=this.style("letter-spacing"),l=this.parent.style("letter-spacing");c.hasValue()&&"inherit"!==c.getValue()?c.hasValue()&&"initial"!==c.getValue()&&"unset"!==c.getValue()&&(a=c.toPixels()):a=l.toPixels(),this.letterSpacingCache=[];for(var u=0;u<this.getText().length;u++)this.letterSpacingCache.push(void 0!==r[u]?r[u]:a);var d=this.letterSpacingCache.reduce((function(t,e){return t+e||0}),0);this.textWidth=this.measureText(t),this.textHeight=this.fontSize();var f=Math.max(this.textWidth+d,0);this.glyphInfo=[];var h=this.getPathLength(),m=this.style("startOffset").numValueOrDefault(0)*h,p=0;"middle"!==s&&"center"!==s||(p=-f/2),"end"!==s&&"right"!==s||(p=-f),p+=m;var g=function(n,r){var a,o=e.measureText(t,n);" "===n&&"justify"===s&&f<h&&(o+=(h-f)/i),r>-1&&(p+=(a=(a=r)||0,e.letterSpacingCache[a]||0));var c=e.textHeight/20,l={p0:e.getEquidistantPointOnPath(p,c),p1:e.getEquidistantPointOnPath(p+o,c)};return p+=o,l};for(u=0;u<n.length;u++){var v=g(n[u],u);if(void 0!==v.p0&&void 0!==v.p1){var b=e.getLineLength(v.p0.x,v.p0.y,v.p1.x,v.p1.y),y=e.getPointOnLine(0+b/2,v.p0.x,v.p0.y,v.p1.x,v.p1.y),x=Math.atan2(v.p1.y-v.p0.y,v.p1.x-v.p0.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:n[u],rotation:x,p0:v.p0,p1:v.p1})}}}},this.parsePathData=function(t){if(this.pathLength=void 0,!t)return[];var e=[],n=t.PathParser;for(n.reset();!n.isEnd();){var i=[],r=null,a=n.current?n.current.x:0,s=n.current?n.current.y:0;n.nextCommand();var c=n.command.toUpperCase();switch(n.command){case"M":case"m":var l=n.getAsCurrentPoint();for(i.push(l.x,l.y),n.start=n.current;!n.isCommandOrEnd();)l=n.getAsCurrentPoint(),i.push(l.x,l.y),r="L";break;case"L":case"l":for(;!n.isCommandOrEnd();)l=n.getAsCurrentPoint(),i.push(l.x,l.y);r="L";break;case"H":case"h":for(;!n.isCommandOrEnd();){var u=new o.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);i.push(u.x,u.y),n.current=u}r="L";break;case"V":case"v":for(;!n.isCommandOrEnd();)u=new o.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar()),i.push(u.x,u.y),n.current=u;r="L";break;case"C":case"c":for(;!n.isCommandOrEnd();){var d=n.getPoint(),f=n.getAsControlPoint(),h=n.getAsCurrentPoint();i.push(d.x,d.y,f.x,f.y,h.x,h.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();)d=n.getReflectedControlPoint(),f=n.getAsControlPoint(),h=n.getAsCurrentPoint(),i.push(d.x,d.y,f.x,f.y,h.x,h.y);r="C";break;case"Q":case"q":for(;!n.isCommandOrEnd();)f=n.getAsControlPoint(),h=n.getAsCurrentPoint(),i.push(f.x,f.y,h.x,h.y);break;case"T":case"t":for(;!n.isCommandOrEnd();)f=n.getReflectedControlPoint(),n.control=f,h=n.getAsCurrentPoint(),i.push(f.x,f.y,h.x,h.y);r="Q";break;case"A":case"a":for(;!n.isCommandOrEnd();){var m=n.current,p=n.getScalar(),g=n.getScalar(),v=n.getScalar()*(Math.PI/180),b=n.getScalar(),y=n.getScalar(),x=(h=n.getAsCurrentPoint(),new o.Point(Math.cos(v)*(m.x-h.x)/2+Math.sin(v)*(m.y-h.y)/2,-Math.sin(v)*(m.x-h.x)/2+Math.cos(v)*(m.y-h.y)/2)),w=Math.pow(x.x,2)/Math.pow(p,2)+Math.pow(x.y,2)/Math.pow(g,2);w>1&&(p*=Math.sqrt(w),g*=Math.sqrt(w));var _=(b==y?-1:1)*Math.sqrt((Math.pow(p,2)*Math.pow(g,2)-Math.pow(p,2)*Math.pow(x.y,2)-Math.pow(g,2)*Math.pow(x.x,2))/(Math.pow(p,2)*Math.pow(x.y,2)+Math.pow(g,2)*Math.pow(x.x,2)));isNaN(_)&&(_=0);var E=new o.Point(_*p*x.y/g,_*-g*x.x/p),M=new o.Point((m.x+h.x)/2+Math.cos(v)*E.x-Math.sin(v)*E.y,(m.y+h.y)/2+Math.sin(v)*E.x+Math.cos(v)*E.y),P=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},S=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(P(t)*P(e))},C=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(S(t,e))},k=C([1,0],[(x.x-E.x)/p,(x.y-E.y)/g]),T=[(x.x-E.x)/p,(x.y-E.y)/g],A=[(-x.x-E.x)/p,(-x.y-E.y)/g],V=C(T,A);S(T,A)<=-1&&(V=Math.PI),S(T,A)>=1&&(V=0),0===y&&V>0&&(V-=2*Math.PI),1===y&&V<0&&(V+=2*Math.PI),i=[M.x,M.y,p,g,k,V,v,y]}break;case"Z":case"z":n.current=n.start}"Z"!==c?e.push({command:r||c,points:i,start:{x:a,y:s},pathLength:this.calcLength(a,s,r||c,i)}):e.push({command:"z",points:[],start:void 0,pathLength:0})}return e},this.getPathLength=function(){if(void 0===this.pathLength||null===this.pathLength||isNaN(this.pathLength)){this.pathLength=0;for(var t=0;t<this.dataArray.length;t++)this.dataArray[t].pathLength>0&&(this.pathLength+=this.dataArray[t].pathLength)}return this.pathLength},this.getPointOnPath=function(t){var e=0,n=this.getPathLength(),i=void 0;if(!(t<-5e-5||t-5e-5>n))for(var r=0;r<this.dataArray.length;r++){var a=this.dataArray[r];if(!a||!(a.pathLength<5e-5||e+a.pathLength+5e-5<t)){var s=t-e,o=void 0;switch(a.command){case"L":i=this.getPointOnLine(s,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case"A":var c=a.points[4],l=a.points[5],u=a.points[4]+l;if(o=c+s/a.pathLength*l,l<0&&o<u||l>=0&&o>u)break;i=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],o,a.points[6]);break;case"C":(o=s/a.pathLength)>1&&(o=1),i=this.getPointOnCubicBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case"Q":(o=s/a.pathLength)>1&&(o=1),i=this.getPointOnQuadraticBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(void 0!==i&&i!=={})return i;break}e+=a.pathLength}},this.buildEquidistantCache=function(t,e){var n=this.getPathLength();if(e=e||.25,t=t||n/100,this.equidistantCache=this.equidistantCache||{},!this.equidistantCache.hasOwnProperty("points")||this.equidistantCache.step!=t||this.equidistantCache.precision!=e){this.equidistantCache={step:t,precision:e,points:[]};for(var i=0,r=0;r<=n;r+=e){var a=this.getPointOnPath(r),s=this.getPointOnPath(r+e);void 0!==a&&void 0!==s&&(i+=this.getLineLength(a.x,a.y,s.x,s.y))>=t&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:r}),i-=t)}}},this.getEquidistantPointOnPath=function(t,e,n){if(this.buildEquidistantCache(e,n),!(t<0||t-this.getPathLength()>5e-5)){var i=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||void 0}},this.getLineLength=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},this.getPointOnLine=function(t,e,n,i,r,a,s){void 0===a&&(a=e),void 0===s&&(s=n);var o=(r-n)/(i-e+1e-8),c=Math.sqrt(t*t/(1+o*o));i<e&&(c*=-1);var l,u=o*c;if(i===e)l={x:a,y:s+u};else if((s-n)/(a-e+1e-8)===o)l={x:a+c,y:s+u};else{var d,f,h=this.getLineLength(e,n,i,r);if(h<1e-8)return;var m=(a-e)*(i-e)+(s-n)*(r-n);d=e+(m/=h*h)*(i-e),f=n+m*(r-n);var p=this.getLineLength(a,s,d,f),g=Math.sqrt(t*t-p*p);c=Math.sqrt(g*g/(1+o*o)),i<e&&(c*=-1),l={x:d+c,y:f+(u=o*c)}}return l},this.getPointOnCubicBezier=function(t,e,n,i,r,a,s,o,c){function l(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:o*l(t)+a*u(t)+i*d(t)+e*f(t),y:c*l(t)+s*u(t)+r*d(t)+n*f(t)}},this.getPointOnQuadraticBezier=function(t,e,n,i,r,a,s){function o(t){return t*t}function c(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:a*o(t)+i*c(t)+e*l(t),y:s*o(t)+r*c(t)+n*l(t)}},this.getPointOnEllipticalArc=function(t,e,n,i,r,a){var s=Math.cos(a),o=Math.sin(a),c=n*Math.cos(r),l=i*Math.sin(r);return{x:t+(c*s-l*o),y:e+(c*o+l*s)}},this.calcLength=function(t,e,n,i){var r,a,s,o;switch(n){case"L":return this.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,a=this.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),o=.01;o<=1;o+=.01)s=this.getPointOnCubicBezier(o,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return r;case"Q":for(r=0,a=this.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),o=.01;o<=1;o+=.01)s=this.getPointOnQuadraticBezier(o,t,e,i[0],i[1],i[2],i[3]),r+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return r;case"A":r=0;var c=i[4],l=i[5],u=i[4]+l,d=Math.PI/180;if(Math.abs(c-u)<d&&(d=Math.abs(c-u)),a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),l<0)for(o=c-d;o>u;o-=d)s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),r+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(o=c+d;o<u;o+=d)s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),r+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),r+=this.getLineLength(a.x,a.y,s.x,s.y)}return 0},this.dataArray=this.parsePathData(e)},o.Element.textPath.prototype=new o.Element.TextElementBase,o.Element.image=function(t){this.base=o.Element.RenderedElementBase,this.base(t);var e=this.getHrefAttribute().value;if(""!=e){var n=e.match(/\.svg$/);if(o.Images.push(this),this.loaded=!1,n)this.img=o.ajax(e),this.loaded=!0;else{this.img=r.createElement("img"),1==o.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){o.log('ERROR: image "'+e+'" not found'),i.loaded=!0},this.img.src=e}this.renderChildren=function(t){var e=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=a&&0!=s&&(t.save(),n?t.drawSvg(this.img,e,r,a,s):(t.translate(e,r),o.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,s,this.img.height,0,0),i.loaded&&(void 0===this.img.complete||this.img.complete)&&t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new o.BoundingBox(t,e,t+n,e+i)}}},o.Element.image.prototype=new o.Element.RenderedElementBase,o.Element.g=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(t){for(var e=new o.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox(t));return e}},o.Element.g.prototype=new o.Element.RenderedElementBase,o.Element.symbol=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.render=function(){}},o.Element.symbol.prototype=new o.Element.RenderedElementBase,o.ParseExternalUrl=function(t){var e=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return e[2]||e[3]||e[4]},o.Element.style=function(t){this.base=o.Element.ElementBase,this.base(t);for(var e="",n=0;n<t.childNodes.length;n++)e+=t.childNodes[n].data;e=e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var i=(e=o.compressSpaces(e)).split("}");for(n=0;n<i.length;n++)if(""!=o.trim(i[n]))for(var r=i[n].split("{"),a=r[0].split(","),s=r[1].split(";"),c=0;c<a.length;c++){var l=o.trim(a[c]);if(""!=l){for(var u=o.Styles[l]||{},d=0;d<s.length;d++){var f=s[d].indexOf(":"),h=s[d].substr(0,f),m=s[d].substr(f+1,s[d].length-f);null!=h&&null!=m&&(u[o.trim(h)]=new o.Property(o.trim(h),o.trim(m)))}if(o.Styles[l]=u,o.StylesSpecificity[l]=p(l),"@font-face"==l)for(var g=u["font-family"].value.replace(/"/g,""),v=u.src.value.split(","),b=0;b<v.length;b++)if(v[b].indexOf('format("svg")')>0){var y=o.ParseExternalUrl(v[b]);if(y)for(var x=o.parseXml(o.ajax(y)).getElementsByTagName("font"),w=0;w<x.length;w++){var _=o.CreateElement(x[w]);o.Definitions[g]=_}}}}},o.Element.style.prototype=new o.Element.ElementBase,o.Element.use=function(t){this.base=o.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var e=this.getHrefAttribute().getDefinition();this.path=function(t){null!=e&&e.path(t)},this.elementTransform=function(){if(null!=e&&e.style("transform",!1,!0).hasValue())return new o.Transform(e.style("transform",!1,!0).value)},this.getBoundingBox=function(t){if(null!=e)return e.getBoundingBox(t)},this.renderChildren=function(t){if(null!=e){var n=e;"symbol"==e.type&&((n=new o.Element.svg).type="svg",n.attributes.viewBox=new o.Property("viewBox",e.attribute("viewBox").value),n.attributes.preserveAspectRatio=new o.Property("preserveAspectRatio",e.attribute("preserveAspectRatio").value),n.attributes.overflow=new o.Property("overflow",e.attribute("overflow").value),n.children=e.children),"svg"==n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new o.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new o.Property("height",this.attribute("height").value)));var i=n.parent;n.parent=null,n.render(t),n.parent=i}}},o.Element.use.prototype=new o.Element.RenderedElementBase,o.Element.mask=function(t){this.base=o.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==r&&0==s){for(var c=new o.BoundingBox,l=0;l<this.children.length;l++)c.addBoundingBox(this.children[l].getBoundingBox(t));n=Math.floor(c.x1),i=Math.floor(c.y1),r=Math.floor(c.width()),s=Math.floor(c.height())}var u=e.style("mask").value;e.style("mask").value="";var d=a(n+r,i+s),f=d.getContext("2d");o.SetDefaults(f),this.renderChildren(f),new o.Element.feColorMatrix({nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(f,0,0,n+r,i+s);var h=a(n+r,i+s),m=h.getContext("2d");o.SetDefaults(m),e.render(m),m.globalCompositeOperation="destination-in",m.fillStyle=f.createPattern(d,"no-repeat"),m.fillRect(0,0,n+r,i+s),t.fillStyle=m.createPattern(h,"no-repeat"),t.fillRect(0,0,n+r,i+s),e.style("mask").value=u},this.render=function(){}},o.Element.mask.prototype=new o.Element.ElementBase,o.Element.clipPath=function(t){this.base=o.Element.ElementBase,this.base(t),this.apply=function(t){var e="undefined"!=typeof CanvasRenderingContext2D,n=t.beginPath,i=t.closePath;e&&(CanvasRenderingContext2D.prototype.beginPath=function(){},CanvasRenderingContext2D.prototype.closePath=function(){}),n.call(t);for(var r=0;r<this.children.length;r++){var a=this.children[r];if(void 0!==a.path){var s=void 0!==a.elementTransform&&a.elementTransform();!s&&a.style("transform",!1,!0).hasValue()&&(s=new o.Transform(a.style("transform",!1,!0).value)),s&&s.apply(t),a.path(t),e&&(CanvasRenderingContext2D.prototype.closePath=i),s&&s.unapply(t)}}i.call(t),t.clip(),e&&(CanvasRenderingContext2D.prototype.beginPath=n,CanvasRenderingContext2D.prototype.closePath=i)},this.render=function(){}},o.Element.clipPath.prototype=new o.Element.ElementBase,o.Element.filter=function(t){this.base=o.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=e.getBoundingBox(t),i=Math.floor(n.x1),r=Math.floor(n.y1),s=Math.floor(n.width()),c=Math.floor(n.height()),l=e.style("filter").value;e.style("filter").value="";for(var u=0,d=0,f=0;f<this.children.length;f++){var h=this.children[f].extraFilterDistance||0;u=Math.max(u,h),d=Math.max(d,h)}var m=a(s+2*u,c+2*d),p=m.getContext("2d");for(o.SetDefaults(p),p.translate(-i+u,-r+d),e.render(p),f=0;f<this.children.length;f++)"function"==typeof this.children[f].apply&&this.children[f].apply(p,0,0,s+2*u,c+2*d);t.drawImage(m,0,0,s+2*u,c+2*d,i-u,r-d,s+2*u,c+2*d),e.style("filter",!0).value=l},this.render=function(){}},o.Element.filter.prototype=new o.Element.ElementBase,o.Element.feDropShadow=function(t){this.base=o.Element.ElementBase,this.base(t),this.addStylesFromStyleDefinition(),this.apply=function(){}},o.Element.feDropShadow.prototype=new o.Element.ElementBase,o.Element.feMorphology=function(t){this.base=o.Element.ElementBase,this.base(t),this.apply=function(){}},o.Element.feMorphology.prototype=new o.Element.ElementBase,o.Element.feComposite=function(t){this.base=o.Element.ElementBase,this.base(t),this.apply=function(){}},o.Element.feComposite.prototype=new o.Element.ElementBase,o.Element.feColorMatrix=function(t){this.base=o.Element.ElementBase,this.base(t);var e=o.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var n=e[0];e=[.213+.787*n,.715-.715*n,.072-.072*n,0,0,.213-.213*n,.715+.285*n,.072-.072*n,0,0,.213-.213*n,.715-.715*n,.072+.928*n,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=e[0]*Math.PI/180,r=function(t,e,n){return t+Math.cos(i)*e+Math.sin(i)*n};e=[r(.213,.787,-.213),r(.715,-.715,-.715),r(.072,-.072,.928),0,0,r(.213,-.213,.143),r(.715,.285,.14),r(.072,-.072,-.283),0,0,r(.213,-.213,-.787),r(.715,-.715,.715),r(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function a(t,e,n,i,r,a){return t[n*i*4+4*e+a]}function s(t,e,n,i,r,a,s){t[n*i*4+4*e+a]=s}function c(t,n){var i=e[t];return i*(i<0?n-255:n)}var l=this.attribute("includeOpacity").hasValue();this.apply=function(t,e,n,i,r){var o=t.getImageData(0,0,i,r);for(n=0;n<r;n++)for(e=0;e<i;e++){var u=a(o.data,e,n,i,0,0),d=a(o.data,e,n,i,0,1),f=a(o.data,e,n,i,0,2),h=a(o.data,e,n,i,0,3),m=c(0,u)+c(1,d)+c(2,f)+c(3,h)+c(4,1),p=c(5,u)+c(6,d)+c(7,f)+c(8,h)+c(9,1),g=c(10,u)+c(11,d)+c(12,f)+c(13,h)+c(14,1),v=c(15,u)+c(16,d)+c(17,f)+c(18,h)+c(19,1);l&&(m=p=g=0,v*=h/255),s(o.data,e,n,i,0,0,m),s(o.data,e,n,i,0,1,p),s(o.data,e,n,i,0,2,g),s(o.data,e,n,i,0,3,v)}t.clearRect(0,0,i,r),t.putImageData(o,0,0)}},o.Element.feColorMatrix.prototype=new o.Element.ElementBase,o.Element.feGaussianBlur=function(t){this.base=o.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,n,i,a,s){e&&void 0!==e.canvasRGBA?(t.canvas.id=o.UniqueId(),t.canvas.style.display="none",r.body.appendChild(t.canvas),e.canvasRGBA(t.canvas,n,i,a,s,this.blurRadius),r.body.removeChild(t.canvas)):o.log("ERROR: StackBlur.js must be included for blur to work")}},o.Element.feGaussianBlur.prototype=new o.Element.ElementBase,o.Element.title=function(){},o.Element.title.prototype=new o.Element.ElementBase,o.Element.desc=function(){},o.Element.desc.prototype=new o.Element.ElementBase,o.Element.MISSING=function(t){o.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},o.Element.MISSING.prototype=new o.Element.ElementBase,o.CreateElement=function(t){var e=t.nodeName.replace(/^[^:]+:/,"");e=e.replace(/\-/g,"");var n=null;return(n=void 0!==o.Element[e]?new o.Element[e](t):new o.Element.MISSING(t)).type=t.nodeName,n},o.load=function(t,e){o.loadXml(t,o.ajax(e))},o.loadXml=function(t,e){o.loadXmlDoc(t,o.parseXml(e))},o.loadXmlDoc=function(t,e){o.init(t);var n=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return i.scrollX&&(e.x+=i.scrollX),i.scrollY&&(e.y+=i.scrollY),e};1!=o.opts.ignoreMouse&&(t.canvas.onclick=function(t){var e=n(new o.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));o.Mouse.onclick(e.x,e.y)},t.canvas.onmousemove=function(t){var e=n(new o.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));o.Mouse.onmousemove(e.x,e.y)});var r=o.CreateElement(e.documentElement);r.root=!0,r.addStylesFromStyleDefinition();var a=!0,s=function(){o.ViewPort.Clear(),t.canvas.parentNode?o.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight):o.ViewPort.SetCurrent(800,600),1!=o.opts.ignoreDimensions&&(a||null==o.opts.scaleWidth&&null==o.opts.scaleHeight)&&(r.style("width").hasValue()&&(t.canvas.width=r.style("width").toPixels("x"),t.canvas.style&&(t.canvas.style.width=t.canvas.width+"px")),r.style("height").hasValue()&&(t.canvas.height=r.style("height").toPixels("y"),t.canvas.style&&(t.canvas.style.height=t.canvas.height+"px")));var n=t.canvas.clientWidth||t.canvas.width,i=t.canvas.clientHeight||t.canvas.height;if(1==o.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(n=r.style("width").toPixels("x"),i=r.style("height").toPixels("y")),o.ViewPort.SetCurrent(n,i),null!=o.opts.offsetX&&(r.attribute("x",!0).value=o.opts.offsetX),null!=o.opts.offsetY&&(r.attribute("y",!0).value=o.opts.offsetY),null!=o.opts.scaleWidth||null!=o.opts.scaleHeight){var s=null,c=null,l=o.ToNumberArray(r.attribute("viewBox").value);null!=o.opts.scaleWidth&&(r.attribute("width").hasValue()?s=r.attribute("width").toPixels("x")/o.opts.scaleWidth:isNaN(l[2])||(s=l[2]/o.opts.scaleWidth)),null!=o.opts.scaleHeight&&(r.attribute("height").hasValue()?c=r.attribute("height").toPixels("y")/o.opts.scaleHeight:isNaN(l[3])||(c=l[3]/o.opts.scaleHeight)),null==s&&(s=c),null==c&&(c=s),r.attribute("width",!0).value=o.opts.scaleWidth,r.attribute("height",!0).value=o.opts.scaleHeight,r.style("transform",!0,!0).value+=" scale("+1/s+","+1/c+")"}1!=o.opts.ignoreClear&&t.clearRect(0,0,n,i),r.render(t),a&&(a=!1,"function"==typeof o.opts.renderCallback&&o.opts.renderCallback(e))},c=!0;o.ImagesLoaded()&&(c=!1,s()),o.intervalID=setInterval((function(){var t=!1;if(c&&o.ImagesLoaded()&&(c=!1,t=!0),1!=o.opts.ignoreMouse&&(t=t||o.Mouse.hasEvents()),1!=o.opts.ignoreAnimation)for(var e=0;e<o.Animations.length;e++){var n=o.Animations[e].update(1e3/o.FRAMERATE);t=t||n}"function"==typeof o.opts.forceRedraw&&1==o.opts.forceRedraw()&&(t=!0),t&&(s(),o.Mouse.runEvents())}),1e3/o.FRAMERATE)},o.stop=function(){o.intervalID&&clearInterval(o.intervalID)},o.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInPath&&e.isPointInPath(i.x,i.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){if(e)for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInBox(i.x,i.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){o.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var e=this.events[t],n=this.eventElements[t];n;)e.run(n),n=n.parent;this.events=[],this.eventElements=[]}},o}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,i,r,a){var s={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:i,scaleHeight:r};for(var c in a)a.hasOwnProperty(c)&&(s[c]=a[c]);o(this.canvas,t,s)}),o._build=g,n.exports=o}))}(As,Rs)})),{data:"",svg:"",valueLine:"",margin:{},width:null,height:null,dataSectionIndex:"",dataCounts:"",yScale:"",xScale:"",selectedSections:[],dataMonths:"",dataDates:"",x_axis:"",y_axis:"",selectedTabDataTitle:"",tooltip:"",svgContainerWidth:0,init:function(){_s.init({widget:this,selector:"numeric-metrics"}),qs.control(),Ps.build(),Ps.createPNG(),_s.emptyData(),Ps.downloadCSV(),_s.counter(document.querySelector(".numeric-metrics .metrics-total__item-text"))},control:function(){var t=this,e=document.querySelectorAll(".".concat(_s.selector," > .metrics-header a.metrics-nav__item-link")),n=document.querySelectorAll(".numeric-metrics .metrics-tabs__item-link");e.forEach((function(e){e.addEventListener("click",(function(n){_s.init({widget:t,selector:"numeric-metrics"}),Ss.handler(n,e)}))})),n.forEach((function(e){e.addEventListener("click",(function(e){_s.init({widget:t,selector:"numeric-metrics"}),M.numericCaptureEvents("chart-time",null);var n=e.currentTarget;qs.selections(),Cs(e,n),Ps.periods(),Ps.createPNG()}))})),Es(".numeric-metrics .metrics-menu--download .metrics-menu__link"),Es(".numeric-metrics .metrics-menu--share .metrics-menu__link"),Es(".numeric-metrics .metrics-tabs__link");var i=document.querySelectorAll(".numeric-metrics .metrics-menu--share .metrics-menu__dropdown-link"),r=document.querySelectorAll(".numeric-metrics .metrics-menu--download .metrics-menu__dropdown-link");i.forEach((function(t){t.addEventListener("click",(function(t){return M.numericCaptureEvents("share",null)}))})),r.forEach((function(t){t.addEventListener("click",(function(t){return M.numericCaptureEvents("download",null)}))}))},selections:function(){qs.selectedTabs=document.querySelectorAll(".".concat(_s.selector," > .metrics-header .metrics-nav__item-link.metrics-selected--js"))}}),Fs=function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})},Us=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},js=function(){if("function"==typeof NodeList.prototype.forEach)return!1;NodeList.prototype.forEach=Array.prototype.forEach};document.addEventListener("DOMContentLoaded",(function(t){var r=document.querySelectorAll(".toolbar-metric-container .toolbar-metric__data"),a=document.querySelector(".sidebar-metric-container .sidebar-metric__data"),s=document.querySelector(".numeric-metrics-container .numeric-metrics__data");if(r&&r.forEach((function(t,n){t.insertAdjacentHTML("afterend",v(e(n))),Ms.init(n)})),a){if(a.insertAdjacentHTML("afterend",E(n())),0===document.querySelector(".sidebar-metric-container").clientWidth){for(var o=a;o&&o!==document;o=o.parentNode)"none"===getComputedStyle(o).display&&o.classList.add("metrics-show__parent--js");Ts.init(),document.querySelectorAll(".metrics-show__parent--js").forEach((function(t){t.classList.remove("metrics-show__parent--js")}))}else Ts.init();document.addEventListener("sidebarMetric:re-init",(function(t){return Ts.init()}))}s&&(s.insertAdjacentHTML("afterend",d(i())),qs.init())})),Fs(),Us(),js();