!function(){"use strict";var e=setTimeout;function u(t){return Boolean(t&&void 0!==t.length)}function n(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function o(r,n){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,s._immediateFn(function(){var t=1===r._state?n.onFulfilled:n.onRejected;if(null!==t){var e;try{e=t(r._value)}catch(t){return void a(n.promise,t)}i(n.promise,e)}else(1===r._state?i:a)(n.promise,r._value)})):r._deferreds.push(n)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof s)return e._state=3,e._value=t,void c(e);if("function"==typeof r)return void f(function(t,e){return function(){t.apply(e,arguments)}}(r,t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)o(t,t._deferreds[e]);t._deferreds=null}function h(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function f(t,e){var r=!1;try{t(function(t){r||(r=!0,i(e,t))},function(t){r||(r=!0,a(e,t))})}catch(t){if(r)return;r=!0,a(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var r=new this.constructor(n);return o(this,new h(t,e,r)),r},s.prototype.finally=function(e){var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){return r.reject(t)})})},s.all=function(e){return new s(function(n,o){if(!u(e))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);var s=i.length;function a(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if("function"==typeof r)return void r.call(t,function(t){a(e,t)},o)}i[e]=t,0==--s&&n(i)}catch(t){o(t)}}for(var t=0;t<i.length;t++)a(t,i[t])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(r){return new s(function(t,e){e(r)})},s.race=function(o){return new s(function(t,e){if(!u(o))return e(new TypeError("Promise.race accepts an array"));for(var r=0,n=o.length;r<n;r++)s.resolve(o[r]).then(t,e)})},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};function r(t,e){return t>>e||1}var x=(t.prototype.truncate=function(t,e,r){if(void 0===e&&(e=""),void 0===r&&(r=0),null==t)return t;switch(typeof t){case"boolean":case"number":case"function":return t;case"string":return this.truncateString(t);case"object":break;default:return this.truncateString(String(t))}if(t instanceof String)return this.truncateString(t.toString());if(t instanceof Boolean||t instanceof Number||t instanceof Date||t instanceof RegExp)return t;if(t instanceof Error)return this.truncateString(t.toString());if(0<=this.seen.indexOf(t))return"[Circular "+this.getPath(t)+"]";var n=function(t){return Object.prototype.toString.apply(t).slice("[object ".length,-1)}(t);if(++r>this.maxDepth)return"[Truncated "+n+"]";switch(this.keys.push(e),this.seen.push(t),n){case"Array":return this.truncateArray(t,r);case"Object":return this.truncateObject(t,r);default:var o=this.maxDepth;this.maxDepth=0;var i=this.truncateObject(t,r);return i.__type=n,this.maxDepth=o,i}},t.prototype.getPath=function(t){for(var e=this.seen.indexOf(t),r=[this.keys[e]],n=e;0<=n;n--){var o=this.seen[n];o&&p(o,r[0])===t&&(t=o,r.unshift(this.keys[n]))}return"~"+r.join(".")},t.prototype.truncateString=function(t){return t.length>this.maxStringLength?t.slice(0,this.maxStringLength)+"...":t},t.prototype.truncateArray=function(t,e){void 0===e&&(e=0);for(var r=0,n=[],o=0;o<t.length;o++){var i=t[o];if(n.push(this.truncate(i,o.toString(),e)),++r>=this.maxArrayLength)break}return n},t.prototype.truncateObject=function(t,e){void 0===e&&(e=0);var r=0,n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(l(o,this.keysBlocklist))n[o]="[Filtered]";else{var i=p(t,o);if(void 0!==i&&"function"!=typeof i&&(n[o]=this.truncate(i,o,e),++r>=this.maxObjectLength))break}return n},t);function t(t){this.maxStringLength=1024,this.maxObjectLength=128,this.maxArrayLength=128,this.maxDepth=8,this.keys=[],this.keysBlocklist=[],this.seen=[];var e=t.level||0;this.keysBlocklist=t.keysBlocklist||[],this.maxStringLength=r(this.maxStringLength,e),this.maxObjectLength=r(this.maxObjectLength,e),this.maxArrayLength=r(this.maxArrayLength,e),this.maxDepth=r(this.maxDepth,e)}function p(t,e){try{return t[e]}catch(t){return}}function l(t,e){for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o===t)return!0;if(o instanceof RegExp&&t.match(o))return!0}return!1}var d=(y.prototype.end=function(t){this.endTime=t||new Date,this._dur+=this.endTime.getTime()-this.startTime.getTime(),this._metric._incGroup(this.name,this._dur),this._metric=null},y.prototype._pause=function(){if(!this._paused()){var t=new Date;this._dur+=t.getTime()-this.startTime.getTime(),this.startTime=null}},y.prototype._resume=function(){this._paused()&&(this.startTime=new Date)},y.prototype._paused=function(){return null==this.startTime},y);function y(t,e,r){this._dur=0,this._level=0,this._metric=t,this.name=e,this.startTime=r||new Date}var m=(v.prototype.end=function(t){this.endTime||(this.endTime=t||new Date)},v.prototype.isRecording=function(){return!0},v.prototype.startSpan=function(t,e){var r=this._spans[t];r?r._level++:(r=new d(this,t,e),this._spans[t]=r)},v.prototype.endSpan=function(t,e){var r=this._spans[t];r?0<r._level?r._level--:(r.end(e),delete this._spans[r.name]):console.error("airbrake: span=%s does not exist",t)},v.prototype._incGroup=function(t,e){this._groups[t]=(this._groups[t]||0)+e},v.prototype._duration=function(){return this.endTime||(this.endTime=new Date),this.endTime.getTime()-this.startTime.getTime()},v);function v(){this._spans={},this._groups={},this.startTime=new Date}var _=(g.prototype.isRecording=function(){return!1},g.prototype.startSpan=function(t,e){},g.prototype.endSpan=function(t,e){},g.prototype._incGroup=function(t,e){},g);function g(){}var w=function(){return(w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=(O.prototype.clone=function(){var t=new O;return t._context=w({},this._context),t._history=this._history.slice(),t},O.prototype.setContext=function(t){this._context=w(w({},this._context),t)},O.prototype.context=function(){var t=w({},this._context);return 0<this._history.length&&(t.history=this._history.slice()),t},O.prototype.pushHistory=function(t){this._isDupState(t)?this._lastRecord.num?this._lastRecord.num++:this._lastRecord.num=2:(t.date||(t.date=new Date),this._history.push(t),this._lastRecord=t,this._history.length>this._historyMaxLen&&(this._history=this._history.slice(-this._historyMaxLen)))},O.prototype._isDupState=function(t){if(!this._lastRecord)return!1;for(var e in t)if(t.hasOwnProperty(e)&&"date"!==e&&t[e]!==this._lastRecord[e])return!1;return!0},O.prototype.routeMetric=function(){return this._routeMetric||this._noopMetric},O.prototype.setRouteMetric=function(t){this._routeMetric=t},O.prototype.queueMetric=function(){return this._queueMetric||this._noopMetric},O.prototype.setQueueMetric=function(t){this._queueMetric=t},O);function O(){this._noopMetric=new _,this._context={},this._historyMaxLen=20,this._history=[]}var j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(t,e){return t(e={exports:{}},e.exports),e.exports}var T=E(function(t,e){t.exports=function(){function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function n(t){return t.charAt(0).toUpperCase()+t.substring(1)}function t(t){return function(){return this[t]}}var e=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],s=["args"],a=["evalOrigin"],u=e.concat(o,i,s,a);function f(t){if(!t)return;for(var e=0;e<u.length;e++){if(t[u[e]]!==undefined){this["set"+n(u[e])](t[u[e]])}}}f.prototype={getArgs:function(){return this.args},setArgs:function(t){if(Object.prototype.toString.call(t)!=="[object Array]"){throw new TypeError("Args must be an Array")}this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof f){this.evalOrigin=t}else if(t instanceof Object){this.evalOrigin=new f(t)}else{throw new TypeError("Eval Origin must be an Object or StackFrame")}},toString:function(){var t=this.getFileName()||"";var e=this.getLineNumber()||"";var r=this.getColumnNumber()||"";var n=this.getFunctionName()||"";if(this.getIsEval()){if(t){return"[eval] ("+t+":"+e+":"+r+")"}return"[eval]:"+e+":"+r}if(n){return n+" ("+t+":"+e+":"+r+")"}return t+":"+e+":"+r}},f.fromString=function t(e){var r=e.indexOf("(");var n=e.lastIndexOf(")");var o=e.substring(0,r);var i=e.substring(r+1,n).split(",");var s=e.substring(n+1);if(s.indexOf("@")===0){var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s,"");var u=a[1];var c=a[2];var h=a[3]}return new f({functionName:o,args:i||undefined,fileName:u,lineNumber:c||undefined,columnNumber:h||undefined})};for(var c=0;c<e.length;c++){f.prototype["get"+n(e[c])]=t(e[c]);f.prototype["set"+n(e[c])]=function(e){return function(t){this[e]=Boolean(t)}}(e[c])}for(var h=0;h<o.length;h++){f.prototype["get"+n(o[h])]=t(o[h]);f.prototype["set"+n(o[h])]=function(e){return function(t){if(!r(t)){throw new TypeError(e+" must be a Number")}this[e]=Number(t)}}(o[h])}for(var p=0;p<i.length;p++){f.prototype["get"+n(i[p])]=t(i[p]);f.prototype["set"+n(i[p])]=function(e){return function(t){this[e]=String(t)}}(i[p])}return f}()}),k=E(function(t,e){t.exports=function(u){var n=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function t(e){if(typeof e.stacktrace!=="undefined"||typeof e["opera#sourceloc"]!=="undefined"){return this.parseOpera(e)}else if(e.stack&&e.stack.match(o)){return this.parseV8OrIE(e)}else if(e.stack){return this.parseFFOrSafari(e)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function t(e){if(e.indexOf(":")===-1){return[e]}var r=/(.+?)(?::(\d+))?(?::(\d+))?$/;var n=r.exec(e.replace(/[()]/g,""));return[n[1],n[2]||undefined,n[3]||undefined]},parseV8OrIE:function t(e){var r=e.stack.split("\n").filter(function(t){return!!t.match(o)},this);return r.map(function(t){if(t.indexOf("(eval ")>-1){t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,"")}var e=t.replace(/^\s+/,"").replace(/\(eval code/g,"(");var r=e.match(/ (\((.+):(\d+):(\d+)\)$)/);e=r?e.replace(r[0],""):e;var n=e.split(/\s+/).slice(1);var o=this.extractLocation(r?r[1]:n.pop());var i=n.join(" ")||undefined;var s=["eval","<anonymous>"].indexOf(o[0])>-1?undefined:o[0];return new u({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseFFOrSafari:function t(e){var r=e.stack.split("\n").filter(function(t){return!t.match(i)},this);return r.map(function(t){if(t.indexOf(" > eval")>-1){t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")}if(t.indexOf("@")===-1&&t.indexOf(":")===-1){return new u({functionName:t})}else{var e=/((.*".+"[^@]*)?[^@]*)(?:@)/;var r=t.match(e);var n=r&&r[1]?r[1]:undefined;var o=this.extractLocation(t.replace(e,""));return new u({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}},this)},parseOpera:function t(e){if(!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return this.parseOpera9(e)}else if(!e.stack){return this.parseOpera10(e)}else{return this.parseOpera11(e)}},parseOpera9:function t(e){var r=/Line (\d+).*script (?:in )?(\S+)/i;var n=e.message.split("\n");var o=[];for(var i=2,s=n.length;i<s;i+=2){var a=r.exec(n[i]);if(a){o.push(new u({fileName:a[2],lineNumber:a[1],source:n[i]}))}}return o},parseOpera10:function t(e){var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var n=e.stacktrace.split("\n");var o=[];for(var i=0,s=n.length;i<s;i+=2){var a=r.exec(n[i]);if(a){o.push(new u({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:n[i]}))}}return o},parseOpera11:function t(e){var r=e.stack.split("\n").filter(function(t){return!!t.match(n)&&!t.match(/^Error created at/)},this);return r.map(function(t){var e=t.split("@");var r=this.extractLocation(e.pop());var n=e.shift()||"";var o=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var i;if(n.match(/\(([^)]*)\)/)){i=n.replace(/^[^(]+\(([^)]*)\)$/,"$1")}var s=i===undefined||i==="[arguments not available]"?undefined:i.split(",");return new u({functionName:o,args:s,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)}}}(T)}),S="object"==typeof console&&console.warn;function N(e){try{return k.parse(e)}catch(t){S&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function A(t){var e=[];if(t.noStack)e.push({function:t.functionName||"",file:t.fileName||"",line:t.lineNumber||0,column:t.columnNumber||0});else{var r=N(t);if(0===r.length)try{throw new Error("fake")}catch(t){(r=N(t)).shift(),r.shift()}for(var n=0,o=r;n<o.length;n++){var i=o[n];e.push({function:i.functionName||"",file:i.fileName||"",line:i.lineNumber||0,column:i.columnNumber||0})}}return{type:t.name?t.name:"",message:t.message?String(t.message):String(t),backtrace:e}}var D=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));function L(t){var e=t.errors[0];if(""!==e.type&&"Error"!==e.type)return t;var r=e.message.match(D);return null!==r&&(e.type=r[1],e.message=r[2]),t}var P=["Script error","Script error.","InvalidAccessError"];function R(t){var e=t.errors[0];if(""===e.type&&-1!==P.indexOf(e.message))return null;if(e.backtrace&&0<e.backtrace.length&&"<anonymous>"===e.backtrace[0].file)return null;return t}var q=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));function C(t){var e=t.errors[0];if(""!==e.type&&"Error"!==e.type)return t;var r=e.message.match(q);return null!==r&&(e.type=r[1],e.message=r[2]),t}var B=E(function(t,e){var r,x,n=(r="undefined"!=typeof self?self:j,o.prototype=r,new o);function o(){this.fetch=!1,this.DOMException=r.DOMException}x=n,function(a){var e="URLSearchParams"in x,r="Symbol"in x&&"iterator"in Symbol,u="FileReader"in x&&"Blob"in x&&function(){try{return new Blob,!0}catch(t){return!1}}(),n="FormData"in x,o="ArrayBuffer"in x;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&-1<i.indexOf(Object.prototype.toString.call(t))};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function t(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(r){return new Promise(function(t,e){r.onload=function(){t(r.result)},r.onerror=function(){e(r.error)}})}function d(t){var e=new FileReader,r=l(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:u&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&u&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=l(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=h(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=h(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var r=[];return this.forEach(function(t,e){r.push(e)}),t(r)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),t(e)},f.prototype.entries=function(){var r=[];return this.forEach(function(t,e){r.push([e,t])}),t(r)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(t,e){var r=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<v.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(t){var o=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(n))}}),o}function w(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];w.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},a.DOMException=x.DOMException;try{new a.DOMException}catch(t){a.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function O(i,s){return new Promise(function(r,t){var e=new _(i,s);if(e.signal&&e.signal.aborted)return t(new a.DOMException("Aborted","AbortError"));var n=new XMLHttpRequest;function o(){n.abort()}n.onload=function(){var t={status:n.status,statusText:n.statusText,headers:function(t){var o=new f;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),r=e.shift().trim();if(r){var n=e.join(":").trim();o.append(r,n)}}),o}(n.getAllResponseHeaders()||"")};t.url="responseURL"in n?n.responseURL:t.headers.get("X-Request-URL");var e="response"in n?n.response:n.responseText;r(new w(e,t))},n.onerror=function(){t(new TypeError("Network request failed"))},n.ontimeout=function(){t(new TypeError("Network request failed"))},n.onabort=function(){t(new a.DOMException("Aborted","AbortError"))},n.open(e.method,e.url,!0),"include"===e.credentials?n.withCredentials=!0:"omit"===e.credentials&&(n.withCredentials=!1),"responseType"in n&&u&&(n.responseType="blob"),e.headers.forEach(function(t,e){n.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",o),n.onreadystatechange=function(){4===n.readyState&&e.signal.removeEventListener("abort",o)}),n.send(void 0===e._bodyInit?null:e._bodyInit)})}O.polyfill=!0,x.fetch||(x.fetch=O,x.Headers=f,x.Request=_,x.Response=w),a.Headers=f,a.Request=_,a.Response=w,a.fetch=O}({}),delete n.fetch.polyfill,(e=n.fetch).default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e}),F=(B.fetch,B.Headers,B.Request,B.Response,{unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}),M=0;function I(t){if(Date.now()/1e3<M)return s.reject(F.ipRateLimited);var e={method:t.method,body:t.body};return B(t.url,e).then(function(e){if(401===e.status)throw F.unauthorized;if(429===e.status){var t=e.headers.get("X-RateLimit-Delay");if(!t)throw F.ipRateLimited;var r=parseInt(t,10);throw 0<r&&(M=Date.now()/1e3+r),F.ipRateLimited}if(204===e.status)return{json:null};if(404===e.status)throw new Error("404 Not Found");return 200<=e.status&&e.status<300?e.json().then(function(t){return{json:t}}):400<=e.status&&e.status<500?e.json().then(function(t){throw new Error(t.message)}):e.text().then(function(t){throw new Error("airbrake: fetch: unexpected response: code="+e.status+" body='"+t+"'")})})}function U(e){return function(t){return function(t,e){if(Date.now()/1e3<H)return s.reject(F.ipRateLimited);return new s(function(a,u){e({url:t.url,method:t.method,body:t.body,headers:{"content-type":"application/json"},timeout:t.timeout},function(t,e,r){if(t)u(t);else{if(!e.statusCode)return t=new Error("airbrake: request: response statusCode is "+e.statusCode),void u(t);if(401!==e.statusCode)if(429!==e.statusCode)if(204!==e.statusCode)if(200<=e.statusCode&&e.statusCode<300){var n=void 0;try{n=JSON.parse(r)}catch(t){return void u(t)}a(n)}else{if(400<=e.statusCode&&e.statusCode<500){n=void 0;try{n=JSON.parse(r)}catch(t){return void u(t)}return t=new Error(n.message),void u(t)}r=r.trim(),t=new Error("airbrake: node: unexpected response: code="+e.statusCode+" body='"+r+"'"),u(t)}else a({json:null});else{u(F.ipRateLimited);var o=e.headers["x-ratelimit-delay"];if(!o)return;var i=void 0;if("string"==typeof o)i=o;else{if(!(o instanceof Array))return;i=o[0]}var s=parseInt(i,10);0<s&&(H=Date.now()/1e3+s)}else u(F.unauthorized)}})})}(t,e)}}var H=0;function J(t){return t.request?U(t.request):I}var G,$,W=function(t,e){function r(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},X=!(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});try{$=require("tdigest"),X=!0}catch(t){}var K=(V.prototype.add=function(t){0===t&&(t=1e-5),this.count+=1,this.sum+=t,this.sumsq+=t*t,this._td&&this._td.push(t)},V.prototype.toJSON=function(){return{count:this.count,sum:this.sum,sumsq:this.sumsq,tdigestCentroids:Z(this._td)}},V);function V(){this.count=0,this.sum=0,this.sumsq=0,this._td=new $.Digest}var z,Q=(W(Y,z=K),Y.prototype.addGroups=function(t,e){for(var r in this.add(t),e)e.hasOwnProperty(r)&&this.addGroup(r,e[r])},Y.prototype.addGroup=function(t,e){var r=this.groups[t];r||(r=new K,this.groups[t]=r),r.add(e)},Y.prototype.toJSON=function(){return{count:this.count,sum:this.sum,sumsq:this.sumsq,tdigestCentroids:Z(this._td),groups:this.groups}},Y);function Y(){var t=null!==z&&z.apply(this,arguments)||this;return t.groups={},t}function Z(t){var e=[],r=[];return t.centroids.each(function(t){e.push(t.mean),r.push(t.n)}),{mean:e,count:r}}var tt=function(){return(tt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},et=(rt.prototype._duration=function(){return this.endTime||(this.endTime=new Date),this.endTime.getTime()-this.startTime.getTime()},rt);function rt(t){void 0===t&&(t=""),this.method="",this.route="",this.query="",this.func="",this.file="",this.line=0,this.startTime=new Date,this.query=t}var nt=(ot.prototype.start=function(t){return void 0===t&&(t=""),new et(t)},ot.prototype.notify=function(t){var e=this;if(X){var r=t._duration(),n=new Date(6e4*Math.floor(t.startTime.getTime()/6e4)),o={method:t.method,route:t.route,query:t.query,func:t.func,file:t.file,line:t.line,time:n},i=JSON.stringify(o),s=this._m[i];s||(s=new K,this._m[i]=s),s.add(r),this._timer||(this._timer=setTimeout(function(){e._flush()},15e3))}},ot.prototype._flush=function(){var t=[];for(var e in this._m)if(this._m.hasOwnProperty(e)){var r=JSON.parse(e),n=tt(tt({},r),this._m[e].toJSON());t.push(n)}this._m={},this._timer=null;var o=JSON.stringify({environment:this._opt.environment,queries:t}),i={method:"POST",url:this._url,body:o};this._requester(i).then(function(t){}).catch(function(t){console.error&&console.error("can not report queries stats",t)})},ot);function ot(t){this._m={},this._opt=t,this._url=t.host+"/api/v5/projects/"+t.projectId+"/queries-stats?key="+t.projectKey,this._requester=J(t)}var it,st,at=(it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ut=function(){return(ut=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ct=(at(ht,st=m),ht);function ht(t){var e=st.call(this)||this;return e.queue=t,e.startTime=new Date,e}var ft=(pt.prototype.notify=function(t){var e=this;if(X){var r=t._duration();0===r&&(r=1e-5);var n=new Date(6e4*Math.floor(t.startTime.getTime()/6e4)),o={queue:t.queue,time:n},i=JSON.stringify(o),s=this._m[i];s||(s=new Q,this._m[i]=s),s.addGroups(r,t._groups),this._timer||(this._timer=setTimeout(function(){e._flush()},15e3))}},pt.prototype._flush=function(){var t=[];for(var e in this._m)if(this._m.hasOwnProperty(e)){var r=JSON.parse(e),n=ut(ut({},r),this._m[e].toJSON());t.push(n)}this._m={},this._timer=null;var o=JSON.stringify({environment:this._opt.environment,queues:t}),i={method:"POST",url:this._url,body:o};this._requester(i).then(function(t){}).catch(function(t){console.error&&console.error("can not report queues breakdowns",t)})},pt);function pt(t){this._m={},this._opt=t,this._url=t.host+"/api/v5/projects/"+t.projectId+"/queues-stats?key="+t.projectKey,this._requester=J(t)}var lt,dt,yt=(lt=function(t,e){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),mt=function(){return(mt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vt=(yt(_t,dt=m),_t);function _t(t,e,r,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===r&&(r=0),void 0===n&&(n="");var o=dt.call(this)||this;return o.method=t,o.route=e,o.statusCode=r,o.contentType=n,o.startTime=new Date,o}var gt=(wt.prototype.notify=function(t){var e=this;if(X){var r=t._duration(),n=new Date(6e4*Math.floor(t.startTime.getTime()/6e4)),o={method:t.method,route:t.route,statusCode:t.statusCode,time:n},i=JSON.stringify(o),s=this._m[i];s||(s=new K,this._m[i]=s),s.add(r),this._timer||(this._timer=setTimeout(function(){e._flush()},15e3))}},wt.prototype._flush=function(){var t=[];for(var e in this._m)if(this._m.hasOwnProperty(e)){var r=JSON.parse(e),n=mt(mt({},r),this._m[e].toJSON());t.push(n)}this._m={},this._timer=null;var o=JSON.stringify({environment:this._opt.environment,routes:t}),i={method:"POST",url:this._url,body:o};this._requester(i).then(function(t){}).catch(function(t){console.error&&console.error("can not report routes stats",t)})},wt);function wt(t){this._m={},this._opt=t,this._url=t.host+"/api/v5/projects/"+t.projectId+"/routes-stats?key="+t.projectKey,this._requester=J(t)}var bt=(Ot.prototype.notify=function(t){var e=this;if(X&&!(t.statusCode<200||300<=t.statusCode&&t.statusCode<400||404===t.statusCode||0===Object.keys(t._groups).length)){var r=t._duration();0===r&&(r=1e-5);var n=new Date(6e4*Math.floor(t.startTime.getTime()/6e4)),o={method:t.method,route:t.route,responseType:this._responseType(t),time:n},i=JSON.stringify(o),s=this._m[i];s||(s=new Q,this._m[i]=s),s.addGroups(r,t._groups),this._timer||(this._timer=setTimeout(function(){e._flush()},15e3))}},Ot.prototype._flush=function(){var t=[];for(var e in this._m)if(this._m.hasOwnProperty(e)){var r=JSON.parse(e),n=mt(mt({},r),this._m[e].toJSON());t.push(n)}this._m={},this._timer=null;var o=JSON.stringify({environment:this._opt.environment,routes:t}),i={method:"POST",url:this._url,body:o};this._requester(i).then(function(t){}).catch(function(t){console.error&&console.error("can not report routes breakdowns",t)})},Ot.prototype._responseType=function(t){return 500<=t.statusCode?"5xx":400<=t.statusCode?"4xx":t.contentType?t.contentType.split(";")[0].split("/")[-1]:""},Ot);function Ot(t){this._m={},this._opt=t,this._url=t.host+"/api/v5/projects/"+t.projectId+"/routes-breakdowns?key="+t.projectKey,this._requester=J(t)}var xt=function(){return(xt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},jt=(Et.prototype.close=function(){for(var t=0,e=this._onClose;t<e.length;t++)(0,e[t])()},Et.prototype.scope=function(){return this._scope},Et.prototype.setActiveScope=function(t){this._scope=t},Et.prototype.addFilter=function(t){this._filters.push(t)},Et.prototype.addPerformanceFilter=function(t){this._performanceFilters.push(t)},Et.prototype.notify=function(t){var e={errors:[],context:xt(xt({severity:"error"},this.scope().context()),t.context),params:t.params||{},environment:t.environment||{},session:t.session||{}};if("object"==typeof t&&void 0!==t.error||(t={error:t}),!t.error)return e.error=new Error("airbrake: got err="+JSON.stringify(t.error)+", wanted an Error"),s.resolve(e);var r=this._processor(t.error);e.errors.push(r);for(var n=0,o=this._filters;n<o.length;n++){var i=(0,o[n])(e);if(null===i)return e.error=new Error("airbrake: error is filtered"),s.resolve(e);e=i}return e.context||(e.context={}),e.context.language="JavaScript",this._sendNotice(e)},Et.prototype._sendNotice=function(e){var t=function(t,e){var r,n,o=void 0===e?{}:e,i=o.maxLength,s=void 0===i?64e3:i,a=o.keysBlocklist,u=void 0===a?[]:a;if(t.errors)for(var c=0;c<t.errors.length;c++){var h=new x({keysBlocklist:u});t.errors[c]=h.truncate(t.errors[c])}for(var f="",p=["context","params","environment","session"],l=0;l<8;l++){for(var d={level:l,keysBlocklist:u},y=0,m=p;y<m.length;y++)(b=t[w=m[y]])&&(t[w]=(r=b,void 0===(n=d)&&(n={}),new x(n).truncate(r)));if((f=JSON.stringify(t)).length<s)return f}var v={json:f.slice(0,Math.floor(s/2))+"..."};p.push("errors");for(var _=0,g=p;_<g.length;_++){var w,b;(b=t[w=g[_]])&&(f=JSON.stringify(b),v[w]=f.length)}var O=new Error("airbrake: notice exceeds max length and can't be truncated");throw O.params=v,O}(e,{keysBlocklist:this._opt.keysBlocklist});if(this._opt.reporter){if("function"==typeof this._opt.reporter)return this._opt.reporter(e);console.warn("airbrake: options.reporter must be a function")}var r={method:"POST",url:this._url,body:t};return this._requester(r).then(function(t){return e.id=t.json.id,e}).catch(function(t){return e.error=t,e})},Et.prototype.wrap=function(r,t){if(void 0===t&&(t=[]),r._airbrake)return r;function e(){var e=Array.prototype.slice.call(arguments),t=n._wrapArguments(e);try{return r.apply(this,t)}catch(t){throw n.notify({error:t,params:{arguments:e}}),this._ignoreNextWindowError(),t}}var n=this;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);for(var i=0,s=t;i<s.length;i++)o=s[i],r.hasOwnProperty(o)&&(e[o]=r[o]);return e._airbrake=!0,e.inner=r,e},Et.prototype._wrapArguments=function(t){for(var e=0;e<t.length;e++){var r=t[e];"function"==typeof r&&(t[e]=this.wrap(r))}return t},Et.prototype._ignoreNextWindowError=function(){},Et.prototype.call=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.wrap(t).apply(this,Array.prototype.slice.call(arguments,1))},Et);function Et(t){var e=this;if(this._filters=[],this._performanceFilters=[],this._scope=new b,this._onClose=[],!t.projectId||!t.projectKey)throw new Error("airbrake: projectId and projectKey are required");this._opt=t,this._opt.host=this._opt.host||"https://api.airbrake.io",this._opt.timeout=this._opt.timeout||1e4,this._opt.keysBlocklist=this._opt.keysBlocklist||this._opt.keysBlacklist||[/password/,/secret/],this._url=this._opt.host+"/api/v3/projects/"+this._opt.projectId+"/notices?key="+this._opt.projectKey,this._processor=this._opt.processor||A,this._requester=J(this._opt),this.addFilter(R),this.addFilter(function(){var r,n;return function(t){var e=JSON.stringify(t.errors);return e===r?null:(n&&clearTimeout(n),r=e,n=setTimeout(function(){r=""},1e3),t)}}()),this.addFilter(C),this.addFilter(L),this.addFilter(function(t){return t.context.notifier={name:"airbrake-js/browser",version:"1.3.0",url:"https://github.com/airbrake/airbrake-js/tree/master/packages/browser"},e._opt.environment&&(t.context.environment=e._opt.environment),t}),this.routes=new Tt(this),this.queues=new St(this),this.queries=new nt(this._opt)}var Tt=(kt.prototype.start=function(t,e,r,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===r&&(r=0),void 0===n&&(n="");var o=new vt(t,e,r,n),i=this._notifier.scope().clone();return i.setContext({httpMethod:t,route:e}),i.setRouteMetric(o),this._notifier.setActiveScope(i),o},kt.prototype.notify=function(t){t.end();for(var e=0,r=this._notifier._performanceFilters;e<r.length;e++)if(null===(0,r[e])(t))return;this._routes.notify(t),this._breakdowns.notify(t)},kt);function kt(t){this._notifier=t,this._routes=new gt(t._opt),this._breakdowns=new bt(t._opt)}var St=(Nt.prototype.start=function(t){var e=new ct(t),r=this._notifier.scope().clone();return r.setContext({queue:t}),r.setQueueMetric(e),this._notifier.setActiveScope(r),e},Nt.prototype.notify=function(t){t.end(),this._queues.notify(t)},Nt);function Nt(t){this._notifier=t,this._queues=new ft(t._opt)}function At(t){return window.navigator&&window.navigator.userAgent&&(t.context.userAgent=window.navigator.userAgent),window.location&&(t.context.url=String(window.location),t.context.rootDirectory=window.location.protocol+"//"+window.location.host),t}var Dt=["debug","log","info","warn","error"];function Lt(o){for(var t=function(r){if(!(r in console))return"continue";function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.apply(console,t),o.scope().pushHistory({type:"log",severity:r,arguments:t})}var n=console[r];t.inner=n,console[r]=t},e=0,r=Dt;e<r.length;e++){t(r[e])}}var Pt=["type","name","src"];function Rt(t){var e=function(n){return function(t){var e=Ct(t,"target");if(e){var r={type:t.type};try{r.target=function(t){var e=[],r=t;for(;r;){var n=qt(r);if(""!==n&&(e.push(n),10<e.length))break;r=r.parentNode}return 0!==e.length?e.reverse().join(" > "):String(t)}(e)}catch(t){r.target="<"+String(t)+">"}n.scope().pushHistory(r)}}}(t);window.addEventListener&&(window.addEventListener("load",e),window.addEventListener("error",function(t){Ct(t,"error")||e(t)},!0)),"object"==typeof document&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",e),document.addEventListener("keypress",e))}function qt(t){if(!t)return"";var e=[];if(t.tagName&&e.push(t.tagName.toLowerCase()),t.id&&(e.push("#"),e.push(t.id)),t.classList&&Array.from)e.push("."),e.push(Array.from(t.classList).join("."));else if(t.className){var r=function(t){if(t.split)return t.split(" ").join(".");if(t.baseVal&&t.baseVal.split)return t.baseVal.split(" ").join(".");return console.error("unsupported HTMLElement.className type",typeof t),""}(t.className);""!==r&&(e.push("."),e.push(r))}if(t.getAttribute)for(var n=0,o=Pt;n<o.length;n++){var i=o[n],s=t.getAttribute(i);s&&e.push("["+i+'="'+s+'"]')}return e.join("")}function Ct(t,e){try{return t[e]}catch(t){return null}}var Bt="";function Ft(){return document.location&&document.location.pathname}function Mt(t,e){var r=e.indexOf("://");0<=r?e=0<=(r=(e=e.slice(r+3)).indexOf("/"))?e.slice(r):"/":"/"!==e.charAt(0)&&(e="/"+e),t.scope().pushHistory({type:"location",from:Bt,to:e}),Bt=e}function It(i){var s=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,e,r,n,o){0===i._ignoreNextXHR&&(this.__state={type:"xhr",method:t,url:e}),s.apply(this,arguments)};var r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){var e=this.onreadystatechange;return this.onreadystatechange=function(t){if(4===this.readyState&&this.__state&&function(t){var e=t.__state;e.statusCode=t.status,e.duration=(new Date).getTime()-e.date.getTime(),i.scope().pushHistory(e)}(this),e)return e.apply(this,arguments)},this.__state&&(this.__state.date=new Date),r.apply(this,arguments)}}var Ut,Ht,Jt=((Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(Gt,Ht=jt),Gt.prototype._instrument=function(t){if(void 0===t&&(t={}),t.console=!function(t){return t&&t.startsWith&&t.startsWith("dev")}(this._opt.environment),$t(t.onerror)){var e=this,r=window.onerror;window.onerror=function(){r&&r.apply(this,arguments),e.onerror.apply(e,arguments)}}Rt(this),$t(t.fetch)&&"function"==typeof fetch&&function(n){var o=window.fetch;window.fetch=function(t,e){var r={type:"xhr",date:new Date};return r.method=e&&e.method?e.method:"GET","string"==typeof t?r.url=t:(r.method=t.method,r.url=t.url),n._ignoreNextXHR++,setTimeout(function(){return n._ignoreNextXHR--}),o.apply(this,arguments).then(function(t){return r.statusCode=t.status,r.duration=(new Date).getTime()-r.date.getTime(),n.scope().pushHistory(r),t}).catch(function(t){throw r.error=t,r.duration=(new Date).getTime()-r.date.getTime(),n.scope().pushHistory(r),t})}}(this),$t(t.history)&&"object"==typeof history&&function(n){Bt=Ft();var r=window.onpopstate;window.onpopstate=function(t){var e=Ft();if(e&&Mt(n,e),r)return r.apply(this,arguments)};var o=history.pushState;history.pushState=function(t,e,r){r&&Mt(n,r.toString()),o.apply(this,arguments)}}(this),$t(t.console)&&"object"==typeof console&&Lt(this),$t(t.xhr)&&"undefined"!=typeof XMLHttpRequest&&It(this)},Gt.prototype.notify=function(n){var o=this;return this.offline?new s(function(t,e){for(o.todo.push({err:n,resolve:t,reject:e});100<o.todo.length;){var r=o.todo.shift();if(void 0===r)break;r.resolve({error:new Error("airbrake: offline queue is too large")})}}):Ht.prototype.notify.call(this,n)},Gt.prototype.onOnline=function(){this.offline=!1;for(var t=function(e){r.notify(e.err).then(function(t){e.resolve(t)})},r=this,e=0,n=this.todo;e<n.length;e++)t(n[e]);this.todo=[]},Gt.prototype.onOffline=function(){this.offline=!0},Gt.prototype.onUnhandledrejection=function(t){var e=t.reason||t.detail&&t.detail.reason;if(e){var r=e.message||String(e);r.indexOf&&0===r.indexOf("airbrake: ")||this.notify(e)}},Gt.prototype.onerror=function(t,e,r,n,o){0<this._ignoreWindowError||(o?this.notify({error:o,context:{windowError:!0}}):e&&r&&this.notify({error:{message:t,fileName:e,lineNumber:r,columnNumber:n,noStack:!0},context:{windowError:!0}}))},Gt.prototype._ignoreNextWindowError=function(){var t=this;this._ignoreWindowError++,setTimeout(function(){return t._ignoreWindowError--})},Gt);function Gt(t){var e=Ht.call(this,t)||this;return e.offline=!1,e.todo=[],e._ignoreWindowError=0,e._ignoreNextXHR=0,"undefined"==typeof window||(e.addFilter(At),window.addEventListener&&(e.onOnline=e.onOnline.bind(e),window.addEventListener("online",e.onOnline),e.onOffline=e.onOffline.bind(e),window.addEventListener("offline",e.onOffline),e.onUnhandledrejection=e.onUnhandledrejection.bind(e),window.addEventListener("unhandledrejection",e.onUnhandledrejection),e._onClose.push(function(){window.removeEventListener("online",e.onOnline),window.removeEventListener("offline",e.onOffline),window.removeEventListener("unhandledrejection",e.onUnhandledrejection)})),e._opt.ignoreWindowError&&(t.instrumentation.onerror=!1),e._instrument(t.instrumentation)),e}function $t(t){return void 0===t||!0===t}function Wt(t,e){return t.some(function(t){return-1<e.indexOf(t)})}var Xt={messages:["null is not an object (evaluating 'elt.parentNode')","DealPly is not defined","Object doesn't support property or method 'engn'","Cannot read property 'campaign' of undefined","network error","NetworkError","Extension context invalidated","Failed to execute"],urls:["C:/","D:/","E:/","F:/","G:/","H:/","I:/","W:/","U:/","Y:/","Z:/","/Users/","/Desktop/","/Documents/","https://link.springer.xilesou.top","chrome-extension"],backtraces:["chrome-extension"]};new Jt({projectId:131537,projectKey:"8e58e2dfb7e36260114f620c9adcadcb",environment:function(){var t=window.dataLayer[0];if(t){var e="Production";if(t.page&&t.page.attributes&&t.page.attributes){var r=t.page.attributes.environment;r&&"live"!==r&&(e="Test")}return e}}()}).addFilter(function(t){return function(e){var n=!1;return Xt.urls.some(function(t){return-1<e.context.url.indexOf(t)})&&(n=!0),n||e.errors.forEach(function(t){var e=Wt(Xt.messages,t.message),r=!1;t.backtrace.forEach(function(t){Wt(Xt.backtraces,t.file)&&(r=!0)}),(e||r)&&(n=!0)}),!0===n}(t)?null:(t.context.rev="js/airbrake-es6-bundle-b37d14bd75.js",t.context.buildDateTime="Wed Jul 08 2020 10:36:35 GMT+0000 (Coordinated Universal Time)",t)})}();

//# sourceMappingURL=airbrake-es5-bundle-906ba34f6e.js.map
